<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>bothack: nethack/win/gnome/gnmenu.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bothack
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_557a50db675c42016abe0c17f9936298.html">nethack</a></li><li class="navelem"><a class="el" href="dir_7ced43967c268d7a7a2024d4594c4717.html">win</a></li><li class="navelem"><a class="el" href="dir_520c59cb14187baa228f64e60375574c.html">gnome</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gnmenu.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;gnome.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="global_8h_source.html">global.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="gnomeprv_8h_source.html">gnomeprv.h</a>&quot;</code><br/>
</div>
<p><a href="gnmenu_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__GHackMenuItem.html">_GHackMenuItem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5aee78679438df8790d0aa806363ded0"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__GHackMenuItem.html">_GHackMenuItem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnmenu_8h.html#a5aee78679438df8790d0aa806363ded0">GHackMenuItem</a></td></tr>
<tr class="separator:a5aee78679438df8790d0aa806363ded0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab66946ab422888fce0f0c9fb3670b335"><td class="memItemLeft" align="right" valign="top">GtkWidget *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnmenu_8h.html#ab66946ab422888fce0f0c9fb3670b335">ghack_init_menu_window</a> (void)</td></tr>
<tr class="separator:ab66946ab422888fce0f0c9fb3670b335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adae68cf5b7a99ed2a8da9823f741e84c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnmenu_8h.html#adae68cf5b7a99ed2a8da9823f741e84c">ghack_menu_window_select_menu</a> (GtkWidget *menuWin, <a class="el" href="wintype_8h.html#a56b56557611b7f64f4e6585a1b78c8f9">MENU_ITEM_P</a> **_selected, gint how)</td></tr>
<tr class="separator:adae68cf5b7a99ed2a8da9823f741e84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af55fb0471f01d81db97a6743d96f49cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gnmenu_8h.html#af55fb0471f01d81db97a6743d96f49cd">ghack_menu_ext_cmd</a> (void)</td></tr>
<tr class="separator:af55fb0471f01d81db97a6743d96f49cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a5aee78679438df8790d0aa806363ded0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__GHackMenuItem.html">_GHackMenuItem</a> <a class="el" href="gnmenu_8h.html#a5aee78679438df8790d0aa806363ded0">GHackMenuItem</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="gnmenu_8h_source.html#l00026">26</a> of file <a class="el" href="gnmenu_8h_source.html">gnmenu.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab66946ab422888fce0f0c9fb3670b335"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GtkWidget* ghack_init_menu_window </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="gnmenu_8c_source.html#l00576">576</a> of file <a class="el" href="gnmenu_8c_source.html">gnmenu.c</a>.</p>

<p>References <a class="el" href="gnmain_8c_source.html#l00836">ghack_get_main_window()</a>, <a class="el" href="gnmenu_8c_source.html#l00520">ghack_menu_destroy()</a>, <a class="el" href="gnmenu_8c_source.html#l00152">ghack_menu_hide()</a>, <a class="el" href="gnmenu_8c_source.html#l00274">ghack_menu_window_add_menu()</a>, <a class="el" href="gnmenu_8c_source.html#l00091">ghack_menu_window_clear()</a>, <a class="el" href="gnmenu_8c_source.html#l00138">ghack_menu_window_display()</a>, <a class="el" href="gnmenu_8c_source.html#l00459">ghack_menu_window_end_menu()</a>, <a class="el" href="gnmenu_8c_source.html#l00037">ghack_menu_window_key()</a>, <a class="el" href="gnmenu_8c_source.html#l00473">ghack_menu_window_put_string()</a>, <a class="el" href="gnmenu_8c_source.html#l00211">ghack_menu_window_select_menu()</a>, <a class="el" href="gnmenu_8c_source.html#l00160">ghack_menu_window_start_menu()</a>, and <a class="el" href="windefs_8h_source.html#l00131">NULL</a>.</p>

<p>Referenced by <a class="el" href="gnbind_8c_source.html#l00419">gnome_create_nhwindow_by_id()</a>.</p>
<div class="fragment"><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;{</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    GtkWidget *menuWin = <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    GtkWidget *parent = <a class="code" href="gnmain_8c.html#a103200f2f57b9258dfa18159191ea650">ghack_get_main_window</a> ();</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    menuWin = gnome_dialog_new(<span class="stringliteral">&quot;GnomeHack&quot;</span>, GNOME_STOCK_BUTTON_OK, </div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            GNOME_STOCK_BUTTON_CANCEL, <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    </div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    gnome_dialog_set_default( GNOME_DIALOG(menuWin), 0);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;destroy&quot;</span>,</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#a8cf6f7bb40a67afab5ca00ae44fed56a">ghack_menu_destroy</a>),</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    gtk_signal_connect (GTK_OBJECT (menuWin), <span class="stringliteral">&quot;delete_event&quot;</span>,</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            GTK_SIGNAL_FUNC (<a class="code" href="gnmenu_8c.html#aed91f6a5b091ea3c830fd07fc56e7c7e">ghack_menu_hide</a>),</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;          </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;ghack_clear&quot;</span>,</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;            GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#a0fba62bb73f3f7ea3977c07f1e69cf5d">ghack_menu_window_clear</a>),</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;            <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;ghack_display&quot;</span>,</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;                       GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#a922cfcfbcff01189d8c0a65a7176ae67">ghack_menu_window_display</a>),</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                       <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;ghack_start_menu&quot;</span>,</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                       GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#acd7828ea775c2382417cd6973d4acbdd">ghack_menu_window_start_menu</a>),</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                       <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;ghack_add_menu&quot;</span>,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                       GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#ad19a7a944e97cef3323bf8a31b3d0072">ghack_menu_window_add_menu</a>),</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                       <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;ghack_end_menu&quot;</span>,</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                       GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#a6c2d4defda60c1486bd901bfcda5ede1">ghack_menu_window_end_menu</a>),</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;                       <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;ghack_select_menu&quot;</span>,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                       GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#adae68cf5b7a99ed2a8da9823f741e84c">ghack_menu_window_select_menu</a>),</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;                       <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;ghack_putstr&quot;</span>,</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;                       GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#a7a38dcdd6e1dd1670d352e53536e05eb">ghack_menu_window_put_string</a>),</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                       <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    gtk_signal_connect(GTK_OBJECT(menuWin), <span class="stringliteral">&quot;key_press_event&quot;</span>,</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                       GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#aae897ed8ef60d7ff902c443777ebb792">ghack_menu_window_key</a>),</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                       <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">/* Center the dialog over parent */</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    g_assert (parent != <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    g_assert (menuWin != <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    g_assert (GTK_IS_WINDOW (parent));</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    g_assert (GNOME_IS_DIALOG (menuWin));</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    gnome_dialog_set_parent (GNOME_DIALOG (menuWin), GTK_WINDOW (parent));</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    </div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">return</span> menuWin;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="ttc" id="gnmenu_8c_html_adae68cf5b7a99ed2a8da9823f741e84c"><div class="ttname"><a href="gnmenu_8c.html#adae68cf5b7a99ed2a8da9823f741e84c">ghack_menu_window_select_menu</a></div><div class="ttdeci">int ghack_menu_window_select_menu(GtkWidget *menuWin, MENU_ITEM_P **_selected, gint how)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00211">gnmenu.c:211</a></div></div>
<div class="ttc" id="gnmenu_8c_html_a7a38dcdd6e1dd1670d352e53536e05eb"><div class="ttname"><a href="gnmenu_8c.html#a7a38dcdd6e1dd1670d352e53536e05eb">ghack_menu_window_put_string</a></div><div class="ttdeci">void ghack_menu_window_put_string(GtkWidget *menuWin, int attr, const char *text, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00473">gnmenu.c:473</a></div></div>
<div class="ttc" id="gnmenu_8c_html_aae897ed8ef60d7ff902c443777ebb792"><div class="ttname"><a href="gnmenu_8c.html#aae897ed8ef60d7ff902c443777ebb792">ghack_menu_window_key</a></div><div class="ttdeci">static void ghack_menu_window_key(GtkWidget *menuWin, GdkEventKey *event, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00037">gnmenu.c:37</a></div></div>
<div class="ttc" id="gnmenu_8c_html_ad19a7a944e97cef3323bf8a31b3d0072"><div class="ttname"><a href="gnmenu_8c.html#ad19a7a944e97cef3323bf8a31b3d0072">ghack_menu_window_add_menu</a></div><div class="ttdeci">void ghack_menu_window_add_menu(GtkWidget *menuWin, gpointer menu_item, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00274">gnmenu.c:274</a></div></div>
<div class="ttc" id="gnmenu_8c_html_a8cf6f7bb40a67afab5ca00ae44fed56a"><div class="ttname"><a href="gnmenu_8c.html#a8cf6f7bb40a67afab5ca00ae44fed56a">ghack_menu_destroy</a></div><div class="ttdeci">void ghack_menu_destroy(GtkWidget *menuWin, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00520">gnmenu.c:520</a></div></div>
<div class="ttc" id="gnmenu_8c_html_a0fba62bb73f3f7ea3977c07f1e69cf5d"><div class="ttname"><a href="gnmenu_8c.html#a0fba62bb73f3f7ea3977c07f1e69cf5d">ghack_menu_window_clear</a></div><div class="ttdeci">void ghack_menu_window_clear(GtkWidget *menuWin, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00091">gnmenu.c:91</a></div></div>
<div class="ttc" id="gnmain_8c_html_a103200f2f57b9258dfa18159191ea650"><div class="ttname"><a href="gnmain_8c.html#a103200f2f57b9258dfa18159191ea650">ghack_get_main_window</a></div><div class="ttdeci">GtkWidget * ghack_get_main_window()</div><div class="ttdef"><b>Definition:</b> <a href="gnmain_8c_source.html#l00836">gnmain.c:836</a></div></div>
<div class="ttc" id="gnmenu_8c_html_acd7828ea775c2382417cd6973d4acbdd"><div class="ttname"><a href="gnmenu_8c.html#acd7828ea775c2382417cd6973d4acbdd">ghack_menu_window_start_menu</a></div><div class="ttdeci">void ghack_menu_window_start_menu(GtkWidget *menuWin, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00160">gnmenu.c:160</a></div></div>
<div class="ttc" id="gnmenu_8c_html_a922cfcfbcff01189d8c0a65a7176ae67"><div class="ttname"><a href="gnmenu_8c.html#a922cfcfbcff01189d8c0a65a7176ae67">ghack_menu_window_display</a></div><div class="ttdeci">void ghack_menu_window_display(GtkWidget *menuWin, gboolean blocking, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00138">gnmenu.c:138</a></div></div>
<div class="ttc" id="gnmenu_8c_html_aed91f6a5b091ea3c830fd07fc56e7c7e"><div class="ttname"><a href="gnmenu_8c.html#aed91f6a5b091ea3c830fd07fc56e7c7e">ghack_menu_hide</a></div><div class="ttdeci">gint ghack_menu_hide(GtkWidget *menuWin, GdkEvent *event, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00152">gnmenu.c:152</a></div></div>
<div class="ttc" id="gnmenu_8c_html_a6c2d4defda60c1486bd901bfcda5ede1"><div class="ttname"><a href="gnmenu_8c.html#a6c2d4defda60c1486bd901bfcda5ede1">ghack_menu_window_end_menu</a></div><div class="ttdeci">void ghack_menu_window_end_menu(GtkWidget *menuWin, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00459">gnmenu.c:459</a></div></div>
<div class="ttc" id="windefs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="windefs_8h_source.html#l00131">windefs.h:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af55fb0471f01d81db97a6743d96f49cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ghack_menu_ext_cmd </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="gnmenu_8c_source.html#l00693">693</a> of file <a class="el" href="gnmenu_8c_source.html">gnmenu.c</a>.</p>

<p>References <a class="el" href="gnmenu_8c_source.html#l00029">extMenu::charIdx</a>, <a class="el" href="gnopts_8c_source.html#l00014">clist</a>, <a class="el" href="gnmenu_8c_source.html#l00027">extMenu::curItem</a>, <a class="el" href="func__tab_8h_source.html#l00016">ext_func_tab::ef_desc</a>, <a class="el" href="func__tab_8h_source.html#l00016">ext_func_tab::ef_txt</a>, <a class="el" href="func__tab_8h.html#af3a00fc8e4e157bae08471bcc66d46d9">extcmdlist</a>, <a class="el" href="global_8h_source.html#l00061">FALSE</a>, <a class="el" href="gnmenu_8c_source.html#l00636">ghack_ext_key_hit()</a>, <a class="el" href="gnmain_8c_source.html#l00836">ghack_get_main_window()</a>, <a class="el" href="gnmenu_8c_source.html#l00084">ghack_menu_row_selected()</a>, <a class="el" href="gnmenu_8c_source.html#l00030">extMenu::lastTime</a>, <a class="el" href="windefs_8h_source.html#l00131">NULL</a>, <a class="el" href="gnmenu_8c_source.html#l00028">extMenu::numRows</a>, and <a class="el" href="global_8h_source.html#l00060">TRUE</a>.</p>

<p>Referenced by <a class="el" href="gnbind_8c_source.html#l01098">gnome_get_ext_cmd()</a>.</p>
<div class="fragment"><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;{</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordtype">int</span> n;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    GtkWidget* dialog;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    GtkWidget* swin;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    GtkWidget* frame1;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    GtkWidget* <a class="code" href="gnopts_8c.html#aaacfa1e004c6c39fcee7664eb1b0ae9d">clist</a>;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <a class="code" href="structextMenu.html">extMenu</a> info;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    dialog = gnome_dialog_new(<span class="stringliteral">&quot;Extended Commands&quot;</span>,</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;                  GNOME_STOCK_BUTTON_OK,</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                  GNOME_STOCK_BUTTON_CANCEL,</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                  <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    gnome_dialog_close_hides(GNOME_DIALOG(dialog), <a class="code" href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    gtk_signal_connect(GTK_OBJECT(dialog), <span class="stringliteral">&quot;key_press_event&quot;</span>,</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;               GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#aa368f6ca667ccacbfb06ac5f98aa2821">ghack_ext_key_hit</a>), &amp;info);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    frame1 = gtk_frame_new(<span class="stringliteral">&quot;Make your selection&quot;</span>);</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    gtk_object_set_data(GTK_OBJECT(dialog), <span class="stringliteral">&quot;frame1&quot;</span>, frame1);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    gtk_widget_show(frame1);</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    gtk_container_border_width(GTK_CONTAINER(frame1), 3);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    swin = gtk_scrolled_window_new(<a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    clist = gtk_clist_new(2);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    gtk_object_set_data(GTK_OBJECT(dialog), <span class="stringliteral">&quot;clist&quot;</span>, clist);</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    gtk_widget_set_usize(clist, 500, 400);</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    gtk_container_add(GTK_CONTAINER(swin), clist);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(swin),</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                   GTK_POLICY_AUTOMATIC, GTK_POLICY_AUTOMATIC);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    gtk_signal_connect(GTK_OBJECT(clist), <span class="stringliteral">&quot;select_row&quot;</span>,</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;               GTK_SIGNAL_FUNC(<a class="code" href="gnmenu_8c.html#a26babfcc4b66e690814fcbdeab70d41c">ghack_menu_row_selected</a>), <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    gtk_container_add(GTK_CONTAINER(frame1), swin);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    gtk_box_pack_start_defaults(GTK_BOX(GNOME_DIALOG(dialog)-&gt;vbox), frame1);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">/* Add the extended commands into the list here... */</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">for</span> (n = 0; <a class="code" href="func__tab_8h.html#af3a00fc8e4e157bae08471bcc66d46d9">extcmdlist</a>[n].<a class="code" href="structext__func__tab.html#a1c6b81a9ba3a70826ea2f1c2eacc089e">ef_txt</a>; ++n) {</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *text[3]={<a class="code" href="func__tab_8h.html#af3a00fc8e4e157bae08471bcc66d46d9">extcmdlist</a>[n].<a class="code" href="structext__func__tab.html#a1c6b81a9ba3a70826ea2f1c2eacc089e">ef_txt</a>,<a class="code" href="func__tab_8h.html#af3a00fc8e4e157bae08471bcc66d46d9">extcmdlist</a>[n].<a class="code" href="structext__func__tab.html#ae97246b7cf51ab18cd3b612c05e2b7c1">ef_desc</a>,<a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>};</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    gtk_clist_insert(GTK_CLIST(clist), n, (<span class="keywordtype">char</span>**) text);</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="comment">/* fill in starting info fields */</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    info.<a class="code" href="structextMenu.html#aaa686aca39f89627044b163edf1db00e">curItem</a> = -1;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    info.<a class="code" href="structextMenu.html#ac90ebf8746d53b094060b505a0c4dc4b">numRows</a> = n;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    info.<a class="code" href="structextMenu.html#a56587827e174f902da38f5569e8b9c25">charIdx</a> = 0;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    info.<a class="code" href="structextMenu.html#a66b8a9fd7a18cf439b0a82d0712d540c">lastTime</a> = 0;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    gtk_clist_columns_autosize(GTK_CLIST(clist));</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    gtk_widget_show_all(swin);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">/* Center the dialog over over parent */</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    gnome_dialog_set_default(GNOME_DIALOG(dialog), 0);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    gtk_window_set_modal(GTK_WINDOW(dialog), <a class="code" href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    gnome_dialog_set_parent(GNOME_DIALOG(dialog),</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                GTK_WINDOW(<a class="code" href="gnmain_8c.html#a103200f2f57b9258dfa18159191ea650">ghack_get_main_window</a>()));</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">/* Run the dialog -- returning whichever button was pressed */</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    n = gnome_dialog_run_and_close(GNOME_DIALOG(dialog));</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">/* Quit on button 2 or error */</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="keywordflow">return</span> (n != 0) ? -1 : info.<a class="code" href="structextMenu.html#aaa686aca39f89627044b163edf1db00e">curItem</a>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;}</div>
<div class="ttc" id="gnopts_8c_html_aaacfa1e004c6c39fcee7664eb1b0ae9d"><div class="ttname"><a href="gnopts_8c.html#aaacfa1e004c6c39fcee7664eb1b0ae9d">clist</a></div><div class="ttdeci">static GtkWidget * clist</div><div class="ttdef"><b>Definition:</b> <a href="gnopts_8c_source.html#l00014">gnopts.c:14</a></div></div>
<div class="ttc" id="structextMenu_html_a56587827e174f902da38f5569e8b9c25"><div class="ttname"><a href="structextMenu.html#a56587827e174f902da38f5569e8b9c25">extMenu::charIdx</a></div><div class="ttdeci">int charIdx</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00029">gnmenu.c:29</a></div></div>
<div class="ttc" id="global_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00060">global.h:60</a></div></div>
<div class="ttc" id="gnmain_8c_html_a103200f2f57b9258dfa18159191ea650"><div class="ttname"><a href="gnmain_8c.html#a103200f2f57b9258dfa18159191ea650">ghack_get_main_window</a></div><div class="ttdeci">GtkWidget * ghack_get_main_window()</div><div class="ttdef"><b>Definition:</b> <a href="gnmain_8c_source.html#l00836">gnmain.c:836</a></div></div>
<div class="ttc" id="gnmenu_8c_html_aa368f6ca667ccacbfb06ac5f98aa2821"><div class="ttname"><a href="gnmenu_8c.html#aa368f6ca667ccacbfb06ac5f98aa2821">ghack_ext_key_hit</a></div><div class="ttdeci">static void ghack_ext_key_hit(GtkWidget *menuWin, GdkEventKey *event, gpointer data)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00636">gnmenu.c:636</a></div></div>
<div class="ttc" id="func__tab_8h_html_af3a00fc8e4e157bae08471bcc66d46d9"><div class="ttname"><a href="func__tab_8h.html#af3a00fc8e4e157bae08471bcc66d46d9">extcmdlist</a></div><div class="ttdeci">struct ext_func_tab extcmdlist[]</div></div>
<div class="ttc" id="structextMenu_html"><div class="ttname"><a href="structextMenu.html">extMenu</a></div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00026">gnmenu.c:26</a></div></div>
<div class="ttc" id="structext__func__tab_html_a1c6b81a9ba3a70826ea2f1c2eacc089e"><div class="ttname"><a href="structext__func__tab.html#a1c6b81a9ba3a70826ea2f1c2eacc089e">ext_func_tab::ef_txt</a></div><div class="ttdeci">const char * ef_txt</div><div class="ttdef"><b>Definition:</b> <a href="func__tab_8h_source.html#l00016">func_tab.h:16</a></div></div>
<div class="ttc" id="global_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00061">global.h:61</a></div></div>
<div class="ttc" id="structextMenu_html_aaa686aca39f89627044b163edf1db00e"><div class="ttname"><a href="structextMenu.html#aaa686aca39f89627044b163edf1db00e">extMenu::curItem</a></div><div class="ttdeci">int curItem</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00027">gnmenu.c:27</a></div></div>
<div class="ttc" id="structext__func__tab_html_ae97246b7cf51ab18cd3b612c05e2b7c1"><div class="ttname"><a href="structext__func__tab.html#ae97246b7cf51ab18cd3b612c05e2b7c1">ext_func_tab::ef_desc</a></div><div class="ttdeci">const char * ef_desc</div><div class="ttdef"><b>Definition:</b> <a href="func__tab_8h_source.html#l00016">func_tab.h:16</a></div></div>
<div class="ttc" id="windefs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="windefs_8h_source.html#l00131">windefs.h:131</a></div></div>
<div class="ttc" id="structextMenu_html_a66b8a9fd7a18cf439b0a82d0712d540c"><div class="ttname"><a href="structextMenu.html#a66b8a9fd7a18cf439b0a82d0712d540c">extMenu::lastTime</a></div><div class="ttdeci">guint32 lastTime</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00030">gnmenu.c:30</a></div></div>
<div class="ttc" id="gnmenu_8c_html_a26babfcc4b66e690814fcbdeab70d41c"><div class="ttname"><a href="gnmenu_8c.html#a26babfcc4b66e690814fcbdeab70d41c">ghack_menu_row_selected</a></div><div class="ttdeci">static void ghack_menu_row_selected(GtkCList *clist, int row, int col, GdkEvent *event)</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00084">gnmenu.c:84</a></div></div>
<div class="ttc" id="structextMenu_html_ac90ebf8746d53b094060b505a0c4dc4b"><div class="ttname"><a href="structextMenu.html#ac90ebf8746d53b094060b505a0c4dc4b">extMenu::numRows</a></div><div class="ttdeci">int numRows</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00028">gnmenu.c:28</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adae68cf5b7a99ed2a8da9823f741e84c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ghack_menu_window_select_menu </td>
          <td>(</td>
          <td class="paramtype">GtkWidget *&#160;</td>
          <td class="paramname"><em>menuWin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="wintype_8h.html#a56b56557611b7f64f4e6585a1b78c8f9">MENU_ITEM_P</a> **&#160;</td>
          <td class="paramname"><em>_selected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&#160;</td>
          <td class="paramname"><em>how</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="gnmenu_8c_source.html#l00211">211</a> of file <a class="el" href="gnmenu_8c_source.html">gnmenu.c</a>.</p>

<p>References <a class="el" href="gnopts_8c_source.html#l00014">clist</a>, <a class="el" href="gnmenu_8c_source.html#l00020">menuItem::identifier</a>, <a class="el" href="wintype_8h_source.html#l00027">MENU_ITEM_P</a>, <a class="el" href="windefs_8h_source.html#l00131">NULL</a>, <a class="el" href="wintype_8h_source.html#l00032">PICK_ANY</a>, <a class="el" href="wintype_8h_source.html#l00030">PICK_NONE</a>, and <a class="el" href="global_8h_source.html#l00060">TRUE</a>.</p>

<p>Referenced by <a class="el" href="gnmenu_8c_source.html#l00576">ghack_init_menu_window()</a>, and <a class="el" href="gnbind_8c_source.html#l00783">gnome_select_menu()</a>.</p>
<div class="fragment"><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;{</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   gint rc;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   guint num_sel, i, idx;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   GtkWidget *<a class="code" href="gnopts_8c.html#aaacfa1e004c6c39fcee7664eb1b0ae9d">clist</a>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   GList *cur;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   <a class="code" href="wintype_8h.html#a56b56557611b7f64f4e6585a1b78c8f9">MENU_ITEM_P</a> *selected = <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   <a class="code" href="structmenuItem.html">menuItem</a>*    item;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   g_assert (_selected != <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   *_selected = <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   <span class="keywordflow">if</span> (how == <a class="code" href="wintype_8h.html#a9e3d317126c3eacb6311e15fedaf717c">PICK_NONE</a>) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;     gnome_dialog_close_hides (GNOME_DIALOG (menuWin), <a class="code" href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;     rc = gnome_dialog_run_and_close (GNOME_DIALOG (menuWin));</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;     <span class="keywordflow">return</span>( rc == 1 ? -1 : 0);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   clist = GTK_WIDGET (gtk_object_get_data (GTK_OBJECT (menuWin), <span class="stringliteral">&quot;clist&quot;</span>));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;   g_assert (clist != <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;   gtk_object_set_data (GTK_OBJECT (clist), <span class="stringliteral">&quot;selection_mode&quot;</span>,</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                   GINT_TO_POINTER ((how == <a class="code" href="wintype_8h.html#a2bd6d317ee7338c416301da3d054dd9f">PICK_ANY</a>)? </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;               GTK_SELECTION_MULTIPLE : GTK_SELECTION_SINGLE));</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   gtk_clist_set_selection_mode (GTK_CLIST (clist), </div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;       (how == <a class="code" href="wintype_8h.html#a2bd6d317ee7338c416301da3d054dd9f">PICK_ANY</a>)? GTK_SELECTION_MULTIPLE : GTK_SELECTION_SINGLE);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   gnome_dialog_close_hides (GNOME_DIALOG (menuWin), <a class="code" href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;   rc = gnome_dialog_run_and_close (GNOME_DIALOG (menuWin));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   <span class="keywordflow">if</span> ((rc == 1) || (GTK_CLIST (clist)-&gt;selection == <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;     <span class="keywordflow">return</span>(-1);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   }</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   num_sel = g_list_length (GTK_CLIST (clist)-&gt;selection);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;   <span class="keywordflow">if</span> (num_sel &lt; 1) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;     <span class="keywordflow">return</span>(-1);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;   }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;   <span class="comment">/* fill in array with selections from clist */</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   selected =  g_new0( <a class="code" href="wintype_8h.html#a56b56557611b7f64f4e6585a1b78c8f9">MENU_ITEM_P</a>, num_sel);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;   g_assert (selected != <a class="code" href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   cur = GTK_CLIST (clist)-&gt;selection;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;   i = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   <span class="keywordflow">while</span> (cur) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;     g_assert (i &lt; num_sel);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;     <span class="comment">/* grab row number from clist selection list */</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;     idx = GPOINTER_TO_INT (cur-&gt;data);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;     item = (<a class="code" href="structmenuItem.html">menuItem</a>*) gtk_clist_get_row_data( GTK_CLIST (clist), idx);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;     selected[i].item = item-&gt;<a class="code" href="structmenuItem.html#a51df9eca851d9d5801f6e7a8088016d6">identifier</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;     selected[i].count = -1;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;     cur = g_list_next(cur);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;     i++;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   *_selected = selected;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">return</span>( (<span class="keywordtype">int</span>) num_sel);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}    </div>
<div class="ttc" id="wintype_8h_html_a2bd6d317ee7338c416301da3d054dd9f"><div class="ttname"><a href="wintype_8h.html#a2bd6d317ee7338c416301da3d054dd9f">PICK_ANY</a></div><div class="ttdeci">#define PICK_ANY</div><div class="ttdef"><b>Definition:</b> <a href="wintype_8h_source.html#l00032">wintype.h:32</a></div></div>
<div class="ttc" id="wintype_8h_html_a9e3d317126c3eacb6311e15fedaf717c"><div class="ttname"><a href="wintype_8h.html#a9e3d317126c3eacb6311e15fedaf717c">PICK_NONE</a></div><div class="ttdeci">#define PICK_NONE</div><div class="ttdef"><b>Definition:</b> <a href="wintype_8h_source.html#l00030">wintype.h:30</a></div></div>
<div class="ttc" id="gnopts_8c_html_aaacfa1e004c6c39fcee7664eb1b0ae9d"><div class="ttname"><a href="gnopts_8c.html#aaacfa1e004c6c39fcee7664eb1b0ae9d">clist</a></div><div class="ttdeci">static GtkWidget * clist</div><div class="ttdef"><b>Definition:</b> <a href="gnopts_8c_source.html#l00014">gnopts.c:14</a></div></div>
<div class="ttc" id="global_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00060">global.h:60</a></div></div>
<div class="ttc" id="wintype_8h_html_a56b56557611b7f64f4e6585a1b78c8f9"><div class="ttname"><a href="wintype_8h.html#a56b56557611b7f64f4e6585a1b78c8f9">MENU_ITEM_P</a></div><div class="ttdeci">#define MENU_ITEM_P</div><div class="ttdef"><b>Definition:</b> <a href="wintype_8h_source.html#l00027">wintype.h:27</a></div></div>
<div class="ttc" id="structmenuItem_html_a51df9eca851d9d5801f6e7a8088016d6"><div class="ttname"><a href="structmenuItem.html#a51df9eca851d9d5801f6e7a8088016d6">menuItem::identifier</a></div><div class="ttdeci">ANY_P identifier</div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00020">gnmenu.c:20</a></div></div>
<div class="ttc" id="structmenuItem_html"><div class="ttname"><a href="structmenuItem.html">menuItem</a></div><div class="ttdef"><b>Definition:</b> <a href="gnmenu_8c_source.html#l00019">gnmenu.c:19</a></div></div>
<div class="ttc" id="windefs_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="windefs_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="windefs_8h_source.html#l00131">windefs.h:131</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 5 2014 18:11:55 for bothack by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
