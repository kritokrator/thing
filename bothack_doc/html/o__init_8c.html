<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>bothack: nethack/src/o_init.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bothack
   &#160;<span id="projectnumber">0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_557a50db675c42016abe0c17f9936298.html">nethack</a></li><li class="navelem"><a class="el" href="dir_d8c2cd034c87ed46f7d2aa67083eedb4.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">o_init.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="hack_8h_source.html">hack.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="lev_8h_source.html">lev.h</a>&quot;</code><br/>
</div>
<p><a href="o__init_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa524dfeaf01fe85d285b82ca79925448"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a>(o_dst, o_src)&#160;&#160;&#160;o_dst.oc_descr_idx = o_src.oc_descr_idx</td></tr>
<tr class="separator:aa524dfeaf01fe85d285b82ca79925448"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a258d73b38a2c332d22f445d07b3a4dd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#a258d73b38a2c332d22f445d07b3a4dd7">FDECL</a> (<a class="el" href="o__init_8c.html#ae0cad4a407386545a7f08a0bf8f7aabc">setgemprobs</a>,(<a class="el" href="structd__level.html">d_level</a> *))</td></tr>
<tr class="separator:a258d73b38a2c332d22f445d07b3a4dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70256784553c5c848753b46a99791b20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#a70256784553c5c848753b46a99791b20">FDECL</a> (<a class="el" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a>,(int, int, <a class="el" href="wingem1_8c.html#aa2723cc3af18a5199ab4ce7cca84d82b">BOOLEAN_P</a>))</td></tr>
<tr class="separator:a70256784553c5c848753b46a99791b20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3e42bd8eb1ca0b5f810fee73951226d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#ae3e42bd8eb1ca0b5f810fee73951226d">NDECL</a> (<a class="el" href="o__init_8c.html#afa72877a8cccbee09fd0aa3b5536f8c6">shuffle_all</a>)</td></tr>
<tr class="separator:ae3e42bd8eb1ca0b5f810fee73951226d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0620c108eb3a7c3076c89a1397398f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> <a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#ae0620c108eb3a7c3076c89a1397398f1">FDECL</a> (<a class="el" href="o__init_8c.html#ac0ca3f9718fe40a62906cda6a2f73fc7">interesting_to_discover</a>,(int))</td></tr>
<tr class="separator:ae0620c108eb3a7c3076c89a1397398f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0cad4a407386545a7f08a0bf8f7aabc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#ae0cad4a407386545a7f08a0bf8f7aabc">setgemprobs</a> (<a class="el" href="structd__level.html">d_level</a> *dlev)</td></tr>
<tr class="separator:ae0cad4a407386545a7f08a0bf8f7aabc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eec227a492608baee9f1c80704b635c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a> (int o_low, int o_high, <a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a> domaterial)</td></tr>
<tr class="separator:a1eec227a492608baee9f1c80704b635c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaa33f79f89e4dacede48efcc3bd950a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#acaa33f79f89e4dacede48efcc3bd950a">init_objects</a> ()</td></tr>
<tr class="separator:acaa33f79f89e4dacede48efcc3bd950a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa72877a8cccbee09fd0aa3b5536f8c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#afa72877a8cccbee09fd0aa3b5536f8c6">shuffle_all</a> ()</td></tr>
<tr class="separator:afa72877a8cccbee09fd0aa3b5536f8c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86d1a5ed7534420dedbb79b6fe8a20f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#ad86d1a5ed7534420dedbb79b6fe8a20f">find_skates</a> ()</td></tr>
<tr class="separator:ad86d1a5ed7534420dedbb79b6fe8a20f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a524e90921ab3f612ad9dac64f743c2c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#a524e90921ab3f612ad9dac64f743c2c2">oinit</a> ()</td></tr>
<tr class="separator:a524e90921ab3f612ad9dac64f743c2c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf5509243a1e3ffc44ba1e46a5b635c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#acf5509243a1e3ffc44ba1e46a5b635c7">savenames</a> (int fd, int mode)</td></tr>
<tr class="separator:acf5509243a1e3ffc44ba1e46a5b635c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbde51c65ac8cdf07f79c3cb648cf70e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#abbde51c65ac8cdf07f79c3cb648cf70e">restnames</a> (int fd)</td></tr>
<tr class="separator:abbde51c65ac8cdf07f79c3cb648cf70e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f0f34a74cad20535d58823ed431b447"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#a0f0f34a74cad20535d58823ed431b447">discover_object</a> (int oindx, <a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a> mark_as_known, <a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a> credit_hero)</td></tr>
<tr class="separator:a0f0f34a74cad20535d58823ed431b447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ce075c694df477bd0ea03fdc053da8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#ac1ce075c694df477bd0ea03fdc053da8">undiscover_object</a> (int oindx)</td></tr>
<tr class="separator:ac1ce075c694df477bd0ea03fdc053da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ca3f9718fe40a62906cda6a2f73fc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> <a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#ac0ca3f9718fe40a62906cda6a2f73fc7">interesting_to_discover</a> (int i)</td></tr>
<tr class="separator:ac0ca3f9718fe40a62906cda6a2f73fc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7f2bb7b8c94492b4038bf4bf0fcada7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#ae7f2bb7b8c94492b4038bf4bf0fcada7">dodiscovered</a> ()</td></tr>
<tr class="separator:ae7f2bb7b8c94492b4038bf4bf0fcada7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a57a5ccdaa3a977cb82a16d7ec656f220"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="config1_8h.html#a9987bf629301f5fe76ddd96aa2717ca1">NEARDATA</a> short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a> [NUM_OBJECTS] = <a class="el" href="hack_8h.html#a35beee7b0f2f3e294c4a4a69a5f02df4">DUMMY</a></td></tr>
<tr class="separator:a57a5ccdaa3a977cb82a16d7ec656f220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed4a1c28f7f8fc9c1f21046ffe22a118"><td class="memItemLeft" align="right" valign="top">static short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="o__init_8c.html#aed4a1c28f7f8fc9c1f21046ffe22a118">uniq_objs</a> []</td></tr>
<tr class="separator:aed4a1c28f7f8fc9c1f21046ffe22a118"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aa524dfeaf01fe85d285b82ca79925448"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPY_OBJ_DESCR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o_dst, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">o_src&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;o_dst.oc_descr_idx = o_src.oc_descr_idx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="o__init_8c_source.html#l00109">init_objects()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0f0f34a74cad20535d58823ed431b447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void discover_object </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oindx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a>&#160;</td>
          <td class="paramname"><em>mark_as_known</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a>&#160;</td>
          <td class="paramname"><em>credit_hero</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00301">301</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="attrib_8h_source.html#l00012">A_WIS</a>, <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="decl_8h_source.html#l00213">moves</a>, <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <a class="el" href="objclass_8h_source.html#l00092">objclass::oc_class</a>, <a class="el" href="global_8h_source.html#l00060">TRUE</a>, and <a class="el" href="winprocs_8h_source.html#l00096">update_inventory</a>.</p>

<p>Referenced by <a class="el" href="u__init_8c_source.html#l00883">ini_inv()</a>, and <a class="el" href="u__init_8c_source.html#l00496">knows_object()</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[oindx].oc_name_known) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">int</span> dindx, acls = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[oindx].<a class="code" href="structobjclass.html#ae589e91e556e204c84f05597da510559">oc_class</a>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="comment">/* Loop thru disco[] &#39;til we find the target (which may have been</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">       uname&#39;d) or the next open slot; one or the other will be found</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">       before we reach the next class...</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">for</span> (dindx = <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>[acls]; <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx] != 0; dindx++)</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx] == oindx) <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx] = oindx;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">if</span> (mark_as_known) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[oindx].oc_name_known = 1;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">if</span> (credit_hero) exercise(<a class="code" href="attrib_8h.html#a4206d6431732a698ede8a237d5c17142">A_WIS</a>, <a class="code" href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="decl_8h.html#a2ccad6e8fb93740ed50c6d9a8f72ce2f">moves</a> &gt; 1L) <a class="code" href="winprocs_8h.html#a12feb374290012aafc2340c5ba15f7e8">update_inventory</a>();</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    }</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="attrib_8h_html_a4206d6431732a698ede8a237d5c17142"><div class="ttname"><a href="attrib_8h.html#a4206d6431732a698ede8a237d5c17142">A_WIS</a></div><div class="ttdeci">#define A_WIS</div><div class="ttdef"><b>Definition:</b> <a href="attrib_8h_source.html#l00012">attrib.h:12</a></div></div>
<div class="ttc" id="winprocs_8h_html_a12feb374290012aafc2340c5ba15f7e8"><div class="ttname"><a href="winprocs_8h.html#a12feb374290012aafc2340c5ba15f7e8">update_inventory</a></div><div class="ttdeci">#define update_inventory</div><div class="ttdef"><b>Definition:</b> <a href="winprocs_8h_source.html#l00096">winprocs.h:96</a></div></div>
<div class="ttc" id="structobjclass_html_ae589e91e556e204c84f05597da510559"><div class="ttname"><a href="structobjclass.html#ae589e91e556e204c84f05597da510559">objclass::oc_class</a></div><div class="ttdeci">char oc_class</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00092">objclass.h:92</a></div></div>
<div class="ttc" id="global_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00060">global.h:60</a></div></div>
<div class="ttc" id="decl_8h_html_a2ccad6e8fb93740ed50c6d9a8f72ce2f"><div class="ttname"><a href="decl_8h.html#a2ccad6e8fb93740ed50c6d9a8f72ce2f">moves</a></div><div class="ttdeci">E NEARDATA long moves</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00213">decl.h:213</a></div></div>
<div class="ttc" id="o__init_8c_html_a57a5ccdaa3a977cb82a16d7ec656f220"><div class="ttname"><a href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a></div><div class="ttdeci">static NEARDATA short disco[NUM_OBJECTS]</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00014">o_init.c:14</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae7f2bb7b8c94492b4038bf4bf0fcada7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dodiscovered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00368">368</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="xpm2iff_8c_source.html#l00337">buf</a>, <a class="el" href="global_8h_source.html#l00324">BUFSZ</a>, <a class="el" href="winprocs_8h_source.html#l00084">create_nhwindow</a>, <a class="el" href="winprocs_8h_source.html#l00087">destroy_nhwindow</a>, <a class="el" href="winprocs_8h_source.html#l00086">display_nhwindow</a>, <a class="el" href="makedefs_8c_source.html#l01823">eos()</a>, <a class="el" href="global_8h_source.html#l00061">FALSE</a>, <a class="el" href="decl_8c_source.html#l00143">flags</a>, <a class="el" href="decl_8c_source.html#l00144">iflags</a>, <a class="el" href="uudecode_8c_source.html#l00242">index()</a>, <a class="el" href="o__init_8c_source.html#l00351">interesting_to_discover()</a>, <a class="el" href="flag_8h_source.html#l00101">flag::inv_order</a>, <a class="el" href="objclass_8h_source.html#l00142">MAXOCLASSES</a>, <a class="el" href="flag_8h_source.html#l00171">instance_flags::menu_headings</a>, <a class="el" href="wintype_8h_source.html#l00039">NHW_MENU</a>, <a class="el" href="objclass_8h_source.html#l00184">OBJ_NAME</a>, <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <a class="el" href="objclass_8h_source.html#l00092">objclass::oc_class</a>, <a class="el" href="obj_8h_source.html#l00041">obj::oclass</a>, <a class="el" href="winprocs_8h_source.html#l00089">putstr</a>, <a class="el" href="global_8h_source.html#l00123">SIZE</a>, <a class="el" href="global_8h_source.html#l00272">Sprintf</a>, <a class="el" href="global_8h_source.html#l00274">Strcpy</a>, <a class="el" href="global_8h_source.html#l00060">TRUE</a>, and <a class="el" href="objclass_8h_source.html#l00141">VENOM_CLASS</a>.</p>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">int</span> i, dis;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="keywordtype">int</span> ct = 0;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">char</span> *s, oclass, prev_class, classes[<a class="code" href="objclass_8h.html#af51133138bfb718b55aaa7f29711a10a">MAXOCLASSES</a>];</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="wintype_8h.html#adc2de956a3f084b1691cf080e1d1412b">winid</a> tmpwin;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="xpm2iff_8c.html#a6f4b9854141692d23b0d072176044ca6">buf</a>[<a class="code" href="global_8h.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a>];</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    tmpwin = <a class="code" href="winprocs_8h.html#aa13fb35379049d1836397492d10b6b0c">create_nhwindow</a>(<a class="code" href="wintype_8h.html#a60a03e50aaeef35cd7cd3bf6f790791c">NHW_MENU</a>);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="winprocs_8h.html#a2ab348888957358569f859127c0bc474">putstr</a>(tmpwin, 0, <span class="stringliteral">&quot;Discoveries&quot;</span>);</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="winprocs_8h.html#a2ab348888957358569f859127c0bc474">putstr</a>(tmpwin, 0, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">/* gather &quot;unique objects&quot; into a pseudo-class; note that they&#39;ll</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">       also be displayed individually within their regular class */</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">for</span> (i = dis = 0; i &lt; <a class="code" href="global_8h.html#afd2537d19a3cb6556b0f727580ec6ee7">SIZE</a>(<a class="code" href="o__init_8c.html#aed4a1c28f7f8fc9c1f21046ffe22a118">uniq_objs</a>); i++)</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[<a class="code" href="o__init_8c.html#aed4a1c28f7f8fc9c1f21046ffe22a118">uniq_objs</a>[i]].oc_name_known) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="keywordflow">if</span> (!dis++)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="winprocs_8h.html#a2ab348888957358569f859127c0bc474">putstr</a>(tmpwin, <a class="code" href="flag_8h.html#ae9cd54937dcb00432131e49e5e324075">iflags</a>.<a class="code" href="structinstance__flags.html#a1640b6b04fb84038cf353a42d268b9be">menu_headings</a>, <span class="stringliteral">&quot;Unique Items&quot;</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="global_8h.html#aa55ba8f4e3c82fe00035e6b51d6c7dee">Sprintf</a>(buf, <span class="stringliteral">&quot;  %s&quot;</span>, <a class="code" href="objclass_8h.html#aaa71280f2bfe02894ab8c39af548d6ae">OBJ_NAME</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[<a class="code" href="o__init_8c.html#aed4a1c28f7f8fc9c1f21046ffe22a118">uniq_objs</a>[i]]));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="winprocs_8h.html#a2ab348888957358569f859127c0bc474">putstr</a>(tmpwin, 0, buf);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        ++ct;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">/* display any known artifacts as another pseudo-class */</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    ct += disp_artifact_discoveries(tmpwin);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">/* several classes are omitted from packorder; one is of interest here */</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <a class="code" href="global_8h.html#add22f733d1f2c380499f495068e42b7c">Strcpy</a>(classes, <a class="code" href="flag_8h.html#a997133526e0c6bed44ebc0116a48b50a">flags</a>.<a class="code" href="structflag.html#afbbdabb7b1593b8ff0036a5c67ece86f">inv_order</a>);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="uudecode_8c.html#ac82f3cc16110a05458f2b2483236afb7">index</a>(classes, <a class="code" href="objclass_8h.html#a98f2a7a938be98ec0a18109f08491b57">VENOM_CLASS</a>)) {</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    s = <a class="code" href="makedefs_8c.html#a72563303ed4b67f2a7dd9f2d15a01558">eos</a>(classes);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    *s++ = <a class="code" href="objclass_8h.html#a98f2a7a938be98ec0a18109f08491b57">VENOM_CLASS</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    *s = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">for</span> (s = classes; *s; s++) {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    oclass = *s;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    prev_class = oclass + 1;    <span class="comment">/* forced different from oclass */</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">for</span> (i = <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>[(<span class="keywordtype">int</span>)oclass];</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;         i &lt; NUM_OBJECTS &amp;&amp; <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].<a class="code" href="structobjclass.html#ae589e91e556e204c84f05597da510559">oc_class</a> == oclass; i++) {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">if</span> ((dis = <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[i]) &amp;&amp; <a class="code" href="o__init_8c.html#ac0ca3f9718fe40a62906cda6a2f73fc7">interesting_to_discover</a>(dis)) {</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        ct++;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordflow">if</span> (oclass != prev_class) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <a class="code" href="winprocs_8h.html#a2ab348888957358569f859127c0bc474">putstr</a>(tmpwin, <a class="code" href="flag_8h.html#ae9cd54937dcb00432131e49e5e324075">iflags</a>.<a class="code" href="structinstance__flags.html#a1640b6b04fb84038cf353a42d268b9be">menu_headings</a>, let_to_name(oclass, <a class="code" href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>));</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            prev_class = oclass;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        <a class="code" href="global_8h.html#aa55ba8f4e3c82fe00035e6b51d6c7dee">Sprintf</a>(buf, <span class="stringliteral">&quot;%s %s&quot;</span>,(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[dis].oc_pre_discovered ? <span class="stringliteral">&quot;*&quot;</span> : <span class="stringliteral">&quot; &quot;</span>),</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                obj_typename(dis));</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <a class="code" href="winprocs_8h.html#a2ab348888957358569f859127c0bc474">putstr</a>(tmpwin, 0, buf);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordflow">if</span> (ct == 0) {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    You(<span class="stringliteral">&quot;haven&#39;t discovered anything yet...&quot;</span>);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    } <span class="keywordflow">else</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <a class="code" href="winprocs_8h.html#ac8e74d03fbb65b9f5651e63d79bebc60">display_nhwindow</a>(tmpwin, <a class="code" href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="winprocs_8h.html#a77ac4f50de0eedeaead791812762c6a0">destroy_nhwindow</a>(tmpwin);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;}</div>
<div class="ttc" id="winprocs_8h_html_aa13fb35379049d1836397492d10b6b0c"><div class="ttname"><a href="winprocs_8h.html#aa13fb35379049d1836397492d10b6b0c">create_nhwindow</a></div><div class="ttdeci">#define create_nhwindow</div><div class="ttdef"><b>Definition:</b> <a href="winprocs_8h_source.html#l00084">winprocs.h:84</a></div></div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="objclass_8h_html_a98f2a7a938be98ec0a18109f08491b57"><div class="ttname"><a href="objclass_8h.html#a98f2a7a938be98ec0a18109f08491b57">VENOM_CLASS</a></div><div class="ttdeci">#define VENOM_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00141">objclass.h:141</a></div></div>
<div class="ttc" id="flag_8h_html_ae9cd54937dcb00432131e49e5e324075"><div class="ttname"><a href="flag_8h.html#ae9cd54937dcb00432131e49e5e324075">iflags</a></div><div class="ttdeci">NEARDATA struct instance_flags iflags</div><div class="ttdef"><b>Definition:</b> <a href="decl_8c_source.html#l00144">decl.c:144</a></div></div>
<div class="ttc" id="global_8h_html_aa55ba8f4e3c82fe00035e6b51d6c7dee"><div class="ttname"><a href="global_8h.html#aa55ba8f4e3c82fe00035e6b51d6c7dee">Sprintf</a></div><div class="ttdeci">#define Sprintf</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00272">global.h:272</a></div></div>
<div class="ttc" id="flag_8h_html_a997133526e0c6bed44ebc0116a48b50a"><div class="ttname"><a href="flag_8h.html#a997133526e0c6bed44ebc0116a48b50a">flags</a></div><div class="ttdeci">NEARDATA struct flag flags</div><div class="ttdef"><b>Definition:</b> <a href="decl_8c_source.html#l00143">decl.c:143</a></div></div>
<div class="ttc" id="winprocs_8h_html_ac8e74d03fbb65b9f5651e63d79bebc60"><div class="ttname"><a href="winprocs_8h.html#ac8e74d03fbb65b9f5651e63d79bebc60">display_nhwindow</a></div><div class="ttdeci">#define display_nhwindow</div><div class="ttdef"><b>Definition:</b> <a href="winprocs_8h_source.html#l00086">winprocs.h:86</a></div></div>
<div class="ttc" id="structobjclass_html_ae589e91e556e204c84f05597da510559"><div class="ttname"><a href="structobjclass.html#ae589e91e556e204c84f05597da510559">objclass::oc_class</a></div><div class="ttdeci">char oc_class</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00092">objclass.h:92</a></div></div>
<div class="ttc" id="global_8h_html_afd2537d19a3cb6556b0f727580ec6ee7"><div class="ttname"><a href="global_8h.html#afd2537d19a3cb6556b0f727580ec6ee7">SIZE</a></div><div class="ttdeci">#define SIZE(x)</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00123">global.h:123</a></div></div>
<div class="ttc" id="o__init_8c_html_ac0ca3f9718fe40a62906cda6a2f73fc7"><div class="ttname"><a href="o__init_8c.html#ac0ca3f9718fe40a62906cda6a2f73fc7">interesting_to_discover</a></div><div class="ttdeci">STATIC_OVL boolean interesting_to_discover(int i)</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00351">o_init.c:351</a></div></div>
<div class="ttc" id="global_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00060">global.h:60</a></div></div>
<div class="ttc" id="global_8h_html_ab26c26cbf7a0c97d8960c3cfb413f882"><div class="ttname"><a href="global_8h.html#ab26c26cbf7a0c97d8960c3cfb413f882">BUFSZ</a></div><div class="ttdeci">#define BUFSZ</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00324">global.h:324</a></div></div>
<div class="ttc" id="winprocs_8h_html_a2ab348888957358569f859127c0bc474"><div class="ttname"><a href="winprocs_8h.html#a2ab348888957358569f859127c0bc474">putstr</a></div><div class="ttdeci">#define putstr</div><div class="ttdef"><b>Definition:</b> <a href="winprocs_8h_source.html#l00089">winprocs.h:89</a></div></div>
<div class="ttc" id="winprocs_8h_html_a77ac4f50de0eedeaead791812762c6a0"><div class="ttname"><a href="winprocs_8h.html#a77ac4f50de0eedeaead791812762c6a0">destroy_nhwindow</a></div><div class="ttdeci">#define destroy_nhwindow</div><div class="ttdef"><b>Definition:</b> <a href="winprocs_8h_source.html#l00087">winprocs.h:87</a></div></div>
<div class="ttc" id="structflag_html_afbbdabb7b1593b8ff0036a5c67ece86f"><div class="ttname"><a href="structflag.html#afbbdabb7b1593b8ff0036a5c67ece86f">flag::inv_order</a></div><div class="ttdeci">char inv_order[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00101">flag.h:101</a></div></div>
<div class="ttc" id="o__init_8c_html_a57a5ccdaa3a977cb82a16d7ec656f220"><div class="ttname"><a href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a></div><div class="ttdeci">static NEARDATA short disco[NUM_OBJECTS]</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00014">o_init.c:14</a></div></div>
<div class="ttc" id="objclass_8h_html_aaa71280f2bfe02894ab8c39af548d6ae"><div class="ttname"><a href="objclass_8h.html#aaa71280f2bfe02894ab8c39af548d6ae">OBJ_NAME</a></div><div class="ttdeci">#define OBJ_NAME(obj)</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00184">objclass.h:184</a></div></div>
<div class="ttc" id="makedefs_8c_html_a72563303ed4b67f2a7dd9f2d15a01558"><div class="ttname"><a href="makedefs_8c.html#a72563303ed4b67f2a7dd9f2d15a01558">eos</a></div><div class="ttdeci">static char * eos(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="makedefs_8c_source.html#l01823">makedefs.c:1823</a></div></div>
<div class="ttc" id="global_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00061">global.h:61</a></div></div>
<div class="ttc" id="wintype_8h_html_a60a03e50aaeef35cd7cd3bf6f790791c"><div class="ttname"><a href="wintype_8h.html#a60a03e50aaeef35cd7cd3bf6f790791c">NHW_MENU</a></div><div class="ttdeci">#define NHW_MENU</div><div class="ttdef"><b>Definition:</b> <a href="wintype_8h_source.html#l00039">wintype.h:39</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
<div class="ttc" id="uudecode_8c_html_ac82f3cc16110a05458f2b2483236afb7"><div class="ttname"><a href="uudecode_8c.html#ac82f3cc16110a05458f2b2483236afb7">index</a></div><div class="ttdeci">char * index(char *sp, char c)</div><div class="ttdef"><b>Definition:</b> <a href="uudecode_8c_source.html#l00242">uudecode.c:242</a></div></div>
<div class="ttc" id="global_8h_html_add22f733d1f2c380499f495068e42b7c"><div class="ttname"><a href="global_8h.html#add22f733d1f2c380499f495068e42b7c">Strcpy</a></div><div class="ttdeci">#define Strcpy</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00274">global.h:274</a></div></div>
<div class="ttc" id="xpm2iff_8c_html_a6f4b9854141692d23b0d072176044ca6"><div class="ttname"><a href="xpm2iff_8c.html#a6f4b9854141692d23b0d072176044ca6">buf</a></div><div class="ttdeci">char buf[bufsz]</div><div class="ttdef"><b>Definition:</b> <a href="xpm2iff_8c_source.html#l00337">xpm2iff.c:337</a></div></div>
<div class="ttc" id="objclass_8h_html_af51133138bfb718b55aaa7f29711a10a"><div class="ttname"><a href="objclass_8h.html#af51133138bfb718b55aaa7f29711a10a">MAXOCLASSES</a></div><div class="ttdeci">#define MAXOCLASSES</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00142">objclass.h:142</a></div></div>
<div class="ttc" id="wintype_8h_html_adc2de956a3f084b1691cf080e1d1412b"><div class="ttname"><a href="wintype_8h.html#adc2de956a3f084b1691cf080e1d1412b">winid</a></div><div class="ttdeci">int winid</div><div class="ttdef"><b>Definition:</b> <a href="wintype_8h_source.html#l00008">wintype.h:8</a></div></div>
<div class="ttc" id="o__init_8c_html_aed4a1c28f7f8fc9c1f21046ffe22a118"><div class="ttname"><a href="o__init_8c.html#aed4a1c28f7f8fc9c1f21046ffe22a118">uniq_objs</a></div><div class="ttdeci">static short uniq_objs[]</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00360">o_init.c:360</a></div></div>
<div class="ttc" id="structinstance__flags_html_a1640b6b04fb84038cf353a42d268b9be"><div class="ttname"><a href="structinstance__flags.html#a1640b6b04fb84038cf353a42d268b9be">instance_flags::menu_headings</a></div><div class="ttdeci">int menu_headings</div><div class="ttdef"><b>Definition:</b> <a href="flag_8h_source.html#l00171">flag.h:171</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a258d73b38a2c332d22f445d07b3a4dd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> void FDECL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="o__init_8c.html#ae0cad4a407386545a7f08a0bf8f7aabc">setgemprobs</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(<a class="el" href="structd__level.html">d_level</a> *)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a70256784553c5c848753b46a99791b20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> void FDECL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(int, int, <a class="el" href="wingem1_8c.html#aa2723cc3af18a5199ab4ce7cca84d82b">BOOLEAN_P</a>)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae0620c108eb3a7c3076c89a1397398f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> <a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a> FDECL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="o__init_8c.html#ac0ca3f9718fe40a62906cda6a2f73fc7">interesting_to_discover</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad86d1a5ed7534420dedbb79b6fe8a20f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_skates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00230">230</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="objclass_8h_source.html#l00185">OBJ_DESCR</a>, and <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;{</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">register</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *s;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">for</span> (i = SPEED_BOOTS; i &lt;= LEVITATION_BOOTS; i++)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> ((s = <a class="code" href="objclass_8h.html#aeab69e2f227c2e8ac9c45dea8090ce38">OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i])) != 0 &amp;&amp; !strcmp(s, <span class="stringliteral">&quot;snow boots&quot;</span>))</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    impossible(<span class="stringliteral">&quot;snow boots not found?&quot;</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> -1;  <span class="comment">/* not 0, or caller would try again each move */</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="objclass_8h_html_aeab69e2f227c2e8ac9c45dea8090ce38"><div class="ttname"><a href="objclass_8h.html#aeab69e2f227c2e8ac9c45dea8090ce38">OBJ_DESCR</a></div><div class="ttdeci">#define OBJ_DESCR(obj)</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00185">objclass.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acaa33f79f89e4dacede48efcc3bd950a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_objects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00109">109</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a>, <a class="el" href="txt2iff_8c_source.html#l00096">error()</a>, <a class="el" href="objclass_8h_source.html#l00137">GEM_CLASS</a>, <a class="el" href="objclass_8h_source.html#l00142">MAXOCLASSES</a>, <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <a class="el" href="objclass_8h_source.html#l00092">objclass::oc_class</a>, <a class="el" href="obj_8h_source.html#l00041">obj::oclass</a>, <a class="el" href="o__init_8c_source.html#l00045">setgemprobs()</a>, and <a class="el" href="o__init_8c_source.html#l00180">shuffle_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="keyword">register</span> <span class="keywordtype">int</span> i, first, last, sum;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="keyword">register</span> <span class="keywordtype">char</span> oclass;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="preprocessor">#ifdef TEXTCOLOR</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="preprocessor"># define COPY_OBJ_DESCR(o_dst,o_src) \</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">            o_dst.oc_descr_idx = o_src.oc_descr_idx,\</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="preprocessor">            o_dst.oc_color = o_src.oc_color</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor"># define COPY_OBJ_DESCR(o_dst,o_src) o_dst.oc_descr_idx = o_src.oc_descr_idx</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">/* bug fix to prevent &quot;initialization error&quot; abort on Intel Xenix.</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">     * reported by mikew@semike</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="objclass_8h.html#af51133138bfb718b55aaa7f29711a10a">MAXOCLASSES</a>; i++)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>[i] = 0;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">/* initialize object descriptions */</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; NUM_OBJECTS; i++)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_name_idx = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_descr_idx = i;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">/* init base; if probs given check that they add up to 1000,</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">       otherwise compute probs */</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    first = 0;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="keywordflow">while</span>( first &lt; NUM_OBJECTS ) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        oclass = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[first].<a class="code" href="structobjclass.html#ae589e91e556e204c84f05597da510559">oc_class</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        last = first+1;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">while</span> (last &lt; NUM_OBJECTS &amp;&amp; <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[last].oc_class == oclass) last++;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>[(int)oclass] = first;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">if</span> (oclass == <a class="code" href="objclass_8h.html#afc09c51ea922e9928f86a51177244796">GEM_CLASS</a>) {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="o__init_8c.html#ae0cad4a407386545a7f08a0bf8f7aabc">setgemprobs</a>((<a class="code" href="structd__level.html">d_level</a> *)0);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">if</span> (rn2(2)) { <span class="comment">/* change turquoise from green to blue? */</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                <a class="code" href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[TURQUOISE],<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[SAPPHIRE]);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">if</span> (rn2(2)) { <span class="comment">/* change aquamarine from green to blue? */</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <a class="code" href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[AQUAMARINE],<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[SAPPHIRE]);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">switch</span> (rn2(4)) { <span class="comment">/* change fluorite from violet? */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">case</span> 0:  <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                <span class="keywordflow">case</span> 1: <span class="comment">/* blue */</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                <a class="code" href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[FLUORITE],<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[SAPPHIRE]);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="keywordflow">case</span> 2: <span class="comment">/* white */</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <a class="code" href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[FLUORITE],<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[DIAMOND]);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">case</span> 3: <span class="comment">/* green */</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <a class="code" href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[FLUORITE],<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[EMERALD]);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    check:</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        sum = 0;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">for</span>(i = first; i &lt; last; i++) sum += <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_prob;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordflow">if</span>(sum == 0) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">for</span>(i = first; i &lt; last; i++)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_prob = (1000+i-first)/(last-first);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordflow">goto</span> check;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span>(sum != 1000)</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <a class="code" href="txt2iff_8c.html#a64e632a682e311bde915784e6a17da31">error</a>(<span class="stringliteral">&quot;init-prob error for class %d (%d%%)&quot;</span>, oclass, sum);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        first = last;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">/* shuffle descriptions */</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="o__init_8c.html#afa72877a8cccbee09fd0aa3b5536f8c6">shuffle_all</a>();</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="preprocessor">#ifdef USE_TILES</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    shuffle_tiles();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;}</div>
<div class="ttc" id="o__init_8c_html_afa72877a8cccbee09fd0aa3b5536f8c6"><div class="ttname"><a href="o__init_8c.html#afa72877a8cccbee09fd0aa3b5536f8c6">shuffle_all</a></div><div class="ttdeci">STATIC_OVL void shuffle_all()</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00180">o_init.c:180</a></div></div>
<div class="ttc" id="o__init_8c_html_aa524dfeaf01fe85d285b82ca79925448"><div class="ttname"><a href="o__init_8c.html#aa524dfeaf01fe85d285b82ca79925448">COPY_OBJ_DESCR</a></div><div class="ttdeci">#define COPY_OBJ_DESCR(o_dst, o_src)</div></div>
<div class="ttc" id="txt2iff_8c_html_a64e632a682e311bde915784e6a17da31"><div class="ttname"><a href="txt2iff_8c.html#a64e632a682e311bde915784e6a17da31">error</a></div><div class="ttdeci">void error(char *str)</div><div class="ttdef"><b>Definition:</b> <a href="txt2iff_8c_source.html#l00096">txt2iff.c:96</a></div></div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="structobjclass_html_ae589e91e556e204c84f05597da510559"><div class="ttname"><a href="structobjclass.html#ae589e91e556e204c84f05597da510559">objclass::oc_class</a></div><div class="ttdeci">char oc_class</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00092">objclass.h:92</a></div></div>
<div class="ttc" id="objclass_8h_html_afc09c51ea922e9928f86a51177244796"><div class="ttname"><a href="objclass_8h.html#afc09c51ea922e9928f86a51177244796">GEM_CLASS</a></div><div class="ttdeci">#define GEM_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00137">objclass.h:137</a></div></div>
<div class="ttc" id="o__init_8c_html_ae0cad4a407386545a7f08a0bf8f7aabc"><div class="ttname"><a href="o__init_8c.html#ae0cad4a407386545a7f08a0bf8f7aabc">setgemprobs</a></div><div class="ttdeci">STATIC_OVL void setgemprobs(d_level *dlev)</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00045">o_init.c:45</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
<div class="ttc" id="objclass_8h_html_af51133138bfb718b55aaa7f29711a10a"><div class="ttname"><a href="objclass_8h.html#af51133138bfb718b55aaa7f29711a10a">MAXOCLASSES</a></div><div class="ttdeci">#define MAXOCLASSES</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00142">objclass.h:142</a></div></div>
<div class="ttc" id="structd__level_html"><div class="ttname"><a href="structd__level.html">d_level</a></div><div class="ttdef"><b>Definition:</b> <a href="dungeon_8h_source.html#l00017">dungeon.h:17</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac0ca3f9718fe40a62906cda6a2f73fc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> <a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a> interesting_to_discover </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00351">351</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="objclass_8h_source.html#l00185">OBJ_DESCR</a>, and <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>.</p>

<p>Referenced by <a class="el" href="o__init_8c_source.html#l00368">dodiscovered()</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <span class="comment">/* Pre-discovered objects are now printed with a &#39;*&#39; */</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span>((<span class="keywordtype">boolean</span>)(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_uname != (<span class="keywordtype">char</span> *)0 ||</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        (<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_name_known &amp;&amp; <a class="code" href="objclass_8h.html#aeab69e2f227c2e8ac9c45dea8090ce38">OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i]) != (<span class="keywordtype">char</span> *)0)));</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="objclass_8h_html_aeab69e2f227c2e8ac9c45dea8090ce38"><div class="ttname"><a href="objclass_8h.html#aeab69e2f227c2e8ac9c45dea8090ce38">OBJ_DESCR</a></div><div class="ttdeci">#define OBJ_DESCR(obj)</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00185">objclass.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae3e42bd8eb1ca0b5f810fee73951226d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a0c2ce0eef98596c51b3a10e50a29dd5e">STATIC_DCL</a> void NDECL </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="o__init_8c.html#afa72877a8cccbee09fd0aa3b5536f8c6">shuffle_all</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a524e90921ab3f612ad9dac64f743c2c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void oinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00244">244</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="o__init_8c_source.html#l00045">setgemprobs()</a>, <a class="el" href="decl_8h_source.html#l00255">u</a>, and <a class="el" href="you_8h_source.html#l00238">you::uz</a>.</p>

<p>Referenced by <a class="el" href="mklev_8c_source.html#l00604">makelevel()</a>.</p>
<div class="fragment"><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;{</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <a class="code" href="o__init_8c.html#ae0cad4a407386545a7f08a0bf8f7aabc">setgemprobs</a>(&amp;<a class="code" href="decl_8h.html#a342ae6d3415cd569bcea437201040743">u</a>.<a class="code" href="structyou.html#a89878490db5d54221f04b3fb44ebdaa2">uz</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div>
<div class="ttc" id="structyou_html_a89878490db5d54221f04b3fb44ebdaa2"><div class="ttname"><a href="structyou.html#a89878490db5d54221f04b3fb44ebdaa2">you::uz</a></div><div class="ttdeci">d_level uz</div><div class="ttdef"><b>Definition:</b> <a href="you_8h_source.html#l00238">you.h:238</a></div></div>
<div class="ttc" id="decl_8h_html_a342ae6d3415cd569bcea437201040743"><div class="ttname"><a href="decl_8h.html#a342ae6d3415cd569bcea437201040743">u</a></div><div class="ttdeci">E NEARDATA struct you u</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00255">decl.h:255</a></div></div>
<div class="ttc" id="o__init_8c_html_ae0cad4a407386545a7f08a0bf8f7aabc"><div class="ttname"><a href="o__init_8c.html#ae0cad4a407386545a7f08a0bf8f7aabc">setgemprobs</a></div><div class="ttdeci">STATIC_OVL void setgemprobs(d_level *dlev)</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00045">o_init.c:45</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abbde51c65ac8cdf07f79c3cb648cf70e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restnames </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00280">280</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="txt2iff_8c_source.html#l00443">alloc()</a>, <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="restore_8c_source.html#l01068">mread()</a>, and <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>.</p>

<p>Referenced by <a class="el" href="restore_8c_source.html#l00357">restgamestate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;{</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="restore_8c.html#a4ca409c62ced3355b984139d6499732c">mread</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>) <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>, <span class="keyword">sizeof</span> bases);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <a class="code" href="restore_8c.html#a4ca409c62ced3355b984139d6499732c">mread</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>) <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>, <span class="keyword">sizeof</span> disco);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="restore_8c.html#a4ca409c62ced3355b984139d6499732c">mread</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>) <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structobjclass.html">objclass</a>) * NUM_OBJECTS);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; NUM_OBJECTS; i++)</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordflow">if</span> (objects[i].oc_uname) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="restore_8c.html#a4ca409c62ced3355b984139d6499732c">mread</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>) &amp;len, <span class="keyword">sizeof</span> len);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        objects[i].oc_uname = (<span class="keywordtype">char</span> *) <a class="code" href="txt2iff_8c.html#ae273cbdce4cd64a076220ad06c41a5a1">alloc</a>(len);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <a class="code" href="restore_8c.html#a4ca409c62ced3355b984139d6499732c">mread</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>)objects[i].oc_uname, len);</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#ifdef USE_TILES</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    shuffle_tiles();</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="tradstdc_8h_html_ad4a7dab7269b4b00e3c7c7d2e66f31cd"><div class="ttname"><a href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a></div><div class="ttdeci">genericptr genericptr_t</div><div class="ttdef"><b>Definition:</b> <a href="tradstdc_8h_source.html#l00188">tradstdc.h:188</a></div></div>
<div class="ttc" id="structobjclass_html"><div class="ttname"><a href="structobjclass.html">objclass</a></div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00010">objclass.h:10</a></div></div>
<div class="ttc" id="txt2iff_8c_html_ae273cbdce4cd64a076220ad06c41a5a1"><div class="ttname"><a href="txt2iff_8c.html#ae273cbdce4cd64a076220ad06c41a5a1">alloc</a></div><div class="ttdeci">long * alloc(unsigned int n)</div><div class="ttdef"><b>Definition:</b> <a href="txt2iff_8c_source.html#l00443">txt2iff.c:443</a></div></div>
<div class="ttc" id="o__init_8c_html_a57a5ccdaa3a977cb82a16d7ec656f220"><div class="ttname"><a href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a></div><div class="ttdeci">static NEARDATA short disco[NUM_OBJECTS]</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00014">o_init.c:14</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
<div class="ttc" id="restore_8c_html_a4ca409c62ced3355b984139d6499732c"><div class="ttname"><a href="restore_8c.html#a4ca409c62ced3355b984139d6499732c">mread</a></div><div class="ttdeci">void mread(int fd, genericptr_t buf, unsigned int len)</div><div class="ttdef"><b>Definition:</b> <a href="restore_8c_source.html#l01068">restore.c:1068</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf5509243a1e3ffc44ba1e46a5b635c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void savenames </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00250">250</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="save_8c_source.html#l00735">bwrite()</a>, <a class="el" href="winproto_8h.html#a4bbec68d324de17b99fecede64b383ba">free()</a>, <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <a class="el" href="objclass_8h_source.html#l00013">objclass::oc_uname</a>, <a class="el" href="lev_8h_source.html#l00015">perform_bwrite</a>, and <a class="el" href="lev_8h_source.html#l00016">release_data</a>.</p>

<p>Referenced by <a class="el" href="save_8c_source.html#l00273">savegamestate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lev_8h.html#a4bb5a4c92746bd81c40d1452ca38dda7">perform_bwrite</a>(mode)) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <a class="code" href="save_8c.html#a2e7663422968049372dd9cc6b325a84a">bwrite</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>)<a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>, <span class="keyword">sizeof</span> bases);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <a class="code" href="save_8c.html#a2e7663422968049372dd9cc6b325a84a">bwrite</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>)<a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>, <span class="keyword">sizeof</span> disco);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="save_8c.html#a2e7663422968049372dd9cc6b325a84a">bwrite</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>)<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>,</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;           <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structobjclass.html">objclass</a>) * NUM_OBJECTS);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">/* as long as we use only one version of Hack we</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<span class="comment">       need not save oc_name and oc_descr, but we must save</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">       oc_uname for all objects */</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; NUM_OBJECTS; i++)</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_uname) {</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lev_8h.html#a4bb5a4c92746bd81c40d1452ca38dda7">perform_bwrite</a>(mode)) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            len = strlen(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_uname)+1;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <a class="code" href="save_8c.html#a2e7663422968049372dd9cc6b325a84a">bwrite</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>)&amp;len, <span class="keyword">sizeof</span> len);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            <a class="code" href="save_8c.html#a2e7663422968049372dd9cc6b325a84a">bwrite</a>(fd, (<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>)<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_uname, len);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lev_8h.html#a3d5ce4c0a0247545f80a66eadddc6273">release_data</a>(mode)) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            <a class="code" href="winproto_8h.html#a4bbec68d324de17b99fecede64b383ba">free</a>((<a class="code" href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a>)<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_uname);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].<a class="code" href="structobjclass.html#a2556428315c0776ce8f5c88ecf6508bc">oc_uname</a> = 0;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        }</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="tradstdc_8h_html_ad4a7dab7269b4b00e3c7c7d2e66f31cd"><div class="ttname"><a href="tradstdc_8h.html#ad4a7dab7269b4b00e3c7c7d2e66f31cd">genericptr_t</a></div><div class="ttdeci">genericptr genericptr_t</div><div class="ttdef"><b>Definition:</b> <a href="tradstdc_8h_source.html#l00188">tradstdc.h:188</a></div></div>
<div class="ttc" id="winproto_8h_html_a4bbec68d324de17b99fecede64b383ba"><div class="ttname"><a href="winproto_8h.html#a4bbec68d324de17b99fecede64b383ba">free</a></div><div class="ttdeci">void free(void *q)</div></div>
<div class="ttc" id="save_8c_html_a2e7663422968049372dd9cc6b325a84a"><div class="ttname"><a href="save_8c.html#a2e7663422968049372dd9cc6b325a84a">bwrite</a></div><div class="ttdeci">void bwrite(int fd, genericptr_t loc, unsigned num)</div><div class="ttdef"><b>Definition:</b> <a href="save_8c_source.html#l00735">save.c:735</a></div></div>
<div class="ttc" id="structobjclass_html"><div class="ttname"><a href="structobjclass.html">objclass</a></div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00010">objclass.h:10</a></div></div>
<div class="ttc" id="o__init_8c_html_a57a5ccdaa3a977cb82a16d7ec656f220"><div class="ttname"><a href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a></div><div class="ttdeci">static NEARDATA short disco[NUM_OBJECTS]</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00014">o_init.c:14</a></div></div>
<div class="ttc" id="lev_8h_html_a4bb5a4c92746bd81c40d1452ca38dda7"><div class="ttname"><a href="lev_8h.html#a4bb5a4c92746bd81c40d1452ca38dda7">perform_bwrite</a></div><div class="ttdeci">#define perform_bwrite(mode)</div><div class="ttdef"><b>Definition:</b> <a href="lev_8h_source.html#l00015">lev.h:15</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
<div class="ttc" id="lev_8h_html_a3d5ce4c0a0247545f80a66eadddc6273"><div class="ttname"><a href="lev_8h.html#a3d5ce4c0a0247545f80a66eadddc6273">release_data</a></div><div class="ttdeci">#define release_data(mode)</div><div class="ttdef"><b>Definition:</b> <a href="lev_8h_source.html#l00016">lev.h:16</a></div></div>
<div class="ttc" id="structobjclass_html_a2556428315c0776ce8f5c88ecf6508bc"><div class="ttname"><a href="structobjclass.html#a2556428315c0776ce8f5c88ecf6508bc">objclass::oc_uname</a></div><div class="ttdeci">char * oc_uname</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00013">objclass.h:13</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae0cad4a407386545a7f08a0bf8f7aabc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> void setgemprobs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structd__level.html">d_level</a> *&#160;</td>
          <td class="paramname"><em>dlev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00045">45</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="objclass_8h_source.html#l00137">GEM_CLASS</a>, <a class="el" href="objclass_8h_source.html#l00184">OBJ_NAME</a>, <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, and <a class="el" href="winprocs_8h_source.html#l00098">wait_synch</a>.</p>

<p>Referenced by <a class="el" href="o__init_8c_source.html#l00109">init_objects()</a>, and <a class="el" href="o__init_8c_source.html#l00244">oinit()</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">int</span> j, first, lev;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (dlev)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        lev = (ledger_no(dlev) &gt; maxledgerno())</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                ? maxledgerno() : ledger_no(dlev);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        lev = 0;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    first = <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>[<a class="code" href="objclass_8h.html#afc09c51ea922e9928f86a51177244796">GEM_CLASS</a>];</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">for</span>(j = 0; j &lt; 9-lev/3; j++)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[first+j].oc_prob = 0;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    first += j;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (first &gt; LAST_GEM || <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[first].oc_class != <a class="code" href="objclass_8h.html#afc09c51ea922e9928f86a51177244796">GEM_CLASS</a> ||</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="objclass_8h.html#aaa71280f2bfe02894ab8c39af548d6ae">OBJ_NAME</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[first]) == (<span class="keywordtype">char</span> *)0) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        raw_printf(<span class="stringliteral">&quot;Not enough gems? - first=%d j=%d LAST_GEM=%d&quot;</span>,</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            first, j, LAST_GEM);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="winprocs_8h.html#ab3dda14337c8ebd4fe496eab265a8483">wait_synch</a>();</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">for</span> (j = first; j &lt;= LAST_GEM; j++)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_prob = (171+j-first)/(LAST_GEM+1-first);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="winprocs_8h_html_ab3dda14337c8ebd4fe496eab265a8483"><div class="ttname"><a href="winprocs_8h.html#ab3dda14337c8ebd4fe496eab265a8483">wait_synch</a></div><div class="ttdeci">#define wait_synch</div><div class="ttdef"><b>Definition:</b> <a href="winprocs_8h_source.html#l00098">winprocs.h:98</a></div></div>
<div class="ttc" id="objclass_8h_html_afc09c51ea922e9928f86a51177244796"><div class="ttname"><a href="objclass_8h.html#afc09c51ea922e9928f86a51177244796">GEM_CLASS</a></div><div class="ttdeci">#define GEM_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00137">objclass.h:137</a></div></div>
<div class="ttc" id="objclass_8h_html_aaa71280f2bfe02894ab8c39af548d6ae"><div class="ttname"><a href="objclass_8h.html#aaa71280f2bfe02894ab8c39af548d6ae">OBJ_NAME</a></div><div class="ttdeci">#define OBJ_NAME(obj)</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00184">objclass.h:184</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1eec227a492608baee9f1c80704b635c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> void shuffle </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>o_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>o_high</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="global_8h.html#a531b10dd351aa162d7dcccd1966308b8">boolean</a>&#160;</td>
          <td class="paramname"><em>domaterial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00072">72</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <a class="el" href="objclass_8h_source.html#l00094">objclass::oc_color</a>, and <a class="el" href="objclass_8h_source.html#l00012">objclass::oc_descr_idx</a>.</p>

<p>Referenced by <a class="el" href="o__init_8c_source.html#l00180">shuffle_all()</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;{</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">int</span> i, j, num_to_shuffle;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">short</span> sw;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordtype">int</span> color;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">for</span> (num_to_shuffle = 0, j=o_low; j &lt;= o_high; j++)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_name_known) num_to_shuffle++;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (num_to_shuffle &lt; 2) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">for</span> (j=o_low; j &lt;= o_high; j++) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_name_known) <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            i = j + rn2(o_high-j+1);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">while</span> (<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_name_known);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        sw = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].<a class="code" href="structobjclass.html#a4b22aa20d7c87b250d6696e1614b86cc">oc_descr_idx</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].<a class="code" href="structobjclass.html#a4b22aa20d7c87b250d6696e1614b86cc">oc_descr_idx</a> = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].<a class="code" href="structobjclass.html#a4b22aa20d7c87b250d6696e1614b86cc">oc_descr_idx</a>;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].<a class="code" href="structobjclass.html#a4b22aa20d7c87b250d6696e1614b86cc">oc_descr_idx</a> = sw;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        sw = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_tough;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_tough = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_tough;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_tough = sw;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        color = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].<a class="code" href="structobjclass.html#a85f741db040715f310a309de52bc1574">oc_color</a>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].<a class="code" href="structobjclass.html#a85f741db040715f310a309de52bc1574">oc_color</a> = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].<a class="code" href="structobjclass.html#a85f741db040715f310a309de52bc1574">oc_color</a>;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].<a class="code" href="structobjclass.html#a85f741db040715f310a309de52bc1574">oc_color</a> = color;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="comment">/* shuffle material */</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">if</span> (domaterial) {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            sw = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_material;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_material = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_material;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[i].oc_material = sw;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="structobjclass_html_a4b22aa20d7c87b250d6696e1614b86cc"><div class="ttname"><a href="structobjclass.html#a4b22aa20d7c87b250d6696e1614b86cc">objclass::oc_descr_idx</a></div><div class="ttdeci">short oc_descr_idx</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00012">objclass.h:12</a></div></div>
<div class="ttc" id="structobjclass_html_a85f741db040715f310a309de52bc1574"><div class="ttname"><a href="structobjclass.html#a85f741db040715f310a309de52bc1574">objclass::oc_color</a></div><div class="ttdeci">uchar oc_color</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00094">objclass.h:94</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afa72877a8cccbee09fd0aa3b5536f8c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="hack_8h.html#a6584b0687fb4e0040a85bbcdaa3e0ee1">STATIC_OVL</a> void shuffle_all </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00180">180</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="objclass_8h_source.html#l00129">AMULET_CLASS</a>, <a class="el" href="objclass_8h_source.html#l00127">ARMOR_CLASS</a>, <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="global_8h_source.html#l00061">FALSE</a>, <a class="el" href="objclass_8h_source.html#l00137">GEM_CLASS</a>, <a class="el" href="objclass_8h_source.html#l00142">MAXOCLASSES</a>, <a class="el" href="objclass_8h_source.html#l00185">OBJ_DESCR</a>, <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <a class="el" href="obj_8h_source.html#l00041">obj::oclass</a>, <a class="el" href="objclass_8h_source.html#l00132">POTION_CLASS</a>, <a class="el" href="objclass_8h_source.html#l00133">SCROLL_CLASS</a>, <a class="el" href="o__init_8c_source.html#l00072">shuffle()</a>, <a class="el" href="objclass_8h_source.html#l00134">SPBOOK_CLASS</a>, <a class="el" href="objclass_8h_source.html#l00130">TOOL_CLASS</a>, <a class="el" href="global_8h_source.html#l00060">TRUE</a>, and <a class="el" href="objclass_8h_source.html#l00126">WEAPON_CLASS</a>.</p>

<p>Referenced by <a class="el" href="o__init_8c_source.html#l00109">init_objects()</a>.</p>
<div class="fragment"><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordtype">int</span> first, last, oclass;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">for</span> (oclass = 1; oclass &lt; <a class="code" href="objclass_8h.html#af51133138bfb718b55aaa7f29711a10a">MAXOCLASSES</a>; oclass++) {</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        first = <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>[oclass];</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        last = first+1;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">while</span> (last &lt; NUM_OBJECTS &amp;&amp; <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[last].oc_class == oclass)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            last++;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="objclass_8h.html#aeab69e2f227c2e8ac9c45dea8090ce38">OBJ_DESCR</a>(<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[first]) != (<span class="keywordtype">char</span> *)0 &amp;&amp;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                oclass != <a class="code" href="objclass_8h.html#ad8e3b1b1f1bd8dff660c15840a3f2b03">TOOL_CLASS</a> &amp;&amp;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                oclass != <a class="code" href="objclass_8h.html#a615c2dc6d3501d6b5e14c3373bc37ec1">WEAPON_CLASS</a> &amp;&amp;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                oclass != <a class="code" href="objclass_8h.html#a038c650e790f05f72fa9204b1b82660b">ARMOR_CLASS</a> &amp;&amp;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                oclass != <a class="code" href="objclass_8h.html#afc09c51ea922e9928f86a51177244796">GEM_CLASS</a>) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordtype">int</span> j = last-1;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">if</span> (oclass == <a class="code" href="objclass_8h.html#a05335e5ee18dfa33af1c40056fe8fab9">POTION_CLASS</a>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                j -= 1;  <span class="comment">/* only water has a fixed description */</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (oclass == <a class="code" href="objclass_8h.html#af05e45a3c94a4a19096ee4f048ee96cd">AMULET_CLASS</a> ||</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                 oclass == <a class="code" href="objclass_8h.html#ac23f261da0f9e2a4c6afccecfc167a96">SCROLL_CLASS</a> ||</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                 oclass == <a class="code" href="objclass_8h.html#aba5935524b39b0fdd148a3d466a5c580">SPBOOK_CLASS</a>) {</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keywordflow">while</span> (!<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_magic || <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[j].oc_unique)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                j--;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="comment">/* non-magical amulets, scrolls, and spellbooks</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">             * (ex. imitation Amulets, blank, scrolls of mail)</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">             * and one-of-a-kind magical artifacts at the end of</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">             * their class in objects[] have fixed descriptions.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">             */</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a>(first, j, <a class="code" href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        }</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">/* shuffle the helmets */</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a>(HELMET, HELM_OF_TELEPATHY, <a class="code" href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="comment">/* shuffle the gloves */</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a>(LEATHER_GLOVES, GAUNTLETS_OF_DEXTERITY, <a class="code" href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="comment">/* shuffle the cloaks */</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a>(CLOAK_OF_PROTECTION, CLOAK_OF_DISPLACEMENT, <a class="code" href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <span class="comment">/* shuffle the boots [if they change, update find_skates() below] */</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a>(SPEED_BOOTS, LEVITATION_BOOTS, <a class="code" href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="objclass_8h_html_a615c2dc6d3501d6b5e14c3373bc37ec1"><div class="ttname"><a href="objclass_8h.html#a615c2dc6d3501d6b5e14c3373bc37ec1">WEAPON_CLASS</a></div><div class="ttdeci">#define WEAPON_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00126">objclass.h:126</a></div></div>
<div class="ttc" id="objclass_8h_html_a05335e5ee18dfa33af1c40056fe8fab9"><div class="ttname"><a href="objclass_8h.html#a05335e5ee18dfa33af1c40056fe8fab9">POTION_CLASS</a></div><div class="ttdeci">#define POTION_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00132">objclass.h:132</a></div></div>
<div class="ttc" id="objclass_8h_html_afc09c51ea922e9928f86a51177244796"><div class="ttname"><a href="objclass_8h.html#afc09c51ea922e9928f86a51177244796">GEM_CLASS</a></div><div class="ttdeci">#define GEM_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00137">objclass.h:137</a></div></div>
<div class="ttc" id="global_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00060">global.h:60</a></div></div>
<div class="ttc" id="objclass_8h_html_af05e45a3c94a4a19096ee4f048ee96cd"><div class="ttname"><a href="objclass_8h.html#af05e45a3c94a4a19096ee4f048ee96cd">AMULET_CLASS</a></div><div class="ttdeci">#define AMULET_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00129">objclass.h:129</a></div></div>
<div class="ttc" id="objclass_8h_html_aba5935524b39b0fdd148a3d466a5c580"><div class="ttname"><a href="objclass_8h.html#aba5935524b39b0fdd148a3d466a5c580">SPBOOK_CLASS</a></div><div class="ttdeci">#define SPBOOK_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00134">objclass.h:134</a></div></div>
<div class="ttc" id="o__init_8c_html_a1eec227a492608baee9f1c80704b635c"><div class="ttname"><a href="o__init_8c.html#a1eec227a492608baee9f1c80704b635c">shuffle</a></div><div class="ttdeci">STATIC_OVL void shuffle(int o_low, int o_high, boolean domaterial)</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00072">o_init.c:72</a></div></div>
<div class="ttc" id="objclass_8h_html_ad8e3b1b1f1bd8dff660c15840a3f2b03"><div class="ttname"><a href="objclass_8h.html#ad8e3b1b1f1bd8dff660c15840a3f2b03">TOOL_CLASS</a></div><div class="ttdeci">#define TOOL_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00130">objclass.h:130</a></div></div>
<div class="ttc" id="global_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00061">global.h:61</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
<div class="ttc" id="objclass_8h_html_ac23f261da0f9e2a4c6afccecfc167a96"><div class="ttname"><a href="objclass_8h.html#ac23f261da0f9e2a4c6afccecfc167a96">SCROLL_CLASS</a></div><div class="ttdeci">#define SCROLL_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00133">objclass.h:133</a></div></div>
<div class="ttc" id="objclass_8h_html_af51133138bfb718b55aaa7f29711a10a"><div class="ttname"><a href="objclass_8h.html#af51133138bfb718b55aaa7f29711a10a">MAXOCLASSES</a></div><div class="ttdeci">#define MAXOCLASSES</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00142">objclass.h:142</a></div></div>
<div class="ttc" id="objclass_8h_html_a038c650e790f05f72fa9204b1b82660b"><div class="ttname"><a href="objclass_8h.html#a038c650e790f05f72fa9204b1b82660b">ARMOR_CLASS</a></div><div class="ttdeci">#define ARMOR_CLASS</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00127">objclass.h:127</a></div></div>
<div class="ttc" id="objclass_8h_html_aeab69e2f227c2e8ac9c45dea8090ce38"><div class="ttname"><a href="objclass_8h.html#aeab69e2f227c2e8ac9c45dea8090ce38">OBJ_DESCR</a></div><div class="ttdeci">#define OBJ_DESCR(obj)</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00185">objclass.h:185</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1ce075c694df477bd0ea03fdc053da8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void undiscover_object </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>oindx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00327">327</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

<p>References <a class="el" href="decl_8h_source.html#l00027">bases</a>, <a class="el" href="global_8h_source.html#l00061">FALSE</a>, <a class="el" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>, <a class="el" href="objclass_8h_source.html#l00092">objclass::oc_class</a>, <a class="el" href="global_8h_source.html#l00060">TRUE</a>, and <a class="el" href="winprocs_8h_source.html#l00096">update_inventory</a>.</p>
<div class="fragment"><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;{</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[oindx].oc_name_known) {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">int</span> dindx, acls = <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[oindx].<a class="code" href="structobjclass.html#ae589e91e556e204c84f05597da510559">oc_class</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keyword">register</span> <span class="keywordtype">boolean</span> found = <a class="code" href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <span class="comment">/* find the object; shift those behind it forward one slot */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">for</span> (dindx = <a class="code" href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a>[acls];</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          dindx &lt; NUM_OBJECTS &amp;&amp; <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx] != 0</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        &amp;&amp; <a class="code" href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a>[dindx].<a class="code" href="structobjclass.html#ae589e91e556e204c84f05597da510559">oc_class</a> == acls; dindx++)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">if</span> (found)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx-1] = <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx];</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx] == oindx)</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        found = <a class="code" href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">/* clear last slot */</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">if</span> (found) <a class="code" href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a>[dindx-1] = 0;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">else</span> impossible(<span class="stringliteral">&quot;named object not in disco&quot;</span>);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="winprocs_8h.html#a12feb374290012aafc2340c5ba15f7e8">update_inventory</a>();</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;}</div>
<div class="ttc" id="objclass_8h_html_a6fc960ca847bc1bef7559abb7bf29209"><div class="ttname"><a href="objclass_8h.html#a6fc960ca847bc1bef7559abb7bf29209">objects</a></div><div class="ttdeci">NEARDATA struct objclass objects[]</div></div>
<div class="ttc" id="winprocs_8h_html_a12feb374290012aafc2340c5ba15f7e8"><div class="ttname"><a href="winprocs_8h.html#a12feb374290012aafc2340c5ba15f7e8">update_inventory</a></div><div class="ttdeci">#define update_inventory</div><div class="ttdef"><b>Definition:</b> <a href="winprocs_8h_source.html#l00096">winprocs.h:96</a></div></div>
<div class="ttc" id="structobjclass_html_ae589e91e556e204c84f05597da510559"><div class="ttname"><a href="structobjclass.html#ae589e91e556e204c84f05597da510559">objclass::oc_class</a></div><div class="ttdeci">char oc_class</div><div class="ttdef"><b>Definition:</b> <a href="objclass_8h_source.html#l00092">objclass.h:92</a></div></div>
<div class="ttc" id="global_8h_html_aa8cecfc5c5c054d2875c03e77b7be15d"><div class="ttname"><a href="global_8h.html#aa8cecfc5c5c054d2875c03e77b7be15d">TRUE</a></div><div class="ttdeci">#define TRUE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00060">global.h:60</a></div></div>
<div class="ttc" id="o__init_8c_html_a57a5ccdaa3a977cb82a16d7ec656f220"><div class="ttname"><a href="o__init_8c.html#a57a5ccdaa3a977cb82a16d7ec656f220">disco</a></div><div class="ttdeci">static NEARDATA short disco[NUM_OBJECTS]</div><div class="ttdef"><b>Definition:</b> <a href="o__init_8c_source.html#l00014">o_init.c:14</a></div></div>
<div class="ttc" id="global_8h_html_aa93f0eb578d23995850d61f7d61c55c1"><div class="ttname"><a href="global_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a></div><div class="ttdeci">#define FALSE</div><div class="ttdef"><b>Definition:</b> <a href="global_8h_source.html#l00061">global.h:61</a></div></div>
<div class="ttc" id="decl_8h_html_a6ebf295ea3e833b4a1e95f5a672e1821"><div class="ttname"><a href="decl_8h.html#a6ebf295ea3e833b4a1e95f5a672e1821">bases</a></div><div class="ttdeci">E NEARDATA int bases[MAXOCLASSES]</div><div class="ttdef"><b>Definition:</b> <a href="decl_8h_source.html#l00027">decl.h:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a57a5ccdaa3a977cb82a16d7ec656f220"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="config1_8h.html#a9987bf629301f5fe76ddd96aa2717ca1">NEARDATA</a> short disco[NUM_OBJECTS] = <a class="el" href="hack_8h.html#a35beee7b0f2f3e294c4a4a69a5f02df4">DUMMY</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="o__init_8c_source.html#l00014">14</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

</div>
</div>
<a class="anchor" id="aed4a1c28f7f8fc9c1f21046ffe22a118"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">short uniq_objs[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    AMULET_OF_YENDOR,</div>
<div class="line">    SPE_BOOK_OF_THE_DEAD,</div>
<div class="line">    CANDELABRUM_OF_INVOCATION,</div>
<div class="line">    BELL_OF_OPENING,</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="o__init_8c_source.html#l00360">360</a> of file <a class="el" href="o__init_8c_source.html">o_init.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 5 2014 18:11:52 for bothack by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
