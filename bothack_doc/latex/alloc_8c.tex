\hypertarget{alloc_8c}{\section{nethack/src/alloc.c File Reference}
\label{alloc_8c}\index{nethack/src/alloc.\+c@{nethack/src/alloc.\+c}}
}
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{alloc_8c_a939b7400a03bf2082bbf37c464f307da}{A\+L\+L\+O\+C\+\_\+\+C}~/$\ast$ \hyperlink{thintile_8c_a2b99606d56c8d0fc4c2fb00852128f19}{comment} line for pre-\/compiled headers $\ast$/
\item 
\#define \hyperlink{alloc_8c_a3925e59b0a44dd3a4fb3ba17175abc74}{E\+X\+T\+E\+R\+N\+\_\+\+H}~/$\ast$ \hyperlink{thintile_8c_a2b99606d56c8d0fc4c2fb00852128f19}{comment} line for pre-\/compiled headers $\ast$/
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
long $\ast$ \hyperlink{alloc_8c_ad689923d338b7e3379071d72b0257979}{F\+D\+E\+C\+L} (\hyperlink{xpm2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc},(unsigned int))
\item 
void \hyperlink{alloc_8c_a1c8e8a096738d59e1089e0d8e8127451}{V\+D\+E\+C\+L} (\hyperlink{wingem1_8c_a2a3ad5d10bdfe9a5a0f13ec9c6d209a2}{panic},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$,...))
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{alloc_8c_a939b7400a03bf2082bbf37c464f307da}{\index{alloc.\+c@{alloc.\+c}!A\+L\+L\+O\+C\+\_\+\+C@{A\+L\+L\+O\+C\+\_\+\+C}}
\index{A\+L\+L\+O\+C\+\_\+\+C@{A\+L\+L\+O\+C\+\_\+\+C}!alloc.\+c@{alloc.\+c}}
\subsubsection[{A\+L\+L\+O\+C\+\_\+\+C}]{\setlength{\rightskip}{0pt plus 5cm}\#define A\+L\+L\+O\+C\+\_\+\+C~/$\ast$ {\bf comment} line for pre-\/compiled headers $\ast$/}}\label{alloc_8c_a939b7400a03bf2082bbf37c464f307da}


Definition at line 6 of file alloc.\+c.

\hypertarget{alloc_8c_a3925e59b0a44dd3a4fb3ba17175abc74}{\index{alloc.\+c@{alloc.\+c}!E\+X\+T\+E\+R\+N\+\_\+\+H@{E\+X\+T\+E\+R\+N\+\_\+\+H}}
\index{E\+X\+T\+E\+R\+N\+\_\+\+H@{E\+X\+T\+E\+R\+N\+\_\+\+H}!alloc.\+c@{alloc.\+c}}
\subsubsection[{E\+X\+T\+E\+R\+N\+\_\+\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+X\+T\+E\+R\+N\+\_\+\+H~/$\ast$ {\bf comment} line for pre-\/compiled headers $\ast$/}}\label{alloc_8c_a3925e59b0a44dd3a4fb3ba17175abc74}


Definition at line 10 of file alloc.\+c.



\subsection{Function Documentation}
\hypertarget{alloc_8c_ad689923d338b7e3379071d72b0257979}{\index{alloc.\+c@{alloc.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!alloc.\+c@{alloc.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}long$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf alloc}}]{, }
\item[{(unsigned int)}]{}
\end{DoxyParamCaption}
)}}\label{alloc_8c_ad689923d338b7e3379071d72b0257979}
\hypertarget{alloc_8c_a1c8e8a096738d59e1089e0d8e8127451}{\index{alloc.\+c@{alloc.\+c}!V\+D\+E\+C\+L@{V\+D\+E\+C\+L}}
\index{V\+D\+E\+C\+L@{V\+D\+E\+C\+L}!alloc.\+c@{alloc.\+c}}
\subsubsection[{V\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}void V\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf panic}}]{, }
\item[{({\bf const} char $\ast$,...)}]{}
\end{DoxyParamCaption}
)}}\label{alloc_8c_a1c8e8a096738d59e1089e0d8e8127451}


Definition at line 28 of file alloc.\+c.



References monst\+::dummy, malloc(), and panic().


\begin{DoxyCode}
34 \{
35 \textcolor{preprocessor}{#ifdef LINT}
36 \textcolor{comment}{/*}
37 \textcolor{comment}{ * a ridiculous definition, suppressing}
38 \textcolor{comment}{ *  "possible pointer alignment problem" for (long *) malloc()}
39 \textcolor{comment}{ * from lint}
40 \textcolor{comment}{ */}
41     \textcolor{keywordtype}{long} dummy = ftell(stderr);
42 
43     \textcolor{keywordflow}{if}(lth) dummy = 0;  \textcolor{comment}{/* make sure arg is used */}
44     \textcolor{keywordflow}{return}(&dummy);
45 \textcolor{preprocessor}{#else}
46     \textcolor{keyword}{register} \hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t} ptr;
47 
48     ptr = \hyperlink{winproto_8h_ab028c02ac00afc0c1d3c568ccad68869}{malloc}(lth);
49 \textcolor{preprocessor}{#ifndef MONITOR\_HEAP}
50     \textcolor{keywordflow}{if} (!ptr) \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"Memory allocation failure; cannot get %u bytes"}, lth);
51 \textcolor{preprocessor}{#endif}
52     \textcolor{keywordflow}{return}((\textcolor{keywordtype}{long} *) ptr);
53 \textcolor{preprocessor}{#endif}
54 \}
\end{DoxyCode}
