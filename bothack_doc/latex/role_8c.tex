\hypertarget{role_8c}{\section{nethack/src/role.c File Reference}
\label{role_8c}\index{nethack/src/role.\+c@{nethack/src/role.\+c}}
}
{\ttfamily \#include \char`\"{}hack.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{role_8c_a05fe44353ee8ff94905f4ec5939d4038}{B\+P\+\_\+\+A\+L\+I\+G\+N}~0
\item 
\#define \hyperlink{role_8c_a18a3fa993be7f7a92434595521eb3244}{B\+P\+\_\+\+G\+E\+N\+D}~1
\item 
\#define \hyperlink{role_8c_a72586af28a6b8446df48a843bf941304}{B\+P\+\_\+\+R\+A\+C\+E}~2
\item 
\#define \hyperlink{role_8c_a770b8cf6467591a0fdb14060f311cef9}{B\+P\+\_\+\+R\+O\+L\+E}~3
\item 
\#define \hyperlink{role_8c_a3585d964b589947584ff7916c193ad15}{N\+U\+M\+\_\+\+B\+P}~4
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} char $\ast$ \hyperlink{role_8c_ac6d8d6078aaac7d105df9f008fe033c8}{F\+D\+E\+C\+L} (\hyperlink{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}{promptsep},(char $\ast$, int))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} int \hyperlink{role_8c_a0cf3c211a532d2e265b06ab4ec40659e}{F\+D\+E\+C\+L} (\hyperlink{role_8c_af169bf70a5f6014c0438cb98368c1799}{role\+\_\+gendercount},(int))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} int \hyperlink{role_8c_afd14216ac5e60c155eb8a67530058ca6}{F\+D\+E\+C\+L} (\hyperlink{role_8c_a2b54c41b8db0929df7ec5f0ee77d9555}{race\+\_\+alignmentcount},(int))
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole} (int rolenum)
\item 
int \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole} ()
\item 
int \hyperlink{role_8c_a2de30162987e6e96565ef4f40e4b6287}{str2role} (char $\ast$str)
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_a648c22cd7c57851ea871247be474763b}{validrace} (int rolenum, int racenum)
\item 
int \hyperlink{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{randrace} (int rolenum)
\item 
int \hyperlink{role_8c_a53f7288b95e8681fa29297e9a569dedd}{str2race} (char $\ast$str)
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend} (int rolenum, int racenum, int gendnum)
\item 
int \hyperlink{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}{randgend} (int rolenum, int racenum)
\item 
int \hyperlink{role_8c_ad6f8bc3004e83473137ca1224e0b56d4}{str2gend} (char $\ast$str)
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{validalign} (int rolenum, int racenum, int alignnum)
\item 
int \hyperlink{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{randalign} (int rolenum, int racenum)
\item 
int \hyperlink{role_8c_abfc9f1ea07a5fc0f61c21f8314534e94}{str2align} (char $\ast$str)
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_a318d1e9bf43d8ea42709dc462487d4e2}{ok\+\_\+role} (int rolenum, int racenum, int gendnum, int alignnum)
\item 
int \hyperlink{role_8c_a45a06501725a029f2a6d153cc0018cef}{pick\+\_\+role} (int racenum, int gendnum, int alignnum, int pickhow)
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\+\_\+race} (int rolenum, int racenum, int gendnum, int alignnum)
\item 
int \hyperlink{role_8c_aa6df5e095937cd04b595a860f324c3b6}{pick\+\_\+race} (int rolenum, int gendnum, int alignnum, int pickhow)
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_adc510807e3362f828c9c14174f622e9b}{ok\+\_\+gend} (int rolenum, int racenum, int gendnum, int alignnum)
\item 
int \hyperlink{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{pick\+\_\+gend} (int rolenum, int racenum, int alignnum, int pickhow)
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{ok\+\_\+align} (int rolenum, int racenum, int gendnum, int alignnum)
\item 
int \hyperlink{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{pick\+\_\+align} (int rolenum, int racenum, int gendnum, int pickhow)
\item 
void \hyperlink{role_8c_a521efbade09bd358497df48478d916cd}{rigid\+\_\+role\+\_\+checks} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} char $\ast$ \hyperlink{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}{promptsep} (char $\ast$\hyperlink{xpm2img_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, int num\+\_\+post\+\_\+attribs)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} int \hyperlink{role_8c_af169bf70a5f6014c0438cb98368c1799}{role\+\_\+gendercount} (int rolenum)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} int \hyperlink{role_8c_a2b54c41b8db0929df7ec5f0ee77d9555}{race\+\_\+alignmentcount} (int racenum)
\item 
char $\ast$ \hyperlink{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}{root\+\_\+plselection\+\_\+prompt} (char $\ast$suppliedbuf, int buflen, int rolenum, int racenum, int gendnum, int alignnum)
\item 
char $\ast$ \hyperlink{role_8c_aeb13a1e08874572ded1b2c8f72339a70}{build\+\_\+plselection\+\_\+prompt} (char $\ast$\hyperlink{xpm2img_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, int buflen, int rolenum, int racenum, int gendnum, int alignnum)
\item 
void \hyperlink{role_8c_aa0498399050c03eb7ddd757e2d7f320e}{plnamesuffix} ()
\item 
void \hyperlink{role_8c_a0af2e586f642074d70c46e171bdb2060}{role\+\_\+init} ()
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{role_8c_a905e26dee325d56affacf20c35344566}{Hello} (struct \hyperlink{structmonst}{monst} $\ast$mtmp)
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{role_8c_a121ab51c3cdb138dddd6d9bfde8b636f}{Goodbye} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} struct \hyperlink{structRole}{Role} \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles} \mbox{[}$\,$\mbox{]}
\item 
struct \hyperlink{structRole}{Role} \hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} struct \hyperlink{structRace}{Race} \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races} \mbox{[}$\,$\mbox{]}
\item 
struct \hyperlink{structRace}{Race} \hyperlink{role_8c_adaecc633890bd84d5cfceaf4a513bbaa}{urace}
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} struct \hyperlink{structGender}{Gender} \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders} \mbox{[}$\,$\mbox{]}
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} struct \hyperlink{structAlign}{Align} \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns} \mbox{[}$\,$\mbox{]}
\item 
static char \hyperlink{config1_8h_a9987bf629301f5fe76ddd96aa2717ca1}{N\+E\+A\+R\+D\+A\+T\+A} \hyperlink{role_8c_af60e6d963efe6e92d0fefea01455aab8}{randomstr} \mbox{[}$\,$\mbox{]} = \char`\"{}random\char`\"{}
\item 
\hyperlink{hack_8h_a01b21691d813ceb087b72a5f9db412c6}{S\+T\+A\+T\+I\+C\+\_\+\+V\+A\+R} char \hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa} \mbox{[}\hyperlink{role_8c_a3585d964b589947584ff7916c193ad15}{N\+U\+M\+\_\+\+B\+P}\mbox{]}
\item 
\hyperlink{hack_8h_a01b21691d813ceb087b72a5f9db412c6}{S\+T\+A\+T\+I\+C\+\_\+\+V\+A\+R} char \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\+\_\+attribs}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{role_8c_a05fe44353ee8ff94905f4ec5939d4038}{\index{role.\+c@{role.\+c}!B\+P\+\_\+\+A\+L\+I\+G\+N@{B\+P\+\_\+\+A\+L\+I\+G\+N}}
\index{B\+P\+\_\+\+A\+L\+I\+G\+N@{B\+P\+\_\+\+A\+L\+I\+G\+N}!role.\+c@{role.\+c}}
\subsubsection[{B\+P\+\_\+\+A\+L\+I\+G\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+P\+\_\+\+A\+L\+I\+G\+N~0}}\label{role_8c_a05fe44353ee8ff94905f4ec5939d4038}


Definition at line 1047 of file role.\+c.



Referenced by build\+\_\+plselection\+\_\+prompt(), and root\+\_\+plselection\+\_\+prompt().

\hypertarget{role_8c_a18a3fa993be7f7a92434595521eb3244}{\index{role.\+c@{role.\+c}!B\+P\+\_\+\+G\+E\+N\+D@{B\+P\+\_\+\+G\+E\+N\+D}}
\index{B\+P\+\_\+\+G\+E\+N\+D@{B\+P\+\_\+\+G\+E\+N\+D}!role.\+c@{role.\+c}}
\subsubsection[{B\+P\+\_\+\+G\+E\+N\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+P\+\_\+\+G\+E\+N\+D~1}}\label{role_8c_a18a3fa993be7f7a92434595521eb3244}


Definition at line 1048 of file role.\+c.



Referenced by build\+\_\+plselection\+\_\+prompt(), and root\+\_\+plselection\+\_\+prompt().

\hypertarget{role_8c_a72586af28a6b8446df48a843bf941304}{\index{role.\+c@{role.\+c}!B\+P\+\_\+\+R\+A\+C\+E@{B\+P\+\_\+\+R\+A\+C\+E}}
\index{B\+P\+\_\+\+R\+A\+C\+E@{B\+P\+\_\+\+R\+A\+C\+E}!role.\+c@{role.\+c}}
\subsubsection[{B\+P\+\_\+\+R\+A\+C\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+P\+\_\+\+R\+A\+C\+E~2}}\label{role_8c_a72586af28a6b8446df48a843bf941304}


Definition at line 1049 of file role.\+c.



Referenced by build\+\_\+plselection\+\_\+prompt(), and root\+\_\+plselection\+\_\+prompt().

\hypertarget{role_8c_a770b8cf6467591a0fdb14060f311cef9}{\index{role.\+c@{role.\+c}!B\+P\+\_\+\+R\+O\+L\+E@{B\+P\+\_\+\+R\+O\+L\+E}}
\index{B\+P\+\_\+\+R\+O\+L\+E@{B\+P\+\_\+\+R\+O\+L\+E}!role.\+c@{role.\+c}}
\subsubsection[{B\+P\+\_\+\+R\+O\+L\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+P\+\_\+\+R\+O\+L\+E~3}}\label{role_8c_a770b8cf6467591a0fdb14060f311cef9}


Definition at line 1050 of file role.\+c.



Referenced by build\+\_\+plselection\+\_\+prompt(), and root\+\_\+plselection\+\_\+prompt().

\hypertarget{role_8c_a3585d964b589947584ff7916c193ad15}{\index{role.\+c@{role.\+c}!N\+U\+M\+\_\+\+B\+P@{N\+U\+M\+\_\+\+B\+P}}
\index{N\+U\+M\+\_\+\+B\+P@{N\+U\+M\+\_\+\+B\+P}!role.\+c@{role.\+c}}
\subsubsection[{N\+U\+M\+\_\+\+B\+P}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+U\+M\+\_\+\+B\+P~4}}\label{role_8c_a3585d964b589947584ff7916c193ad15}


Definition at line 1051 of file role.\+c.



Referenced by root\+\_\+plselection\+\_\+prompt().



\subsection{Function Documentation}
\hypertarget{role_8c_aeb13a1e08874572ded1b2c8f72339a70}{\index{role.\+c@{role.\+c}!build\+\_\+plselection\+\_\+prompt@{build\+\_\+plselection\+\_\+prompt}}
\index{build\+\_\+plselection\+\_\+prompt@{build\+\_\+plselection\+\_\+prompt}!role.\+c@{role.\+c}}
\subsubsection[{build\+\_\+plselection\+\_\+prompt}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ build\+\_\+plselection\+\_\+prompt (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum}
\end{DoxyParamCaption}
)}}\label{role_8c_aeb13a1e08874572ded1b2c8f72339a70}


Definition at line 1232 of file role.\+c.



References B\+P\+\_\+\+A\+L\+I\+G\+N, B\+P\+\_\+\+G\+E\+N\+D, B\+P\+\_\+\+R\+A\+C\+E, B\+P\+\_\+\+R\+O\+L\+E, buf, B\+U\+F\+S\+Z, eos(), post\+\_\+attribs, promptsep(), Q\+B\+U\+F\+S\+Z, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, root\+\_\+plselection\+\_\+prompt(), Sprintf, Strcat, Strcpy, and validrole().



Referenced by prompt\+\_\+for\+\_\+player\+\_\+selection().


\begin{DoxyCode}
1235 \{
1236     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *defprompt = \textcolor{stringliteral}{"Shall I pick a character for you? [ynq] "};
1237     \textcolor{keywordtype}{int} num\_post\_attribs = 0;
1238     \textcolor{keywordtype}{char} tmpbuf[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
1239     
1240     \textcolor{keywordflow}{if} (buflen < \hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ})
1241         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *)defprompt;
1242 
1243     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(tmpbuf, \textcolor{stringliteral}{"Shall I pick "});
1244     \textcolor{keywordflow}{if} (racenum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} || \hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum))
1245         \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(tmpbuf, \textcolor{stringliteral}{"your "});
1246     \textcolor{keywordflow}{else} \{
1247         \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(tmpbuf, \textcolor{stringliteral}{"a "});
1248     \}
1249     \textcolor{comment}{/* <your> */}
1250 
1251     (void)  \hyperlink{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}{root\_plselection\_prompt}(\hyperlink{makedefs_8c_a72563303ed4b67f2a7dd9f2d15a01558}{eos}(tmpbuf), buflen - strlen(tmpbuf),
1252                     rolenum, racenum, gendnum, alignnum);
1253     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{"%s"}, s\_suffix(tmpbuf));
1254 
1255     \textcolor{comment}{/* buf should now be:}
1256 \textcolor{comment}{     * < your lawful female gnomish cavewoman's> || <your lawful female gnome's>}
1257 \textcolor{comment}{     *    || <your lawful female character's>}
1258 \textcolor{comment}{     *}
1259 \textcolor{comment}{         * Now append the post attributes to it}
1260 \textcolor{comment}{     */}
1261 
1262     num\_post\_attribs = \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs};
1263     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs}) \{
1264         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a72586af28a6b8446df48a843bf941304}{BP\_RACE}]) \{
1265             (void) \hyperlink{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}{promptsep}(\hyperlink{makedefs_8c_a72563303ed4b67f2a7dd9f2d15a01558}{eos}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}), num\_post\_attribs);
1266             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{"race"});
1267         \}
1268         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a770b8cf6467591a0fdb14060f311cef9}{BP\_ROLE}]) \{
1269             (void) \hyperlink{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}{promptsep}(\hyperlink{makedefs_8c_a72563303ed4b67f2a7dd9f2d15a01558}{eos}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}), num\_post\_attribs);
1270             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{"role"});
1271         \}
1272         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a18a3fa993be7f7a92434595521eb3244}{BP\_GEND}]) \{
1273             (void) \hyperlink{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}{promptsep}(\hyperlink{makedefs_8c_a72563303ed4b67f2a7dd9f2d15a01558}{eos}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}), num\_post\_attribs);
1274             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{"gender"});
1275         \}
1276         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a05fe44353ee8ff94905f4ec5939d4038}{BP\_ALIGN}]) \{
1277             (void) \hyperlink{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}{promptsep}(\hyperlink{makedefs_8c_a72563303ed4b67f2a7dd9f2d15a01558}{eos}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}), num\_post\_attribs);
1278             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{"alignment"});
1279         \}
1280     \}
1281     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{" for you? [ynq] "});
1282     \textcolor{keywordflow}{return} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf};
1283 \}
\end{DoxyCode}
\hypertarget{role_8c_ac6d8d6078aaac7d105df9f008fe033c8}{\index{role.\+c@{role.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!role.\+c@{role.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} char$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf promptsep}}]{, }
\item[{(char $\ast$, int)}]{}
\end{DoxyParamCaption}
)}}\label{role_8c_ac6d8d6078aaac7d105df9f008fe033c8}
\hypertarget{role_8c_a0cf3c211a532d2e265b06ab4ec40659e}{\index{role.\+c@{role.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!role.\+c@{role.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} int F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf role\+\_\+gendercount}}]{, }
\item[{(int)}]{}
\end{DoxyParamCaption}
)}}\label{role_8c_a0cf3c211a532d2e265b06ab4ec40659e}
\hypertarget{role_8c_afd14216ac5e60c155eb8a67530058ca6}{\index{role.\+c@{role.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!role.\+c@{role.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} int F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf race\+\_\+alignmentcount}}]{, }
\item[{(int)}]{}
\end{DoxyParamCaption}
)}}\label{role_8c_afd14216ac5e60c155eb8a67530058ca6}
\hypertarget{role_8c_a121ab51c3cdb138dddd6d9bfde8b636f}{\index{role.\+c@{role.\+c}!Goodbye@{Goodbye}}
\index{Goodbye@{Goodbye}!role.\+c@{role.\+c}}
\subsubsection[{Goodbye}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ Goodbye (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{role_8c_a121ab51c3cdb138dddd6d9bfde8b636f}


Definition at line 1473 of file role.\+c.



References Role\+\_\+switch.



Referenced by done(), and losexp().


\begin{DoxyCode}
1474 \{
1475     \textcolor{keywordflow}{switch} (\hyperlink{you_8h_a4e9c08c02937a7b0216c1ebdd3a3255d}{Role\_switch}) \{
1476     \textcolor{keywordflow}{case} PM\_KNIGHT:
1477         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Fare thee well"});  \textcolor{comment}{/* Olde English */}
1478     \textcolor{keywordflow}{case} PM\_SAMURAI:
1479         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Sayonara"});        \textcolor{comment}{/* Japanese */}
1480 \textcolor{preprocessor}{#ifdef TOURIST}
1481     \textcolor{keywordflow}{case} PM\_TOURIST:
1482         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Aloha"});           \textcolor{comment}{/* Hawaiian */}
1483 \textcolor{preprocessor}{#endif}
1484     \textcolor{keywordflow}{case} PM\_VALKYRIE:
1485         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Farvel"});          \textcolor{comment}{/* Norse */}
1486     \textcolor{keywordflow}{default}:
1487         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Goodbye"});
1488     \}
1489 \}
\end{DoxyCode}
\hypertarget{role_8c_a905e26dee325d56affacf20c35344566}{\index{role.\+c@{role.\+c}!Hello@{Hello}}
\index{Hello@{Hello}!role.\+c@{role.\+c}}
\subsubsection[{Hello}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ Hello (
\begin{DoxyParamCaption}
\item[{struct {\bf monst} $\ast$}]{mtmp}
\end{DoxyParamCaption}
)}}\label{role_8c_a905e26dee325d56affacf20c35344566}


Definition at line 1448 of file role.\+c.



References M\+A\+I\+L, mons, and Role\+\_\+switch.


\begin{DoxyCode}
1450 \{
1451     \textcolor{keywordflow}{switch} (\hyperlink{you_8h_a4e9c08c02937a7b0216c1ebdd3a3255d}{Role\_switch}) \{
1452     \textcolor{keywordflow}{case} PM\_KNIGHT:
1453         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Salutations"}); \textcolor{comment}{/* Olde English */}
1454     \textcolor{keywordflow}{case} PM\_SAMURAI:
1455         \textcolor{keywordflow}{return} (mtmp && mtmp->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data} == &\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[PM\_SHOPKEEPER] ?
1456                 \textcolor{stringliteral}{"Irasshaimase"} : \textcolor{stringliteral}{"Konnichi wa"}); \textcolor{comment}{/* Japanese */}
1457 \textcolor{preprocessor}{#ifdef TOURIST}
1458     \textcolor{keywordflow}{case} PM\_TOURIST:
1459         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Aloha"});       \textcolor{comment}{/* Hawaiian */}
1460 \textcolor{preprocessor}{#endif}
1461     \textcolor{keywordflow}{case} PM\_VALKYRIE:
1462         \textcolor{keywordflow}{return} (
1463 #ifdef \hyperlink{amiconf_8h_ad660fcaacb2a9801c006f5401095c408}{MAIL}
1464                 mtmp && mtmp->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data} == &\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[PM\_MAIL\_DAEMON] ? \textcolor{stringliteral}{"Hallo"} :
1465 #endif
1466                 \textcolor{stringliteral}{"Velkommen"});   \textcolor{comment}{/* Norse */}
1467     \textcolor{keywordflow}{default}:
1468         \textcolor{keywordflow}{return} (\textcolor{stringliteral}{"Hello"});
1469     \}
1470 \}
\end{DoxyCode}
\hypertarget{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{\index{role.\+c@{role.\+c}!ok\+\_\+align@{ok\+\_\+align}}
\index{ok\+\_\+align@{ok\+\_\+align}!role.\+c@{role.\+c}}
\subsubsection[{ok\+\_\+align}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} ok\+\_\+align (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum}
\end{DoxyParamCaption}
)}}\label{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}


Definition at line 954 of file role.\+c.



References Race\+::allow, Align\+::allow, F\+A\+L\+S\+E, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+M\+A\+S\+K, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S, S\+I\+Z\+E, and T\+R\+U\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), pick\+\_\+align(), plsel\+Adjust\+Lists(), plsel\+Init\+Dialog(), prompt\+\_\+for\+\_\+player\+\_\+selection(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
956 \{
957     \textcolor{keywordtype}{int} i;
958     \textcolor{keywordtype}{short} allow;
959 
960     \textcolor{keywordflow}{if} (alignnum >= 0 && alignnum < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}) \{
961     allow = \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].\hyperlink{structAlign_a3c94cc9ef4661f20258e562e860d66e9}{allow};
962     \textcolor{keywordflow}{if} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1 &&
963         !(allow & \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{you_8h_a54b438ba8356b2c94b1d3ad5a134f2ea}{ROLE\_ALIGNMASK}))
964         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
965     \textcolor{keywordflow}{if} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1 &&
966         !(allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & ROLE\_ALIGNMASK))
967         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
968     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
969     \} \textcolor{keywordflow}{else} \{
970     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
971         allow = \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_ab83e1168110644aaec0af3651a2bad12}{allow};
972         \textcolor{keywordflow}{if} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1 &&
973             !(allow & \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & ROLE\_ALIGNMASK))
974         \textcolor{keywordflow}{continue};
975         \textcolor{keywordflow}{if} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1 &&
976             !(allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & ROLE\_ALIGNMASK))
977         \textcolor{keywordflow}{continue};
978         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
979     \}
980     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
981     \}
982 \}
\end{DoxyCode}
\hypertarget{role_8c_adc510807e3362f828c9c14174f622e9b}{\index{role.\+c@{role.\+c}!ok\+\_\+gend@{ok\+\_\+gend}}
\index{ok\+\_\+gend@{ok\+\_\+gend}!role.\+c@{role.\+c}}
\subsubsection[{ok\+\_\+gend}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} ok\+\_\+gend (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum}
\end{DoxyParamCaption}
)}}\label{role_8c_adc510807e3362f828c9c14174f622e9b}


Definition at line 892 of file role.\+c.



References Gender\+::allow, Align\+::allow, F\+A\+L\+S\+E, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+M\+A\+S\+K, S\+I\+Z\+E, and T\+R\+U\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), pick\+\_\+gend(), plsel\+Adjust\+Lists(), plsel\+Init\+Dialog(), prompt\+\_\+for\+\_\+player\+\_\+selection(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
894 \{
895     \textcolor{keywordtype}{int} i;
896     \textcolor{keywordtype}{short} allow;
897 
898     \textcolor{keywordflow}{if} (gendnum >= 0 && gendnum < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}) \{
899     allow = \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].\hyperlink{structGender_a2f19e03e12a099f1a27af9e2965d1cca}{allow};
900     \textcolor{keywordflow}{if} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1 &&
901         !(allow & \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{you_8h_a8ae6a4686c2f6bf6d5cf51c59a8ef35d}{ROLE\_GENDMASK}))
902         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
903     \textcolor{keywordflow}{if} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1 &&
904         !(allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & ROLE\_GENDMASK))
905         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
906     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
907     \} \textcolor{keywordflow}{else} \{
908     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
909         allow = \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].\hyperlink{structGender_a2f19e03e12a099f1a27af9e2965d1cca}{allow};
910         \textcolor{keywordflow}{if} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1 &&
911             !(allow & \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & ROLE\_GENDMASK))
912         \textcolor{keywordflow}{continue};
913         \textcolor{keywordflow}{if} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1 &&
914             !(allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & ROLE\_GENDMASK))
915         \textcolor{keywordflow}{continue};
916         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
917     \}
918     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
919     \}
920 \}
\end{DoxyCode}
\hypertarget{role_8c_a56d4f004e4333c757761926cdba6f86b}{\index{role.\+c@{role.\+c}!ok\+\_\+race@{ok\+\_\+race}}
\index{ok\+\_\+race@{ok\+\_\+race}!role.\+c@{role.\+c}}
\subsubsection[{ok\+\_\+race}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} ok\+\_\+race (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum}
\end{DoxyParamCaption}
)}}\label{role_8c_a56d4f004e4333c757761926cdba6f86b}


Definition at line 825 of file role.\+c.



References Role\+::allow, Race\+::allow, Align\+::allow, F\+A\+L\+S\+E, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+M\+A\+S\+K, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+M\+A\+S\+K, R\+O\+L\+E\+\_\+\+R\+A\+C\+E\+M\+A\+S\+K, S\+I\+Z\+E, and T\+R\+U\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), pick\+\_\+race(), plsel\+Adjust\+Lists(), plsel\+Init\+Dialog(), prompt\+\_\+for\+\_\+player\+\_\+selection(), root\+\_\+plselection\+\_\+prompt(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
827 \{
828     \textcolor{keywordtype}{int} i;
829     \textcolor{keywordtype}{short} allow;
830 
831     \textcolor{keywordflow}{if} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1) \{
832     allow = \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].\hyperlink{structRace_ab83e1168110644aaec0af3651a2bad12}{allow};
833     \textcolor{keywordflow}{if} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1 &&
834         !(allow & \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{you_8h_a6f162119151f64f79ff2680bf5b2889f}{ROLE\_RACEMASK}))
835         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
836     \textcolor{keywordflow}{if} (gendnum >= 0 && gendnum < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS} &&
837         !(allow & \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].allow & \hyperlink{you_8h_a8ae6a4686c2f6bf6d5cf51c59a8ef35d}{ROLE\_GENDMASK}))
838         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
839     \textcolor{keywordflow}{if} (alignnum >= 0 && alignnum < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS} &&
840         !(allow & \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].allow & \hyperlink{you_8h_a54b438ba8356b2c94b1d3ad5a134f2ea}{ROLE\_ALIGNMASK}))
841         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
842     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
843     \} \textcolor{keywordflow}{else} \{
844     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1; i++) \{
845         allow = \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_ab83e1168110644aaec0af3651a2bad12}{allow};
846         \textcolor{keywordflow}{if} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1 &&
847             !(allow & \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{structRole_a971fdc715375fa65fd70999351fbbadc}{allow} & \hyperlink{you_8h_a6f162119151f64f79ff2680bf5b2889f}{ROLE\_RACEMASK}))
848         \textcolor{keywordflow}{continue};
849         \textcolor{keywordflow}{if} (gendnum >= 0 && gendnum < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS} &&
850             !(allow & \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].allow & ROLE\_GENDMASK))
851         \textcolor{keywordflow}{continue};
852         \textcolor{keywordflow}{if} (alignnum >= 0 && alignnum < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS} &&
853             !(allow & \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].allow & \hyperlink{you_8h_a54b438ba8356b2c94b1d3ad5a134f2ea}{ROLE\_ALIGNMASK}))
854         \textcolor{keywordflow}{continue};
855         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
856     \}
857     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
858     \}
859 \}
\end{DoxyCode}
\hypertarget{role_8c_a318d1e9bf43d8ea42709dc462487d4e2}{\index{role.\+c@{role.\+c}!ok\+\_\+role@{ok\+\_\+role}}
\index{ok\+\_\+role@{ok\+\_\+role}!role.\+c@{role.\+c}}
\subsubsection[{ok\+\_\+role}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} ok\+\_\+role (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum}
\end{DoxyParamCaption}
)}}\label{role_8c_a318d1e9bf43d8ea42709dc462487d4e2}


Definition at line 759 of file role.\+c.



References Role\+::allow, Race\+::allow, Align\+::allow, F\+A\+L\+S\+E, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+M\+A\+S\+K, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+M\+A\+S\+K, R\+O\+L\+E\+\_\+\+R\+A\+C\+E\+M\+A\+S\+K, S\+I\+Z\+E, and T\+R\+U\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), pick\+\_\+role(), plsel\+Adjust\+Lists(), plsel\+Init\+Dialog(), prompt\+\_\+for\+\_\+player\+\_\+selection(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
761 \{
762     \textcolor{keywordtype}{int} i;
763     \textcolor{keywordtype}{short} allow;
764 
765     \textcolor{keywordflow}{if} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1) \{
766     allow = \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{structRole_a971fdc715375fa65fd70999351fbbadc}{allow};
767     \textcolor{keywordflow}{if} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1 &&
768         !(allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & \hyperlink{you_8h_a6f162119151f64f79ff2680bf5b2889f}{ROLE\_RACEMASK}))
769         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
770     \textcolor{keywordflow}{if} (gendnum >= 0 && gendnum < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS} &&
771         !(allow & \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].allow & \hyperlink{you_8h_a8ae6a4686c2f6bf6d5cf51c59a8ef35d}{ROLE\_GENDMASK}))
772         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
773     \textcolor{keywordflow}{if} (alignnum >= 0 && alignnum < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS} &&
774         !(allow & \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].allow & \hyperlink{you_8h_a54b438ba8356b2c94b1d3ad5a134f2ea}{ROLE\_ALIGNMASK}))
775         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
776     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
777     \} \textcolor{keywordflow}{else} \{
778     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1; i++) \{
779         allow = \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_a971fdc715375fa65fd70999351fbbadc}{allow};
780         \textcolor{keywordflow}{if} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1 &&
781             !(allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].\hyperlink{structRace_ab83e1168110644aaec0af3651a2bad12}{allow} & \hyperlink{you_8h_a6f162119151f64f79ff2680bf5b2889f}{ROLE\_RACEMASK}))
782         \textcolor{keywordflow}{continue};
783         \textcolor{keywordflow}{if} (gendnum >= 0 && gendnum < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS} &&
784             !(allow & \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].allow & ROLE\_GENDMASK))
785         \textcolor{keywordflow}{continue};
786         \textcolor{keywordflow}{if} (alignnum >= 0 && alignnum < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS} &&
787             !(allow & \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].allow & \hyperlink{you_8h_a54b438ba8356b2c94b1d3ad5a134f2ea}{ROLE\_ALIGNMASK}))
788         \textcolor{keywordflow}{continue};
789         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
790     \}
791     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
792     \}
793 \}
\end{DoxyCode}
\hypertarget{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{\index{role.\+c@{role.\+c}!pick\+\_\+align@{pick\+\_\+align}}
\index{pick\+\_\+align@{pick\+\_\+align}!role.\+c@{role.\+c}}
\subsubsection[{pick\+\_\+align}]{\setlength{\rightskip}{0pt plus 5cm}int pick\+\_\+align (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{pickhow}
\end{DoxyParamCaption}
)}}\label{role_8c_a9697cef7cfa173a40d57e0626fed19c5}


Definition at line 989 of file role.\+c.



References ok\+\_\+align(), P\+I\+C\+K\+\_\+\+R\+I\+G\+I\+D, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S, and R\+O\+L\+E\+\_\+\+N\+O\+N\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), mswin\+\_\+player\+\_\+selection(), plsel\+Final\+Selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), rigid\+\_\+role\+\_\+checks(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
991 \{
992     \textcolor{keywordtype}{int} i;
993     \textcolor{keywordtype}{int} aligns\_ok = 0;
994 
995     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
996     \textcolor{keywordflow}{if} (\hyperlink{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{ok\_align}(rolenum, racenum, gendnum, i))
997         aligns\_ok++;
998     \}
999     \textcolor{keywordflow}{if} (aligns\_ok == 0 || (aligns\_ok > 1 && pickhow == \hyperlink{hack_8h_a66385b290d758c1a081eceae8f821900}{PICK\_RIGID}))
1000     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
1001     aligns\_ok = rn2(aligns\_ok);
1002     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
1003     \textcolor{keywordflow}{if} (\hyperlink{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{ok\_align}(rolenum, racenum, gendnum, i)) \{
1004         \textcolor{keywordflow}{if} (aligns\_ok == 0)
1005         \textcolor{keywordflow}{return} i;
1006         \textcolor{keywordflow}{else}
1007         aligns\_ok--;
1008     \}
1009     \}
1010     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
1011 \}
\end{DoxyCode}
\hypertarget{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{\index{role.\+c@{role.\+c}!pick\+\_\+gend@{pick\+\_\+gend}}
\index{pick\+\_\+gend@{pick\+\_\+gend}!role.\+c@{role.\+c}}
\subsubsection[{pick\+\_\+gend}]{\setlength{\rightskip}{0pt plus 5cm}int pick\+\_\+gend (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{alignnum, }
\item[{int}]{pickhow}
\end{DoxyParamCaption}
)}}\label{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}


Definition at line 927 of file role.\+c.



References ok\+\_\+gend(), P\+I\+C\+K\+\_\+\+R\+I\+G\+I\+D, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, and R\+O\+L\+E\+\_\+\+N\+O\+N\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), mswin\+\_\+player\+\_\+selection(), plsel\+Final\+Selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), rigid\+\_\+role\+\_\+checks(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
929 \{
930     \textcolor{keywordtype}{int} i;
931     \textcolor{keywordtype}{int} gends\_ok = 0;
932 
933     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
934     \textcolor{keywordflow}{if} (\hyperlink{role_8c_adc510807e3362f828c9c14174f622e9b}{ok\_gend}(rolenum, racenum, i, alignnum))
935         gends\_ok++;
936     \}
937     \textcolor{keywordflow}{if} (gends\_ok == 0 || (gends\_ok > 1 && pickhow == \hyperlink{hack_8h_a66385b290d758c1a081eceae8f821900}{PICK\_RIGID}))
938     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
939     gends\_ok = rn2(gends\_ok);
940     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
941     \textcolor{keywordflow}{if} (\hyperlink{role_8c_adc510807e3362f828c9c14174f622e9b}{ok\_gend}(rolenum, racenum, i, alignnum)) \{
942         \textcolor{keywordflow}{if} (gends\_ok == 0)
943         \textcolor{keywordflow}{return} i;
944         \textcolor{keywordflow}{else}
945         gends\_ok--;
946     \}
947     \}
948     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
949 \}
\end{DoxyCode}
\hypertarget{role_8c_aa6df5e095937cd04b595a860f324c3b6}{\index{role.\+c@{role.\+c}!pick\+\_\+race@{pick\+\_\+race}}
\index{pick\+\_\+race@{pick\+\_\+race}!role.\+c@{role.\+c}}
\subsubsection[{pick\+\_\+race}]{\setlength{\rightskip}{0pt plus 5cm}int pick\+\_\+race (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum, }
\item[{int}]{pickhow}
\end{DoxyParamCaption}
)}}\label{role_8c_aa6df5e095937cd04b595a860f324c3b6}


Definition at line 865 of file role.\+c.



References ok\+\_\+race(), P\+I\+C\+K\+\_\+\+R\+I\+G\+I\+D, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, and S\+I\+Z\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), mswin\+\_\+player\+\_\+selection(), plsel\+Final\+Selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), rigid\+\_\+role\+\_\+checks(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
867 \{
868     \textcolor{keywordtype}{int} i;
869     \textcolor{keywordtype}{int} races\_ok = 0;
870 
871     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1; i++) \{
872     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(rolenum, i, gendnum, alignnum))
873         races\_ok++;
874     \}
875     \textcolor{keywordflow}{if} (races\_ok == 0 || (races\_ok > 1 && pickhow == \hyperlink{hack_8h_a66385b290d758c1a081eceae8f821900}{PICK\_RIGID}))
876     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
877     races\_ok = rn2(races\_ok);
878     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1; i++) \{
879     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(rolenum, i, gendnum, alignnum)) \{
880         \textcolor{keywordflow}{if} (races\_ok == 0)
881         \textcolor{keywordflow}{return} i;
882         \textcolor{keywordflow}{else}
883         races\_ok--;
884     \}
885     \}
886     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
887 \}
\end{DoxyCode}
\hypertarget{role_8c_a45a06501725a029f2a6d153cc0018cef}{\index{role.\+c@{role.\+c}!pick\+\_\+role@{pick\+\_\+role}}
\index{pick\+\_\+role@{pick\+\_\+role}!role.\+c@{role.\+c}}
\subsubsection[{pick\+\_\+role}]{\setlength{\rightskip}{0pt plus 5cm}int pick\+\_\+role (
\begin{DoxyParamCaption}
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum, }
\item[{int}]{pickhow}
\end{DoxyParamCaption}
)}}\label{role_8c_a45a06501725a029f2a6d153cc0018cef}


Definition at line 799 of file role.\+c.



References ok\+\_\+role(), P\+I\+C\+K\+\_\+\+R\+I\+G\+I\+D, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, and S\+I\+Z\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), mswin\+\_\+player\+\_\+selection(), plsel\+Final\+Selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), rigid\+\_\+role\+\_\+checks(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
801 \{
802     \textcolor{keywordtype}{int} i;
803     \textcolor{keywordtype}{int} roles\_ok = 0;
804 
805     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1; i++) \{
806     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a318d1e9bf43d8ea42709dc462487d4e2}{ok\_role}(i, racenum, gendnum, alignnum))
807         roles\_ok++;
808     \}
809     \textcolor{keywordflow}{if} (roles\_ok == 0 || (roles\_ok > 1 && pickhow == \hyperlink{hack_8h_a66385b290d758c1a081eceae8f821900}{PICK\_RIGID}))
810     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
811     roles\_ok = rn2(roles\_ok);
812     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1; i++) \{
813     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a318d1e9bf43d8ea42709dc462487d4e2}{ok\_role}(i, racenum, gendnum, alignnum)) \{
814         \textcolor{keywordflow}{if} (roles\_ok == 0)
815         \textcolor{keywordflow}{return} i;
816         \textcolor{keywordflow}{else}
817         roles\_ok--;
818     \}
819     \}
820     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
821 \}
\end{DoxyCode}
\hypertarget{role_8c_aa0498399050c03eb7ddd757e2d7f320e}{\index{role.\+c@{role.\+c}!plnamesuffix@{plnamesuffix}}
\index{plnamesuffix@{plnamesuffix}!role.\+c@{role.\+c}}
\subsubsection[{plnamesuffix}]{\setlength{\rightskip}{0pt plus 5cm}void plnamesuffix (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{role_8c_aa0498399050c03eb7ddd757e2d7f320e}


Definition at line 1292 of file role.\+c.



References askname, flags, index(), flag\+::initalign, flag\+::initgend, flag\+::initrace, flag\+::initrole, plname, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, str2align(), str2gend(), str2race(), and str2role().



Referenced by M\+A\+I\+N(), main(), parse\+\_\+config\+\_\+line(), and role\+\_\+init().


\begin{DoxyCode}
1293 \{
1294     \textcolor{keywordtype}{char} *sptr, *eptr;
1295     \textcolor{keywordtype}{int} i;
1296 
1297     \textcolor{comment}{/* Look for tokens delimited by '-' */}
1298     \textcolor{keywordflow}{if} ((eptr = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(\hyperlink{decl_8h_a362b24d8378ea9e5a611cc50d66e354b}{plname}, \textcolor{charliteral}{'-'})) != (\textcolor{keywordtype}{char} *) 0)
1299         *eptr++ = \textcolor{charliteral}{'\(\backslash\)0'};
1300     \textcolor{keywordflow}{while} (eptr) \{
1301         \textcolor{comment}{/* Isolate the next token */}
1302         sptr = eptr;
1303         \textcolor{keywordflow}{if} ((eptr = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(sptr, \textcolor{charliteral}{'-'})) != (\textcolor{keywordtype}{char} *)0)
1304         *eptr++ = \textcolor{charliteral}{'\(\backslash\)0'};
1305 
1306         \textcolor{comment}{/* Try to match it to something */}
1307         \textcolor{keywordflow}{if} ((i = \hyperlink{role_8c_a2de30162987e6e96565ef4f40e4b6287}{str2role}(sptr)) != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})
1308         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = i;
1309         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((i = \hyperlink{role_8c_a53f7288b95e8681fa29297e9a569dedd}{str2race}(sptr)) != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})
1310         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = i;
1311         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((i = \hyperlink{role_8c_ad6f8bc3004e83473137ca1224e0b56d4}{str2gend}(sptr)) != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})
1312         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = i;
1313         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((i = \hyperlink{role_8c_abfc9f1ea07a5fc0f61c21f8314534e94}{str2align}(sptr)) != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})
1314         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = i;
1315     \}
1316     \textcolor{keywordflow}{if}(!\hyperlink{decl_8h_a362b24d8378ea9e5a611cc50d66e354b}{plname}[0]) \{
1317         \hyperlink{winprocs_8h_ad24a017e7b5381254a426b4f653881d6}{askname}();
1318         \hyperlink{role_8c_aa0498399050c03eb7ddd757e2d7f320e}{plnamesuffix}();
1319     \}
1320 
1321     \textcolor{comment}{/* commas in the plname confuse the record file, convert to spaces */}
1322     \textcolor{keywordflow}{for} (sptr = \hyperlink{decl_8h_a362b24d8378ea9e5a611cc50d66e354b}{plname}; *sptr; sptr++) \{
1323         \textcolor{keywordflow}{if} (*sptr == \textcolor{charliteral}{','}) *sptr = \textcolor{charliteral}{' '};
1324     \}
1325 \}
\end{DoxyCode}
\hypertarget{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}{\index{role.\+c@{role.\+c}!promptsep@{promptsep}}
\index{promptsep@{promptsep}!role.\+c@{role.\+c}}
\subsubsection[{promptsep}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} char$\ast$ promptsep (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buf, }
\item[{int}]{num\+\_\+post\+\_\+attribs}
\end{DoxyParamCaption}
)}}\label{role_8c_adef6ea5f740bc71ef91d18b9bf94d8ba}


Definition at line 1056 of file role.\+c.



References buf, post\+\_\+attribs, and Strcat.



Referenced by build\+\_\+plselection\+\_\+prompt().


\begin{DoxyCode}
1059 \{
1060     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *conj = \textcolor{stringliteral}{"and "};
1061     \textcolor{keywordflow}{if} (num\_post\_attribs > 1
1062         && post\_attribs < num\_post\_attribs && post\_attribs > 1)
1063         \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{","}); 
1064     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, \textcolor{stringliteral}{" "});
1065     --\hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs};
1066     \textcolor{keywordflow}{if} (!\hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs} && num\_post\_attribs > 1) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, conj);
1067     \textcolor{keywordflow}{return} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf};
1068 \}
\end{DoxyCode}
\hypertarget{role_8c_a2b54c41b8db0929df7ec5f0ee77d9555}{\index{role.\+c@{role.\+c}!race\+\_\+alignmentcount@{race\+\_\+alignmentcount}}
\index{race\+\_\+alignmentcount@{race\+\_\+alignmentcount}!role.\+c@{role.\+c}}
\subsubsection[{race\+\_\+alignmentcount}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} int race\+\_\+alignmentcount (
\begin{DoxyParamCaption}
\item[{int}]{racenum}
\end{DoxyParamCaption}
)}}\label{role_8c_a2b54c41b8db0929df7ec5f0ee77d9555}


Definition at line 1084 of file role.\+c.



References Align\+::allow, R\+O\+L\+E\+\_\+\+C\+H\+A\+O\+T\+I\+C, R\+O\+L\+E\+\_\+\+L\+A\+W\+F\+U\+L, R\+O\+L\+E\+\_\+\+N\+E\+U\+T\+R\+A\+L, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, and R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M.



Referenced by root\+\_\+plselection\+\_\+prompt().


\begin{DoxyCode}
1086 \{
1087     \textcolor{keywordtype}{int} aligncount = 0;
1088     \textcolor{keywordflow}{if} (racenum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} && racenum != \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{
1089         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & \hyperlink{you_8h_a99330e0c098285aa885d972389dd45ce}{ROLE\_CHAOTIC}) ++aligncount;
1090         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & \hyperlink{you_8h_a9c82b7f766cfa52d15c87be7aed75426}{ROLE\_LAWFUL}) ++aligncount;
1091         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & \hyperlink{you_8h_a5e76b20bfd503a51513110ad85a444be}{ROLE\_NEUTRAL}) ++aligncount;
1092     \}
1093     \textcolor{keywordflow}{return} aligncount;
1094 \}
\end{DoxyCode}
\hypertarget{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{\index{role.\+c@{role.\+c}!randalign@{randalign}}
\index{randalign@{randalign}!role.\+c@{role.\+c}}
\subsubsection[{randalign}]{\setlength{\rightskip}{0pt plus 5cm}int randalign (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum}
\end{DoxyParamCaption}
)}}\label{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}


Definition at line 704 of file role.\+c.



References Align\+::allow, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+M\+A\+S\+K, and R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S.



Referenced by gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), and role\+\_\+init().


\begin{DoxyCode}
706 \{
707     \textcolor{keywordtype}{int} i, n = 0;
708 
709     \textcolor{comment}{/* Count the number of valid alignments */}
710     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++)
711         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow &
712                 \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[i].allow & \hyperlink{you_8h_a54b438ba8356b2c94b1d3ad5a134f2ea}{ROLE\_ALIGNMASK})
713             n++;
714 
715     \textcolor{comment}{/* Pick a random alignment */}
716     \textcolor{keywordflow}{if} (n) n = rn2(n);
717     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++)
718         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow &
719                 \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[i].allow & ROLE\_ALIGNMASK) \{
720             \textcolor{keywordflow}{if} (n) n--;
721             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} (i);
722         \}
723 
724     \textcolor{comment}{/* This role/race has no permitted alignments? */}
725     \textcolor{keywordflow}{return} (rn2(ROLE\_ALIGNS));
726 \}
\end{DoxyCode}
\hypertarget{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}{\index{role.\+c@{role.\+c}!randgend@{randgend}}
\index{randgend@{randgend}!role.\+c@{role.\+c}}
\subsubsection[{randgend}]{\setlength{\rightskip}{0pt plus 5cm}int randgend (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum}
\end{DoxyParamCaption}
)}}\label{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}


Definition at line 638 of file role.\+c.



References Align\+::allow, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, and R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+M\+A\+S\+K.



Referenced by gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), and prompt\+\_\+for\+\_\+player\+\_\+selection().


\begin{DoxyCode}
640 \{
641     \textcolor{keywordtype}{int} i, n = 0;
642 
643     \textcolor{comment}{/* Count the number of valid genders */}
644     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++)
645         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow &
646                 \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].allow & \hyperlink{you_8h_a8ae6a4686c2f6bf6d5cf51c59a8ef35d}{ROLE\_GENDMASK})
647             n++;
648 
649     \textcolor{comment}{/* Pick a random gender */}
650     \textcolor{keywordflow}{if} (n) n = rn2(n);
651     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++)
652         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow &
653                 \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].allow & ROLE\_GENDMASK) \{
654             \textcolor{keywordflow}{if} (n) n--;
655             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} (i);
656         \}
657 
658     \textcolor{comment}{/* This role/race has no permitted genders? */}
659     \textcolor{keywordflow}{return} (rn2(ROLE\_GENDERS));
660 \}
\end{DoxyCode}
\hypertarget{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{\index{role.\+c@{role.\+c}!randrace@{randrace}}
\index{randrace@{randrace}!role.\+c@{role.\+c}}
\subsubsection[{randrace}]{\setlength{\rightskip}{0pt plus 5cm}int randrace (
\begin{DoxyParamCaption}
\item[{int}]{rolenum}
\end{DoxyParamCaption}
)}}\label{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}


Definition at line 572 of file role.\+c.



References Align\+::allow, Race\+::noun, R\+O\+L\+E\+\_\+\+R\+A\+C\+E\+M\+A\+S\+K, and S\+I\+Z\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), and role\+\_\+init().


\begin{DoxyCode}
574 \{
575     \textcolor{keywordtype}{int} i, n = 0;
576 
577     \textcolor{comment}{/* Count the number of valid races */}
578     \textcolor{keywordflow}{for} (i = 0; \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++)
579         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].allow & \hyperlink{you_8h_a6f162119151f64f79ff2680bf5b2889f}{ROLE\_RACEMASK})
580             n++;
581 
582     \textcolor{comment}{/* Pick a random race */}
583     \textcolor{comment}{/* Use a factor of 100 in case of bad random number generators */}
584     \textcolor{keywordflow}{if} (n) n = rn2(n*100)/100;
585     \textcolor{keywordflow}{for} (i = 0; \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++)
586         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].allow & ROLE\_RACEMASK) \{
587             \textcolor{keywordflow}{if} (n) n--;
588             \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} (i);
589         \}
590 
591     \textcolor{comment}{/* This role has no permitted races? */}
592     \textcolor{keywordflow}{return} (rn2(\hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1));
593 \}
\end{DoxyCode}
\hypertarget{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{\index{role.\+c@{role.\+c}!randrole@{randrole}}
\index{randrole@{randrole}!role.\+c@{role.\+c}}
\subsubsection[{randrole}]{\setlength{\rightskip}{0pt plus 5cm}int randrole (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}


Definition at line 522 of file role.\+c.



References S\+I\+Z\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), halu\+\_\+gname(), mac\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), rigid\+\_\+role\+\_\+checks(), and role\+\_\+init().


\begin{DoxyCode}
523 \{
524     \textcolor{keywordflow}{return} (rn2(\hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1));
525 \}
\end{DoxyCode}
\hypertarget{role_8c_a521efbade09bd358497df48478d916cd}{\index{role.\+c@{role.\+c}!rigid\+\_\+role\+\_\+checks@{rigid\+\_\+role\+\_\+checks}}
\index{rigid\+\_\+role\+\_\+checks@{rigid\+\_\+role\+\_\+checks}!role.\+c@{role.\+c}}
\subsubsection[{rigid\+\_\+role\+\_\+checks}]{\setlength{\rightskip}{0pt plus 5cm}void rigid\+\_\+role\+\_\+checks (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{role_8c_a521efbade09bd358497df48478d916cd}


Definition at line 1014 of file role.\+c.



References flags, flag\+::initalign, flag\+::initgend, flag\+::initrace, flag\+::initrole, pick\+\_\+align(), pick\+\_\+gend(), pick\+\_\+race(), P\+I\+C\+K\+\_\+\+R\+A\+N\+D\+O\+M, P\+I\+C\+K\+\_\+\+R\+I\+G\+I\+D, pick\+\_\+role(), randrole(), R\+O\+L\+E\+\_\+\+N\+O\+N\+E, and R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M.



Referenced by gnome\+\_\+player\+\_\+selection(), prompt\+\_\+for\+\_\+player\+\_\+selection(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
1015 \{
1016     \textcolor{comment}{/* Some roles are limited to a single race, alignment, or gender and}
1017 \textcolor{comment}{     * calling this routine prior to XXX\_player\_selection() will help}
1018 \textcolor{comment}{     * prevent an extraneous prompt that actually doesn't allow}
1019 \textcolor{comment}{     * you to choose anything further. Note the use of PICK\_RIGID which}
1020 \textcolor{comment}{     * causes the pick\_XX() routine to return a value only if there is one}
1021 \textcolor{comment}{     * single possible selection, otherwise it returns ROLE\_NONE.}
1022 \textcolor{comment}{     *}
1023 \textcolor{comment}{     */}
1024     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{
1025     \textcolor{comment}{/* If the role was explicitly specified as ROLE\_RANDOM}
1026 \textcolor{comment}{     * via -uXXXX-@ then choose the role in here to narrow down}
1027 \textcolor{comment}{     * later choices. Pick a random role in this case.}
1028 \textcolor{comment}{     */}
1029     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a45a06501725a029f2a6d153cc0018cef}{pick\_role}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
1030                     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
1031     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} < 0)
1032         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}();
1033     \}
1034     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) \{
1035     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})
1036          \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = \hyperlink{role_8c_aa6df5e095937cd04b595a860f324c3b6}{pick\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
1037                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_a66385b290d758c1a081eceae8f821900}{PICK\_RIGID});
1038     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})
1039          \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{pick\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
1040                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{hack_8h_a66385b290d758c1a081eceae8f821900}{PICK\_RIGID});
1041     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})
1042          \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{pick\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
1043                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_a66385b290d758c1a081eceae8f821900}{PICK\_RIGID});
1044     \}
1045 \}
\end{DoxyCode}
\hypertarget{role_8c_af169bf70a5f6014c0438cb98368c1799}{\index{role.\+c@{role.\+c}!role\+\_\+gendercount@{role\+\_\+gendercount}}
\index{role\+\_\+gendercount@{role\+\_\+gendercount}!role.\+c@{role.\+c}}
\subsubsection[{role\+\_\+gendercount}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} int role\+\_\+gendercount (
\begin{DoxyParamCaption}
\item[{int}]{rolenum}
\end{DoxyParamCaption}
)}}\label{role_8c_af169bf70a5f6014c0438cb98368c1799}


Definition at line 1071 of file role.\+c.



References Align\+::allow, R\+O\+L\+E\+\_\+\+F\+E\+M\+A\+L\+E, R\+O\+L\+E\+\_\+\+M\+A\+L\+E, R\+O\+L\+E\+\_\+\+N\+E\+U\+T\+E\+R, and validrole().



Referenced by root\+\_\+plselection\+\_\+prompt().


\begin{DoxyCode}
1073 \{
1074     \textcolor{keywordtype}{int} gendcount = 0;
1075     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum)) \{
1076         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{you_8h_ad91c2d5f3ef0e8fcbf6aaf7c01e43a0d}{ROLE\_MALE}) ++gendcount;
1077         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{you_8h_a01c6422e9630bdfe514d53c134d7553b}{ROLE\_FEMALE}) ++gendcount;
1078         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{you_8h_ad8e64efea10e2da1c55a47875b6a93d3}{ROLE\_NEUTER}) ++gendcount;
1079     \}
1080     \textcolor{keywordflow}{return} gendcount;
1081 \}
\end{DoxyCode}
\hypertarget{role_8c_a0af2e586f642074d70c46e171bdb2060}{\index{role.\+c@{role.\+c}!role\+\_\+init@{role\+\_\+init}}
\index{role\+\_\+init@{role\+\_\+init}!role.\+c@{role.\+c}}
\subsubsection[{role\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void role\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{role_8c_a0af2e586f642074d70c46e171bdb2060}


Definition at line 1345 of file role.\+c.



References Role\+::cgod, flag\+::female, Role\+::femalenum, flags, Role\+::guardnum, flag\+::initalign, flag\+::initgend, flag\+::initrace, flag\+::initrole, Role\+::ldrnum, Role\+::lgod, Role\+Name\+::m, M2\+\_\+\+H\+O\+S\+T\+I\+L\+E, M2\+\_\+\+N\+A\+S\+T\+Y, M2\+\_\+\+P\+E\+A\+C\+E\+F\+U\+L, M2\+\_\+\+S\+T\+A\+L\+K, M3\+\_\+\+C\+L\+O\+S\+E, M3\+\_\+\+I\+N\+F\+R\+A\+V\+I\+S\+I\+O\+N, M3\+\_\+\+W\+A\+I\+T\+F\+O\+R\+U, M3\+\_\+\+W\+A\+N\+T\+S\+A\+R\+T\+I, Role\+::malenum, Race\+::malenum, permonst\+::maligntyp, permonst\+::mflags2, permonst\+::mflags3, mons, M\+S\+\_\+\+L\+E\+A\+D\+E\+R, M\+S\+\_\+\+N\+E\+M\+E\+S\+I\+S, permonst\+::msound, Role\+::name, Role\+::neminum, Role\+::ngod, N\+O\+N\+\_\+\+P\+M, flag\+::pantheon, pl\+\_\+character, P\+L\+\_\+\+C\+S\+I\+Z, plnamesuffix(), randalign(), randrace(), randrole(), str2role(), Strcpy, validalign(), validgend(), validrace(), validrole(), and Align\+::value.



Referenced by restgamestate().


\begin{DoxyCode}
1346 \{
1347     \textcolor{keywordtype}{int} alignmnt;
1348 
1349     \textcolor{comment}{/* Strip the role letter out of the player name.}
1350 \textcolor{comment}{     * This is included for backwards compatibility.}
1351 \textcolor{comment}{     */}
1352     \hyperlink{role_8c_aa0498399050c03eb7ddd757e2d7f320e}{plnamesuffix}();
1353 
1354     \textcolor{comment}{/* Check for a valid role.  Try flags.initrole first. */}
1355     \textcolor{keywordflow}{if} (!\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole})) \{
1356         \textcolor{comment}{/* Try the player letter second */}
1357         \textcolor{keywordflow}{if} ((\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a2de30162987e6e96565ef4f40e4b6287}{str2role}(\hyperlink{decl_8h_a053ad248bf641e54a6f7bfb6a8fb9e05}{pl\_character})) < 0)
1358             \textcolor{comment}{/* None specified; pick a random role */}
1359             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}();
1360     \}
1361 
1362     \textcolor{comment}{/* We now have a valid role index.  Copy the role name back. */}
1363     \textcolor{comment}{/* This should become OBSOLETE */}
1364     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(\hyperlink{decl_8h_a053ad248bf641e54a6f7bfb6a8fb9e05}{pl\_character}, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}].
      \hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a264d1ed0d4715edaaad295e8ab4c1002}{m});
1365     \hyperlink{decl_8h_a053ad248bf641e54a6f7bfb6a8fb9e05}{pl\_character}[\hyperlink{global_8h_a3f5961f1c41a0daa234ae964519332f2}{PL\_CSIZ}-1] = \textcolor{charliteral}{'\(\backslash\)0'};
1366 
1367     \textcolor{comment}{/* Check for a valid race */}
1368     \textcolor{keywordflow}{if} (!\hyperlink{role_8c_a648c22cd7c57851ea871247be474763b}{validrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}))
1369         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = \hyperlink{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{randrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole});
1370 
1371     \textcolor{comment}{/* Check for a valid gender.  If new game, check both initgend}
1372 \textcolor{comment}{     * and female.  On restore, assume flags.female is correct. */}
1373     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon} == -1) \{    \textcolor{comment}{/* new game */}
1374         \textcolor{keywordflow}{if} (!\hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female}))
1375         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female} = !\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female};
1376     \}
1377     \textcolor{keywordflow}{if} (!\hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}))
1378         \textcolor{comment}{/* Note that there is no way to check for an unspecified gender. */}
1379         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female};
1380 
1381     \textcolor{comment}{/* Check for a valid alignment */}
1382     \textcolor{keywordflow}{if} (!\hyperlink{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{validalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}))
1383         \textcolor{comment}{/* Pick a random alignment */}
1384         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{randalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
1385     alignmnt = \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}].\hyperlink{structAlign_a0fd9044db67c458ef85ff28c84593947}{value};
1386 
1387     \textcolor{comment}{/* Initialize urole and urace */}
1388     \hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole} = \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}];
1389     \hyperlink{role_8c_adaecc633890bd84d5cfceaf4a513bbaa}{urace} = \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}];
1390 
1391     \textcolor{comment}{/* Fix up the quest leader */}
1392     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a0540f9522a3678aa359d4d84ad7c9f28}{ldrnum} != \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}) \{
1393         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a0540f9522a3678aa359d4d84ad7c9f28}{ldrnum}].\hyperlink{structpermonst_a8f9cc062b40fa92ce38e504987326190}{msound} = \hyperlink{monflag_8h_a57dd24aec371766f02747931edfcad46}{MS\_LEADER};
1394         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a0540f9522a3678aa359d4d84ad7c9f28}{ldrnum}].\hyperlink{structpermonst_ad620729c9694b29047996af4e5380030}{mflags2} |= (\hyperlink{monflag_8h_a18535af1508e418579a601e74ab571c8}{M2\_PEACEFUL});
1395         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a0540f9522a3678aa359d4d84ad7c9f28}{ldrnum}].\hyperlink{structpermonst_ac5987c08238b33d93531fb396b0d98db}{mflags3} |= \hyperlink{monflag_8h_af82bef56ee71b15c2745bbd1c5cc3549}{M3\_CLOSE};
1396         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a0540f9522a3678aa359d4d84ad7c9f28}{ldrnum}].\hyperlink{structpermonst_ad92ab559c3dc08cc1a40f3413377d787}{maligntyp} = alignmnt * 3;
1397     \}
1398 
1399     \textcolor{comment}{/* Fix up the quest guardians */}
1400     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a3bd52e2bb34943b6f68757fadf6fe6fb}{guardnum} != \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}) \{
1401         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a3bd52e2bb34943b6f68757fadf6fe6fb}{guardnum}].\hyperlink{structpermonst_ad620729c9694b29047996af4e5380030}{mflags2} |= (\hyperlink{monflag_8h_a18535af1508e418579a601e74ab571c8}{M2\_PEACEFUL});
1402         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a3bd52e2bb34943b6f68757fadf6fe6fb}{guardnum}].\hyperlink{structpermonst_ad92ab559c3dc08cc1a40f3413377d787}{maligntyp} = alignmnt * 3;
1403     \}
1404 
1405     \textcolor{comment}{/* Fix up the quest nemesis */}
1406     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aec68a6097bd49a6e67141282f92ad09c}{neminum} != \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}) \{
1407         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aec68a6097bd49a6e67141282f92ad09c}{neminum}].\hyperlink{structpermonst_a8f9cc062b40fa92ce38e504987326190}{msound} = \hyperlink{monflag_8h_ad3e95482807ad66e48de9c5e1c865e63}{MS\_NEMESIS};
1408         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aec68a6097bd49a6e67141282f92ad09c}{neminum}].\hyperlink{structpermonst_ad620729c9694b29047996af4e5380030}{mflags2} &= ~(\hyperlink{monflag_8h_a18535af1508e418579a601e74ab571c8}{M2\_PEACEFUL});
1409         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aec68a6097bd49a6e67141282f92ad09c}{neminum}].\hyperlink{structpermonst_ad620729c9694b29047996af4e5380030}{mflags2} |= (\hyperlink{monflag_8h_a61e8e846ead219820cce7f0961a27f25}{M2\_NASTY}|
      \hyperlink{monflag_8h_a71f52f89efda4e22bd3458973a9d981e}{M2\_STALK}|\hyperlink{monflag_8h_a20c7f91e355794d999ba23e95e06e3e7}{M2\_HOSTILE});
1410         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aec68a6097bd49a6e67141282f92ad09c}{neminum}].\hyperlink{structpermonst_ac5987c08238b33d93531fb396b0d98db}{mflags3} |= \hyperlink{monflag_8h_acffdd40c01928441a189dee8b1f1aa9c}{M3\_WANTSARTI} | 
      \hyperlink{monflag_8h_a5f22b81192022dc2e675cb658a7a71ac}{M3\_WAITFORU};
1411     \}
1412 
1413     \textcolor{comment}{/* Fix up the god names */}
1414     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon} == -1) \{        \textcolor{comment}{/* new game */}
1415         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon} = \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole};  \textcolor{comment}{/* use own gods */}
1416         \textcolor{keywordflow}{while} (!\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon}].\hyperlink{structRole_a71dfd97228277634b596856f4732e74b}{lgod})   \textcolor{comment}{/* unless they're missing */}
1417         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon} = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}();
1418     \}
1419     \textcolor{keywordflow}{if} (!\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a71dfd97228277634b596856f4732e74b}{lgod}) \{
1420         \hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a71dfd97228277634b596856f4732e74b}{lgod} = \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon}].\hyperlink{structRole_a71dfd97228277634b596856f4732e74b}{lgod};
1421         \hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aa4c0b03524de8f7c7efcaa301b8badbb}{ngod} = \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon}].\hyperlink{structRole_aa4c0b03524de8f7c7efcaa301b8badbb}{ngod};
1422         \hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a72dc55eac27db8d205b94bcb35c708fd}{cgod} = \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a845a1767e4894171f7364a6122a0e09c}{pantheon}].\hyperlink{structRole_a72dc55eac27db8d205b94bcb35c708fd}{cgod};
1423     \}
1424 
1425     \textcolor{comment}{/* Fix up infravision */}
1426     \textcolor{keywordflow}{if} (\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_adaecc633890bd84d5cfceaf4a513bbaa}{urace}.\hyperlink{structRace_a6dc454d6faae86cdc46c9a4f53f3f132}{malenum}].\hyperlink{structpermonst_ac5987c08238b33d93531fb396b0d98db}{mflags3} & \hyperlink{monflag_8h_a5cbd6bf71a0f186dded9e9c1d783b7af}{M3\_INFRAVISION}) \{
1427         \textcolor{comment}{/* although an infravision intrinsic is possible, infravision}
1428 \textcolor{comment}{         * is purely a property of the physical race.  This means that we}
1429 \textcolor{comment}{         * must put the infravision flag in the player's current race}
1430 \textcolor{comment}{         * (either that or have separate permonst entries for}
1431 \textcolor{comment}{         * elven/non-elven members of each class).  The side effect is that}
1432 \textcolor{comment}{         * all NPCs of that class will have (probably bogus) infravision,}
1433 \textcolor{comment}{         * but since infravision has no effect for NPCs anyway we can}
1434 \textcolor{comment}{         * ignore this.}
1435 \textcolor{comment}{         */}
1436         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aa88f771ec189bdfc9d50fd7e9a9800df}{malenum}].\hyperlink{structpermonst_ac5987c08238b33d93531fb396b0d98db}{mflags3} |= \hyperlink{monflag_8h_a5cbd6bf71a0f186dded9e9c1d783b7af}{M3\_INFRAVISION};
1437         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a3df6c34453ea826bb3bad15d174765d1}{femalenum} != \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM})
1438             \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[\hyperlink{role_8c_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a3df6c34453ea826bb3bad15d174765d1}{femalenum}].\hyperlink{structpermonst_ac5987c08238b33d93531fb396b0d98db}{mflags3} |= 
      \hyperlink{monflag_8h_a5cbd6bf71a0f186dded9e9c1d783b7af}{M3\_INFRAVISION};
1439     \}
1440 
1441     \textcolor{comment}{/* Artifacts are fixed in hack\_artifacts() */}
1442 
1443     \textcolor{comment}{/* Success! */}
1444     \textcolor{keywordflow}{return};
1445 \}
\end{DoxyCode}
\hypertarget{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}{\index{role.\+c@{role.\+c}!root\+\_\+plselection\+\_\+prompt@{root\+\_\+plselection\+\_\+prompt}}
\index{root\+\_\+plselection\+\_\+prompt@{root\+\_\+plselection\+\_\+prompt}!role.\+c@{role.\+c}}
\subsubsection[{root\+\_\+plselection\+\_\+prompt}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ root\+\_\+plselection\+\_\+prompt (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{suppliedbuf, }
\item[{int}]{buflen, }
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum, }
\item[{int}]{alignnum}
\end{DoxyParamCaption}
)}}\label{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}


Definition at line 1097 of file role.\+c.



References Align\+::adj, B\+P\+\_\+\+A\+L\+I\+G\+N, B\+P\+\_\+\+G\+E\+N\+D, B\+P\+\_\+\+R\+A\+C\+E, B\+P\+\_\+\+R\+O\+L\+E, buf, B\+U\+F\+S\+Z, F\+A\+L\+S\+E, name, Align\+::noun, N\+U\+M\+\_\+\+B\+P, ok\+\_\+race(), race\+\_\+alignmentcount(), role\+\_\+gendercount(), R\+O\+L\+E\+\_\+\+N\+O\+N\+E, R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M, Strcat, Strcpy, T\+R\+U\+E, and validrole().



Referenced by build\+\_\+plselection\+\_\+prompt(), prompt\+\_\+for\+\_\+player\+\_\+selection(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
1100 \{
1101     \textcolor{keywordtype}{int} k, gendercount = 0, aligncount = 0;
1102     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
1103     \textcolor{keyword}{static} \textcolor{keywordtype}{char} err\_ret[] = \textcolor{stringliteral}{" character's"};
1104     \textcolor{keywordtype}{boolean} donefirst = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1105 
1106     \textcolor{keywordflow}{if} (!suppliedbuf || buflen < 1) \textcolor{keywordflow}{return} err\_ret;
1107 
1108     \textcolor{comment}{/* initialize these static variables each time this is called */}
1109     \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs} = 0;
1110     \textcolor{keywordflow}{for} (k=0; k < \hyperlink{role_8c_a3585d964b589947584ff7916c193ad15}{NUM\_BP}; ++k)
1111         \hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[k] = 0;
1112     buf[0] = \textcolor{charliteral}{'\(\backslash\)0'};
1113     *suppliedbuf = \textcolor{charliteral}{'\(\backslash\)0'};
1114     
1115     \textcolor{comment}{/* How many alignments are allowed for the desired race? */}
1116     \textcolor{keywordflow}{if} (racenum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} && racenum != \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM})
1117         aligncount = \hyperlink{role_8c_a2b54c41b8db0929df7ec5f0ee77d9555}{race\_alignmentcount}(racenum);
1118 
1119     \textcolor{keywordflow}{if} (alignnum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} && alignnum != \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{
1120         \textcolor{comment}{/* if race specified, and multiple choice of alignments for it */}
1121         \textcolor{keywordflow}{if} ((racenum >= 0) && (aligncount > 1)) \{
1122             \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "});
1123             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].adj);
1124             donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1125         \} \textcolor{keywordflow}{else} \{
1126             \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "});
1127             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].adj);
1128             donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1129         \}
1130     \} \textcolor{keywordflow}{else} \{
1131         \textcolor{comment}{/* if alignment not specified, but race is specified}
1132 \textcolor{comment}{            and only one choice of alignment for that race then}
1133 \textcolor{comment}{            don't include it in the later list */}
1134         \textcolor{keywordflow}{if} ((((racenum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} && racenum != \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) &&
1135             \hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(rolenum, racenum, gendnum, alignnum))
1136               && (aligncount > 1))
1137              || (racenum == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} || racenum == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM})) \{
1138             \hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a05fe44353ee8ff94905f4ec5939d4038}{BP\_ALIGN}] = 1;
1139             \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs}++;
1140         \}
1141     \}
1142     \textcolor{comment}{/* <your lawful> */}
1143 
1144     \textcolor{comment}{/* How many genders are allowed for the desired role? */}
1145     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum))
1146         gendercount = \hyperlink{role_8c_af169bf70a5f6014c0438cb98368c1799}{role\_gendercount}(rolenum);
1147 
1148     \textcolor{keywordflow}{if} (gendnum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}  && gendnum != \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{
1149         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum)) \{
1150              \textcolor{comment}{/* if role specified, and multiple choice of genders for it,}
1151 \textcolor{comment}{            and name of role itself does not distinguish gender */}
1152             \textcolor{keywordflow}{if} ((rolenum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) && (gendercount > 1)
1153                         && !\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f) \{
1154                 \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "});
1155                 \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].adj);
1156                 donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1157             \}
1158             \} \textcolor{keywordflow}{else} \{
1159             \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "});
1160                 \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].adj);
1161             donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1162             \}
1163     \} \textcolor{keywordflow}{else} \{
1164         \textcolor{comment}{/* if gender not specified, but role is specified}
1165 \textcolor{comment}{            and only one choice of gender then}
1166 \textcolor{comment}{            don't include it in the later list */}
1167         \textcolor{keywordflow}{if} ((\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum) && (gendercount > 1)) || !\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum)) \{
1168             \hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a18a3fa993be7f7a92434595521eb3244}{BP\_GEND}] = 1;
1169             \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs}++;
1170         \}
1171     \}
1172     \textcolor{comment}{/* <your lawful female> */}
1173 
1174     \textcolor{keywordflow}{if} (racenum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} && racenum != \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{
1175         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum) && \hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(rolenum, racenum, gendnum, alignnum)) \{
1176             \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "}); 
1177             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, (rolenum == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) ?
1178                 \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].noun :
1179                 \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].adj);
1180             donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1181         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum)) \{
1182             \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "});
1183             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].noun);
1184             donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1185         \} \textcolor{keywordflow}{else} \{
1186             \hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a72586af28a6b8446df48a843bf941304}{BP\_RACE}] = 1;
1187             \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs}++;
1188         \}
1189     \} \textcolor{keywordflow}{else} \{
1190         \hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a72586af28a6b8446df48a843bf941304}{BP\_RACE}] = 1;
1191         \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs}++;
1192     \}
1193     \textcolor{comment}{/* <your lawful female gnomish> || <your lawful female gnome> */}
1194 
1195     \textcolor{keywordflow}{if} (\hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum)) \{
1196         \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "});
1197         \textcolor{keywordflow}{if} (gendnum != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) \{
1198             \textcolor{keywordflow}{if} (gendnum == 1  && \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f)
1199             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f);
1200             \textcolor{keywordflow}{else}
1201             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m);
1202         \} \textcolor{keywordflow}{else} \{
1203             \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f) \{
1204                 \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m);
1205                 \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{"/"});
1206                 \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f);
1207             \} \textcolor{keywordflow}{else} 
1208                 \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m);
1209         \}
1210         donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1211     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (rolenum == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) \{
1212         \hyperlink{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{pa}[\hyperlink{role_8c_a770b8cf6467591a0fdb14060f311cef9}{BP\_ROLE}] = 1;
1213         \hyperlink{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{post\_attribs}++;
1214     \}
1215     
1216     \textcolor{keywordflow}{if} ((racenum == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} || racenum == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) && !
      \hyperlink{role_8c_a13c45456448c8fb75d6513843139e02c}{validrole}(rolenum)) \{
1217         \textcolor{keywordflow}{if} (donefirst) \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{" "});
1218         \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \textcolor{stringliteral}{"character"});
1219         donefirst = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1220     \}
1221     \textcolor{comment}{/* <your lawful female gnomish cavewoman> || <your lawful female gnome>}
1222 \textcolor{comment}{     *    || <your lawful female character>}
1223 \textcolor{comment}{     */}
1224     \textcolor{keywordflow}{if} (buflen > (\textcolor{keywordtype}{int}) (strlen(buf) + 1)) \{
1225         \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(suppliedbuf, buf);
1226         \textcolor{keywordflow}{return} suppliedbuf;
1227     \} \textcolor{keywordflow}{else}
1228         \textcolor{keywordflow}{return} err\_ret;
1229 \}
\end{DoxyCode}
\hypertarget{role_8c_abfc9f1ea07a5fc0f61c21f8314534e94}{\index{role.\+c@{role.\+c}!str2align@{str2align}}
\index{str2align@{str2align}!role.\+c@{role.\+c}}
\subsubsection[{str2align}]{\setlength{\rightskip}{0pt plus 5cm}int str2align (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{role_8c_abfc9f1ea07a5fc0f61c21f8314534e94}


Definition at line 730 of file role.\+c.



References Align\+::adj, Align\+::filecode, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M, strcmpi, and strncmpi().



Referenced by parseoptions(), and plnamesuffix().


\begin{DoxyCode}
732 \{
733     \textcolor{keywordtype}{int} i, len;
734 
735     \textcolor{comment}{/* Is str valid? */}
736     \textcolor{keywordflow}{if} (!str || !str[0])
737         \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
738 
739     \textcolor{comment}{/* Match as much of str as is provided */}
740     len = strlen(str);
741     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
742         \textcolor{comment}{/* Does it match the adjective? */}
743         \textcolor{keywordflow}{if} (!\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[i].adj, len))
744         \textcolor{keywordflow}{return} i;
745         \textcolor{comment}{/* Or the filecode? */}
746         \textcolor{keywordflow}{if} (!\hyperlink{global_8h_a22452a37cca2c671ad3a973f776e2e42}{strcmpi}(str, \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[i].filecode))
747         \textcolor{keywordflow}{return} i;
748     \}
749     \textcolor{keywordflow}{if} ((len == 1 && (*str == \textcolor{charliteral}{'*'} || *str == \textcolor{charliteral}{'@'})) ||
750         !\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_af60e6d963efe6e92d0fefea01455aab8}{randomstr}, len))
751         \textcolor{keywordflow}{return} \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM};
752 
753     \textcolor{comment}{/* Couldn't find anything appropriate */}
754     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
755 \}
\end{DoxyCode}
\hypertarget{role_8c_ad6f8bc3004e83473137ca1224e0b56d4}{\index{role.\+c@{role.\+c}!str2gend@{str2gend}}
\index{str2gend@{str2gend}!role.\+c@{role.\+c}}
\subsubsection[{str2gend}]{\setlength{\rightskip}{0pt plus 5cm}int str2gend (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{role_8c_ad6f8bc3004e83473137ca1224e0b56d4}


Definition at line 664 of file role.\+c.



References Align\+::adj, Align\+::filecode, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M, strcmpi, and strncmpi().



Referenced by parseoptions(), and plnamesuffix().


\begin{DoxyCode}
666 \{
667     \textcolor{keywordtype}{int} i, len;
668 
669     \textcolor{comment}{/* Is str valid? */}
670     \textcolor{keywordflow}{if} (!str || !str[0])
671         \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
672 
673     \textcolor{comment}{/* Match as much of str as is provided */}
674     len = strlen(str);
675     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
676         \textcolor{comment}{/* Does it match the adjective? */}
677         \textcolor{keywordflow}{if} (!\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].adj, len))
678         \textcolor{keywordflow}{return} i;
679         \textcolor{comment}{/* Or the filecode? */}
680         \textcolor{keywordflow}{if} (!\hyperlink{global_8h_a22452a37cca2c671ad3a973f776e2e42}{strcmpi}(str, \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].filecode))
681         \textcolor{keywordflow}{return} i;
682     \}
683     \textcolor{keywordflow}{if} ((len == 1 && (*str == \textcolor{charliteral}{'*'} || *str == \textcolor{charliteral}{'@'})) ||
684         !\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_af60e6d963efe6e92d0fefea01455aab8}{randomstr}, len))
685         \textcolor{keywordflow}{return} \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM};
686 
687     \textcolor{comment}{/* Couldn't find anything appropriate */}
688     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
689 \}
\end{DoxyCode}
\hypertarget{role_8c_a53f7288b95e8681fa29297e9a569dedd}{\index{role.\+c@{role.\+c}!str2race@{str2race}}
\index{str2race@{str2race}!role.\+c@{role.\+c}}
\subsubsection[{str2race}]{\setlength{\rightskip}{0pt plus 5cm}int str2race (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{role_8c_a53f7288b95e8681fa29297e9a569dedd}


Definition at line 597 of file role.\+c.



References Align\+::filecode, Race\+::noun, Align\+::noun, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M, strcmpi, and strncmpi().



Referenced by parseoptions(), plnamesuffix(), process\+\_\+options(), and score\+\_\+wanted().


\begin{DoxyCode}
599 \{
600     \textcolor{keywordtype}{int} i, len;
601 
602     \textcolor{comment}{/* Is str valid? */}
603     \textcolor{keywordflow}{if} (!str || !str[0])
604         \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
605 
606     \textcolor{comment}{/* Match as much of str as is provided */}
607     len = strlen(str);
608     \textcolor{keywordflow}{for} (i = 0; \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++) \{
609         \textcolor{comment}{/* Does it match the noun? */}
610         \textcolor{keywordflow}{if} (!\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].noun, len))
611         \textcolor{keywordflow}{return} i;
612         \textcolor{comment}{/* Or the filecode? */}
613         \textcolor{keywordflow}{if} (!\hyperlink{global_8h_a22452a37cca2c671ad3a973f776e2e42}{strcmpi}(str, \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].filecode))
614         \textcolor{keywordflow}{return} i;
615     \}
616 
617     \textcolor{keywordflow}{if} ((len == 1 && (*str == \textcolor{charliteral}{'*'} || *str == \textcolor{charliteral}{'@'})) ||
618         !\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_af60e6d963efe6e92d0fefea01455aab8}{randomstr}, len))
619         \textcolor{keywordflow}{return} \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM};
620 
621     \textcolor{comment}{/* Couldn't find anything appropriate */}
622     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
623 \}
\end{DoxyCode}
\hypertarget{role_8c_a2de30162987e6e96565ef4f40e4b6287}{\index{role.\+c@{role.\+c}!str2role@{str2role}}
\index{str2role@{str2role}!role.\+c@{role.\+c}}
\subsubsection[{str2role}]{\setlength{\rightskip}{0pt plus 5cm}int str2role (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{role_8c_a2de30162987e6e96565ef4f40e4b6287}


Definition at line 529 of file role.\+c.



References Align\+::filecode, Role\+Name\+::m, Role\+::name, name, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M, strcmpi, and strncmpi().



Referenced by mac\+\_\+askname(), parse\+\_\+config\+\_\+line(), parseoptions(), plnamesuffix(), process\+\_\+options(), readentry(), role\+\_\+init(), and score\+\_\+wanted().


\begin{DoxyCode}
531 \{
532     \textcolor{keywordtype}{int} i, len;
533 
534     \textcolor{comment}{/* Is str valid? */}
535     \textcolor{keywordflow}{if} (!str || !str[0])
536         \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
537 
538     \textcolor{comment}{/* Match as much of str as is provided */}
539     len = strlen(str);
540     \textcolor{keywordflow}{for} (i = 0; \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a264d1ed0d4715edaaad295e8ab4c1002}{m}; i++) \{
541         \textcolor{comment}{/* Does it match the male name? */}
542         \textcolor{keywordflow}{if} (!\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m, len))
543         \textcolor{keywordflow}{return} i;
544         \textcolor{comment}{/* Or the female name? */}
545         \textcolor{keywordflow}{if} (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f && !\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].
      \hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f, len))
546         \textcolor{keywordflow}{return} i;
547         \textcolor{comment}{/* Or the filecode? */}
548         \textcolor{keywordflow}{if} (!\hyperlink{global_8h_a22452a37cca2c671ad3a973f776e2e42}{strcmpi}(str, \hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].filecode))
549         \textcolor{keywordflow}{return} i;
550     \}
551 
552     \textcolor{keywordflow}{if} ((len == 1 && (*str == \textcolor{charliteral}{'*'} || *str == \textcolor{charliteral}{'@'})) ||
553         !\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(str, \hyperlink{role_8c_af60e6d963efe6e92d0fefea01455aab8}{randomstr}, len))
554         \textcolor{keywordflow}{return} \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM};
555 
556     \textcolor{comment}{/* Couldn't find anything appropriate */}
557     \textcolor{keywordflow}{return} \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE};
558 \}
\end{DoxyCode}
\hypertarget{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{\index{role.\+c@{role.\+c}!validalign@{validalign}}
\index{validalign@{validalign}!role.\+c@{role.\+c}}
\subsubsection[{validalign}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} validalign (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{alignnum}
\end{DoxyParamCaption}
)}}\label{role_8c_ab01f2c791fe250b69c15c02535bca8b0}


Definition at line 693 of file role.\+c.



References Align\+::allow, R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+M\+A\+S\+K, and R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S.



Referenced by gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), plsel\+Final\+Selection(), plsel\+Init\+Dialog(), prompt\+\_\+for\+\_\+player\+\_\+selection(), role\+\_\+init(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
695 \{
696     \textcolor{comment}{/* Assumes validrole and validrace */}
697     \textcolor{keywordflow}{return} (alignnum >= 0 && alignnum < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS} &&
698         (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow &
699          \hyperlink{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[alignnum].allow & \hyperlink{you_8h_a54b438ba8356b2c94b1d3ad5a134f2ea}{ROLE\_ALIGNMASK}));
700 \}
\end{DoxyCode}
\hypertarget{role_8c_a2205e818d885f836907a6cf7ffa869de}{\index{role.\+c@{role.\+c}!validgend@{validgend}}
\index{validgend@{validgend}!role.\+c@{role.\+c}}
\subsubsection[{validgend}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} validgend (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum, }
\item[{int}]{gendnum}
\end{DoxyParamCaption}
)}}\label{role_8c_a2205e818d885f836907a6cf7ffa869de}


Definition at line 627 of file role.\+c.



References Align\+::allow, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, and R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+M\+A\+S\+K.



Referenced by gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), plsel\+Final\+Selection(), plsel\+Init\+Dialog(), prompt\+\_\+for\+\_\+player\+\_\+selection(), role\+\_\+init(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
629 \{
630     \textcolor{comment}{/* Assumes validrole and validrace */}
631     \textcolor{keywordflow}{return} (gendnum >= 0 && gendnum < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS} &&
632         (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow &
633          \hyperlink{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[gendnum].allow & \hyperlink{you_8h_a8ae6a4686c2f6bf6d5cf51c59a8ef35d}{ROLE\_GENDMASK}));
634 \}
\end{DoxyCode}
\hypertarget{role_8c_a648c22cd7c57851ea871247be474763b}{\index{role.\+c@{role.\+c}!validrace@{validrace}}
\index{validrace@{validrace}!role.\+c@{role.\+c}}
\subsubsection[{validrace}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} validrace (
\begin{DoxyParamCaption}
\item[{int}]{rolenum, }
\item[{int}]{racenum}
\end{DoxyParamCaption}
)}}\label{role_8c_a648c22cd7c57851ea871247be474763b}


Definition at line 562 of file role.\+c.



References Align\+::allow, R\+O\+L\+E\+\_\+\+R\+A\+C\+E\+M\+A\+S\+K, and S\+I\+Z\+E.



Referenced by gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), plsel\+Final\+Selection(), plsel\+Init\+Dialog(), prompt\+\_\+for\+\_\+player\+\_\+selection(), role\+\_\+init(), and X11\+\_\+player\+\_\+selection().


\begin{DoxyCode}
564 \{
565     \textcolor{comment}{/* Assumes validrole */}
566     \textcolor{keywordflow}{return} (racenum >= 0 && racenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races})-1 &&
567         (\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles}[rolenum].allow & \hyperlink{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{races}[racenum].allow & \hyperlink{you_8h_a6f162119151f64f79ff2680bf5b2889f}{ROLE\_RACEMASK}));
568 \}
\end{DoxyCode}
\hypertarget{role_8c_a13c45456448c8fb75d6513843139e02c}{\index{role.\+c@{role.\+c}!validrole@{validrole}}
\index{validrole@{validrole}!role.\+c@{role.\+c}}
\subsubsection[{validrole}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} validrole (
\begin{DoxyParamCaption}
\item[{int}]{rolenum}
\end{DoxyParamCaption}
)}}\label{role_8c_a13c45456448c8fb75d6513843139e02c}


Definition at line 514 of file role.\+c.



References S\+I\+Z\+E.



Referenced by build\+\_\+plselection\+\_\+prompt(), role\+\_\+gendercount(), role\+\_\+init(), and root\+\_\+plselection\+\_\+prompt().


\begin{DoxyCode}
516 \{
517     \textcolor{keywordflow}{return} (rolenum >= 0 && rolenum < \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{role_8c_ae6c97706d31bdeff4786e51b96747db0}{roles})-1);
518 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{\index{role.\+c@{role.\+c}!aligns@{aligns}}
\index{aligns@{aligns}!role.\+c@{role.\+c}}
\subsubsection[{aligns}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} struct {\bf Align} aligns\mbox{[}$\,$\mbox{]}}}\label{role_8c_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \{\textcolor{stringliteral}{"law"},     \textcolor{stringliteral}{"lawful"},   \textcolor{stringliteral}{"Law"},  \hyperlink{you_8h_a9c82b7f766cfa52d15c87be7aed75426}{ROLE\_LAWFUL}, \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL}\},
    \{\textcolor{stringliteral}{"balance"}, \textcolor{stringliteral}{"neutral"},  \textcolor{stringliteral}{"Neu"},  \hyperlink{you_8h_a5e76b20bfd503a51513110ad85a444be}{ROLE\_NEUTRAL},   \hyperlink{align_8h_a58fee99b3a5a5db767e86d4c6705c9a1}{A\_NEUTRAL}\},
    \{\textcolor{stringliteral}{"chaos"},   \textcolor{stringliteral}{"chaotic"},  \textcolor{stringliteral}{"Cha"},  \hyperlink{you_8h_a99330e0c098285aa885d972389dd45ce}{ROLE\_CHAOTIC},   \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC}\},
    \{\textcolor{stringliteral}{"evil"},    \textcolor{stringliteral}{"unaligned"},    \textcolor{stringliteral}{"Una"},  0,      \hyperlink{align_8h_abe65d0cb8c8ae018c5bd63a280000eaa}{A\_NONE}\}
\}
\end{DoxyCode}


Definition at line 498 of file role.\+c.



Referenced by ask\+\_\+redraw(), get\+\_\+compopt\+\_\+value(), gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), plsel\+Adjust\+Lists(), prompt\+\_\+for\+\_\+player\+\_\+selection(), topten(), u\+\_\+init(), and X11\+\_\+player\+\_\+selection().

\hypertarget{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}{\index{role.\+c@{role.\+c}!genders@{genders}}
\index{genders@{genders}!role.\+c@{role.\+c}}
\subsubsection[{genders}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} struct {\bf Gender} genders\mbox{[}$\,$\mbox{]}}}\label{role_8c_a054315bd2a7d5525da7f008b40c3a6bf}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \{\textcolor{stringliteral}{"male"},    \textcolor{stringliteral}{"he"},   \textcolor{stringliteral}{"him"},  \textcolor{stringliteral}{"his"},  \textcolor{stringliteral}{"Mal"},  \hyperlink{you_8h_ad91c2d5f3ef0e8fcbf6aaf7c01e43a0d}{ROLE\_MALE}\},
    \{\textcolor{stringliteral}{"female"},  \textcolor{stringliteral}{"she"},  \textcolor{stringliteral}{"her"},  \textcolor{stringliteral}{"her"},  \textcolor{stringliteral}{"Fem"},  \hyperlink{you_8h_a01c6422e9630bdfe514d53c134d7553b}{ROLE\_FEMALE}\},
    \{\textcolor{stringliteral}{"neuter"},  \textcolor{stringliteral}{"it"},   \textcolor{stringliteral}{"it"},   \textcolor{stringliteral}{"its"},  \textcolor{stringliteral}{"Ntr"},  \hyperlink{you_8h_ad8e64efea10e2da1c55a47875b6a93d3}{ROLE\_NEUTER}\}
\}
\end{DoxyCode}


Definition at line 490 of file role.\+c.



Referenced by ask\+\_\+redraw(), get\+\_\+compopt\+\_\+value(), gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), plsel\+Adjust\+Lists(), prompt\+\_\+for\+\_\+player\+\_\+selection(), topten(), and X11\+\_\+player\+\_\+selection().

\hypertarget{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}{\index{role.\+c@{role.\+c}!pa@{pa}}
\index{pa@{pa}!role.\+c@{role.\+c}}
\subsubsection[{pa}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+V\+A\+R} char pa\mbox{[}{\bf N\+U\+M\+\_\+\+B\+P}\mbox{]}}}\label{role_8c_ab73dbf10013f6b15f6c1dcb2bd99d876}


Definition at line 1053 of file role.\+c.

\hypertarget{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}{\index{role.\+c@{role.\+c}!post\+\_\+attribs@{post\+\_\+attribs}}
\index{post\+\_\+attribs@{post\+\_\+attribs}!role.\+c@{role.\+c}}
\subsubsection[{post\+\_\+attribs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+V\+A\+R} char post\+\_\+attribs}}\label{role_8c_a5bdcc81180fb120f75a25cc7d71d1113}


Definition at line 1053 of file role.\+c.



Referenced by build\+\_\+plselection\+\_\+prompt(), and promptsep().

\hypertarget{role_8c_a7ebf30ca392e4038a1d95c63f317d967}{\index{role.\+c@{role.\+c}!races@{races}}
\index{races@{races}!role.\+c@{role.\+c}}
\subsubsection[{races}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} struct {\bf Race} races\mbox{[}$\,$\mbox{]}}}\label{role_8c_a7ebf30ca392e4038a1d95c63f317d967}


Definition at line 406 of file role.\+c.



Referenced by ask\+\_\+redraw(), get\+\_\+compopt\+\_\+value(), gnome\+\_\+player\+\_\+selection(), mac\+\_\+askname(), plsel\+Adjust\+Lists(), prompt\+\_\+for\+\_\+player\+\_\+selection(), race\+\_\+key(), and X11\+\_\+player\+\_\+selection().

\hypertarget{role_8c_af60e6d963efe6e92d0fefea01455aab8}{\index{role.\+c@{role.\+c}!randomstr@{randomstr}}
\index{randomstr@{randomstr}!role.\+c@{role.\+c}}
\subsubsection[{randomstr}]{\setlength{\rightskip}{0pt plus 5cm}char {\bf N\+E\+A\+R\+D\+A\+T\+A} randomstr\mbox{[}$\,$\mbox{]} = \char`\"{}random\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}}\label{role_8c_af60e6d963efe6e92d0fefea01455aab8}


Definition at line 510 of file role.\+c.

\hypertarget{role_8c_ae6c97706d31bdeff4786e51b96747db0}{\index{role.\+c@{role.\+c}!roles@{roles}}
\index{roles@{roles}!role.\+c@{role.\+c}}
\subsubsection[{roles}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} struct {\bf Role} roles\mbox{[}$\,$\mbox{]}}}\label{role_8c_ae6c97706d31bdeff4786e51b96747db0}


Definition at line 27 of file role.\+c.



Referenced by ask\+\_\+redraw(), classmon(), get\+\_\+compopt\+\_\+value(), gnome\+\_\+player\+\_\+selection(), halu\+\_\+gname(), mac\+\_\+askname(), player\+\_\+sel\+\_\+key\+\_\+hit(), plsel\+Adjust\+Lists(), prompt\+\_\+for\+\_\+player\+\_\+selection(), ps\+\_\+key(), readentry(), and X11\+\_\+player\+\_\+selection().

\hypertarget{role_8c_adaecc633890bd84d5cfceaf4a513bbaa}{\index{role.\+c@{role.\+c}!urace@{urace}}
\index{urace@{urace}!role.\+c@{role.\+c}}
\subsubsection[{urace}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Race} urace}}\label{role_8c_adaecc633890bd84d5cfceaf4a513bbaa}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{   \textcolor{stringliteral}{"something"}, \textcolor{stringliteral}{"undefined"}, \textcolor{stringliteral}{"something"}, \textcolor{stringliteral}{"Xxx"},
    \{0, 0\},
    \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM},
    0, 0, 0, 0,
    
    \{      3,      3,  3,  3,  3,  3 \},
    \{ \hyperlink{attrib_8h_a66a5edfb2b1d12ca5d01ee986ce5cda8}{STR18}(100), 18, 18, 18, 18, 18 \},
    
    \{  2, 0,  0, 2,  1, 0 \},    
    \{  1, 0,  2, 0,  2, 0 \}     
\}
\end{DoxyCode}


Definition at line 475 of file role.\+c.



Referenced by done(), done\+\_\+in\+\_\+by(), dosacrifice(), ini\+\_\+inv(), load\+\_\+qtlist(), lookat(), losexp(), pluslvl(), topten(), and u\+\_\+init().

\hypertarget{role_8c_a5e8177648a9df85179098399b7ce2c66}{\index{role.\+c@{role.\+c}!urole@{urole}}
\index{urole@{urole}!role.\+c@{role.\+c}}
\subsubsection[{urole}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf Role} urole}}\label{role_8c_a5e8177648a9df85179098399b7ce2c66}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{   \{\textcolor{stringliteral}{"Undefined"}, 0\}, \{ \{0, 0\}, \{0, 0\}, \{0, 0\},
    \{0, 0\}, \{0, 0\}, \{0, 0\}, \{0, 0\}, \{0, 0\}, \{0, 0\} \},
    \textcolor{stringliteral}{"L"}, \textcolor{stringliteral}{"N"}, \textcolor{stringliteral}{"C"}, \textcolor{stringliteral}{"Xxx"}, \textcolor{stringliteral}{"home"}, \textcolor{stringliteral}{"locate"},
    \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM},
    \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM}, 0, 0, 0, 0,
    
    \{   7,  7,  7,  7,  7,  7 \},
    \{  20, 15, 15, 20, 20, 10 \},
    
    \{ 10, 0,  0, 8,  1, 0 \},    
    \{  2, 0,  0, 2,  0, 3 \},14, 
    0, 10, 0, 0,  4, \hyperlink{attrib_8h_a583ef0a9b22ce89bcf0df81228b424b5}{A\_INT}, 0, -3
\}
\end{DoxyCode}


Definition at line 388 of file role.\+c.



Referenced by align\+\_\+gname(), align\+\_\+gtitle(), can\+\_\+twoweapon(), convert\+\_\+arg(), done(), find\+\_\+roll\+\_\+to\+\_\+hit(), guardname(), homebase(), intermed(), is\+\_\+quest\+\_\+artifact(), ldrname(), load\+\_\+qtlist(), losexp(), makelevel(), mplayer\+\_\+talk(), neminame(), percent\+\_\+success(), pluslvl(), qt\+\_\+montype(), quest\+\_\+info(), set\+\_\+bonesfile\+\_\+name(), topten(), and u\+\_\+init().

