\hypertarget{mactopl_8c}{\section{nethack/sys/mac/mactopl.c File Reference}
\label{mactopl_8c}\index{nethack/sys/mac/mactopl.\+c@{nethack/sys/mac/mactopl.\+c}}
}
{\ttfamily \#include \char`\"{}hack.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mactty.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}macwin.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}macpopup.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
char \hyperlink{mactopl_8c_a50461f5c14d3a1773fac430a0c827ae0}{queued\+\_\+resp} (char $\ast$resp)
\item 
char \hyperlink{mactopl_8c_a72c4292d26feedf74cb3f02b88b4d1e0}{topl\+\_\+yn\+\_\+function} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$query, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$resp, char def)
\item 
char \hyperlink{mactopl_8c_a2df9a94fc62d4202e3d49bceed6eee0a}{mac\+\_\+yn\+\_\+function} (char $\ast$query, char $\ast$resp, char def) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{mactopl_8c_a2df9a94fc62d4202e3d49bceed6eee0a}{\index{mactopl.\+c@{mactopl.\+c}!mac\+\_\+yn\+\_\+function@{mac\+\_\+yn\+\_\+function}}
\index{mac\+\_\+yn\+\_\+function@{mac\+\_\+yn\+\_\+function}!mactopl.\+c@{mactopl.\+c}}
\subsubsection[{mac\+\_\+yn\+\_\+function}]{\setlength{\rightskip}{0pt plus 5cm}char mac\+\_\+yn\+\_\+function (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{query, }
\item[{char$\ast$}]{resp, }
\item[{char}]{def}
\end{DoxyParamCaption}
) const}}\label{mactopl_8c_a2df9a94fc62d4202e3d49bceed6eee0a}


Definition at line 51 of file mactopl.\+c.



References topl\+\_\+yn\+\_\+function().


\begin{DoxyCode}
61 \{
62         \textcolor{keywordflow}{return} \hyperlink{mactopl_8c_a72c4292d26feedf74cb3f02b88b4d1e0}{topl\_yn\_function}(query, resp, def);
63 \}
\end{DoxyCode}
\hypertarget{mactopl_8c_a50461f5c14d3a1773fac430a0c827ae0}{\index{mactopl.\+c@{mactopl.\+c}!queued\+\_\+resp@{queued\+\_\+resp}}
\index{queued\+\_\+resp@{queued\+\_\+resp}!mactopl.\+c@{mactopl.\+c}}
\subsubsection[{queued\+\_\+resp}]{\setlength{\rightskip}{0pt plus 5cm}char queued\+\_\+resp (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{resp}
\end{DoxyParamCaption}
)}}\label{mactopl_8c_a50461f5c14d3a1773fac430a0c827ae0}


Definition at line 11 of file mactopl.\+c.



References buf, try\+\_\+key\+\_\+queue(), and yn\+\_\+number.



Referenced by topl\+\_\+yn\+\_\+function().


\begin{DoxyCode}
11                         \{
12     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[30];
13     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a336b0f4640568ff74f60c3d8b29e8d52}{try\_key\_queue}(buf)) \{
14         \textcolor{keywordflow}{if} (!resp || strchr(resp, buf[0]))
15             \textcolor{keywordflow}{return} buf[0];
16         \textcolor{keywordflow}{if} (digit(buf[0]) && strchr(resp, \textcolor{charliteral}{'#'})) \{
17             \hyperlink{decl_8h_a8d0d181363445ec14b97df39150532e9}{yn\_number} = atoi(buf);
18             \textcolor{keywordflow}{return} \textcolor{charliteral}{'#'};
19         \}
20     \}
21     \textcolor{keywordflow}{return} \textcolor{charliteral}{'\(\backslash\)0'};
22 \}
\end{DoxyCode}
\hypertarget{mactopl_8c_a72c4292d26feedf74cb3f02b88b4d1e0}{\index{mactopl.\+c@{mactopl.\+c}!topl\+\_\+yn\+\_\+function@{topl\+\_\+yn\+\_\+function}}
\index{topl\+\_\+yn\+\_\+function@{topl\+\_\+yn\+\_\+function}!mactopl.\+c@{mactopl.\+c}}
\subsubsection[{topl\+\_\+yn\+\_\+function}]{\setlength{\rightskip}{0pt plus 5cm}char topl\+\_\+yn\+\_\+function (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{query, }
\item[{{\bf const} char $\ast$}]{resp, }
\item[{char}]{def}
\end{DoxyParamCaption}
)}}\label{mactopl_8c_a72c4292d26feedf74cb3f02b88b4d1e0}


Definition at line 26 of file mactopl.\+c.



References buf, enter\+\_\+topl\+\_\+mode(), leave\+\_\+topl\+\_\+mode(), nhbell, queued\+\_\+resp(), topl\+\_\+set\+\_\+resp(), and yn\+\_\+number.



Referenced by mac\+\_\+yn\+\_\+function().


\begin{DoxyCode}
26                                                                 \{
27     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[30];
28     \textcolor{keywordtype}{char} c = \hyperlink{mactopl_8c_a50461f5c14d3a1773fac430a0c827ae0}{queued\_resp}((\textcolor{keywordtype}{char} *) resp);
29     \textcolor{keywordflow}{if} (!c) \{
30         \hyperlink{macwin_8c_aa6e33d4f635b32400951988d58316edf}{enter\_topl\_mode}((\textcolor{keywordtype}{char} *) query);
31         \hyperlink{macwin_8c_a7919e577c7f6fe3391905caaf29b5afb}{topl\_set\_resp}((\textcolor{keywordtype}{char} *) resp, def);
32 
33         \textcolor{keywordflow}{do} \{
34             c = readchar();
35             \textcolor{keywordflow}{if} (c && resp && !strchr(resp, c)) \{
36                 \hyperlink{winprocs_8h_af67660f5fad2a702109065ec601ca346}{nhbell}();
37                 c = \textcolor{charliteral}{'\(\backslash\)0'};
38             \}
39         \} \textcolor{keywordflow}{while} (!c);
40 
41         \hyperlink{macwin_8c_a7919e577c7f6fe3391905caaf29b5afb}{topl\_set\_resp}(\textcolor{stringliteral}{""}, \textcolor{charliteral}{'\(\backslash\)0'});
42         \hyperlink{macwin_8c_acdf93be14c6dd2032b3d9881423c18dd}{leave\_topl\_mode}(buf);
43         \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'#'})
44             \hyperlink{decl_8h_a8d0d181363445ec14b97df39150532e9}{yn\_number} = atoi(buf);
45     \}
46     \textcolor{keywordflow}{return} c;
47 \}
\end{DoxyCode}
