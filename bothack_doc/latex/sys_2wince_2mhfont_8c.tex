\hypertarget{sys_2wince_2mhfont_8c}{\section{nethack/sys/wince/mhfont.c File Reference}
\label{sys_2wince_2mhfont_8c}\index{nethack/sys/wince/mhfont.\+c@{nethack/sys/wince/mhfont.\+c}}
}
{\ttfamily \#include \char`\"{}mhfont.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structfont__table__entry}{font\+\_\+table\+\_\+entry}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{sys_2wince_2mhfont_8c_ac108d78d76235e3c7cada0c2e56b7e2d}{M\+A\+X\+F\+O\+N\+T\+S}~64
\item 
\#define \hyperlink{sys_2wince_2mhfont_8c_a73fbdee996b853e53e93270fe8962a41}{N\+H\+F\+O\+N\+T\+\_\+\+C\+O\+D\+E}(win, attr)~(((attr\&0x\+F\+F)$<$$<$8)$\vert$(win\+\_\+type\&0x\+F\+F))
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \+\_\+\+\_\+cdecl \hyperlink{sys_2wince_2mhfont_8c_a9835f9edcbfe14bfb3057e9753231358}{font\+\_\+table\+\_\+cleanup} (void)
\item 
H\+G\+D\+I\+O\+B\+J \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\+\_\+get\+\_\+font} (int win\+\_\+type, int attr, H\+D\+C hdc, B\+O\+O\+L replace)
\item 
\hyperlink{def__os2_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+N\+T} \hyperlink{sys_2wince_2mhfont_8c_af970523ac3adefc3a252ad43200ef52b}{mswin\+\_\+charset} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static struct \hyperlink{structfont__table__entry}{font\+\_\+table\+\_\+entry} \hyperlink{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{font\+\_\+table} \mbox{[}\hyperlink{win_2win32_2mhfont_8c_ac108d78d76235e3c7cada0c2e56b7e2d}{M\+A\+X\+F\+O\+N\+T\+S}\mbox{]}
\item 
static int \hyperlink{sys_2wince_2mhfont_8c_a870a1589aac5ea704e9c345c2f5d7579}{font\+\_\+table\+\_\+size} = 0
\item 
H\+F\+O\+N\+T \hyperlink{sys_2wince_2mhfont_8c_a0d004a3aaea8816abf5163eb27c1c246}{version\+\_\+splash\+\_\+font}
\item 
H\+F\+O\+N\+T \hyperlink{sys_2wince_2mhfont_8c_af67642dea6ec7be51c100a4bd965351a}{extrainfo\+\_\+splash\+\_\+font}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{sys_2wince_2mhfont_8c_ac108d78d76235e3c7cada0c2e56b7e2d}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!M\+A\+X\+F\+O\+N\+T\+S@{M\+A\+X\+F\+O\+N\+T\+S}}
\index{M\+A\+X\+F\+O\+N\+T\+S@{M\+A\+X\+F\+O\+N\+T\+S}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{M\+A\+X\+F\+O\+N\+T\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+F\+O\+N\+T\+S~64}}\label{sys_2wince_2mhfont_8c_ac108d78d76235e3c7cada0c2e56b7e2d}


Definition at line 8 of file mhfont.\+c.



Referenced by mswin\+\_\+get\+\_\+font().

\hypertarget{sys_2wince_2mhfont_8c_a73fbdee996b853e53e93270fe8962a41}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!N\+H\+F\+O\+N\+T\+\_\+\+C\+O\+D\+E@{N\+H\+F\+O\+N\+T\+\_\+\+C\+O\+D\+E}}
\index{N\+H\+F\+O\+N\+T\+\_\+\+C\+O\+D\+E@{N\+H\+F\+O\+N\+T\+\_\+\+C\+O\+D\+E}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{N\+H\+F\+O\+N\+T\+\_\+\+C\+O\+D\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+H\+F\+O\+N\+T\+\_\+\+C\+O\+D\+E(
\begin{DoxyParamCaption}
\item[{}]{win, }
\item[{}]{attr}
\end{DoxyParamCaption}
)~(((attr\&0x\+F\+F)$<$$<$8)$\vert$(win\+\_\+type\&0x\+F\+F))}}\label{sys_2wince_2mhfont_8c_a73fbdee996b853e53e93270fe8962a41}


Definition at line 19 of file mhfont.\+c.



Referenced by mswin\+\_\+get\+\_\+font().



\subsection{Function Documentation}
\hypertarget{sys_2wince_2mhfont_8c_a9835f9edcbfe14bfb3057e9753231358}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!font\+\_\+table\+\_\+cleanup@{font\+\_\+table\+\_\+cleanup}}
\index{font\+\_\+table\+\_\+cleanup@{font\+\_\+table\+\_\+cleanup}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{font\+\_\+table\+\_\+cleanup}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+\+\_\+cdecl font\+\_\+table\+\_\+cleanup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{sys_2wince_2mhfont_8c_a9835f9edcbfe14bfb3057e9753231358}


Definition at line 169 of file mhfont.\+c.



References font\+\_\+table, and font\+\_\+table\+\_\+size.



Referenced by mswin\+\_\+get\+\_\+font().


\begin{DoxyCode}
170 \{
171     \textcolor{keywordtype}{int} i;
172     \textcolor{keywordflow}{for}(i=0; i<\hyperlink{sys_2wince_2mhfont_8c_a870a1589aac5ea704e9c345c2f5d7579}{font\_table\_size}; i++) \{
173         DeleteObject(\hyperlink{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{font\_table}[i].hFont);
174     \}
175     font\_table\_size = 0;
176 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mhfont_8c_af970523ac3adefc3a252ad43200ef52b}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!mswin\+\_\+charset@{mswin\+\_\+charset}}
\index{mswin\+\_\+charset@{mswin\+\_\+charset}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{mswin\+\_\+charset}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U\+I\+N\+T} mswin\+\_\+charset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mhfont_8c_af970523ac3adefc3a252ad43200ef52b}


Definition at line 154 of file mhfont.\+c.



Referenced by mswin\+\_\+get\+\_\+font(), and mswin\+\_\+map\+\_\+stretch().


\begin{DoxyCode}
155 \{
156     CHARSETINFO cis;
157     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a50993380c2db8f82946efa771d779154}{IBMgraphics} )
158         \textcolor{keywordflow}{if}( TranslateCharsetInfo((DWORD*)GetOEMCP(), &cis, TCI\_SRCCODEPAGE) ) 
159             \textcolor{keywordflow}{return} cis.ciCharset;
160         \textcolor{keywordflow}{else}
161             \textcolor{keywordflow}{return} OEM\_CHARSET;
162     \textcolor{keywordflow}{else} 
163         \textcolor{keywordflow}{if}( TranslateCharsetInfo((DWORD*)GetACP(), &cis, TCI\_SRCCODEPAGE) ) 
164             \textcolor{keywordflow}{return} cis.ciCharset;
165         \textcolor{keywordflow}{else}
166             \textcolor{keywordflow}{return} ANSI\_CHARSET;
167 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!mswin\+\_\+get\+\_\+font@{mswin\+\_\+get\+\_\+font}}
\index{mswin\+\_\+get\+\_\+font@{mswin\+\_\+get\+\_\+font}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{mswin\+\_\+get\+\_\+font}]{\setlength{\rightskip}{0pt plus 5cm}H\+G\+D\+I\+O\+B\+J mswin\+\_\+get\+\_\+font (
\begin{DoxyParamCaption}
\item[{int}]{win\+\_\+type, }
\item[{int}]{attr, }
\item[{H\+D\+C}]{hdc, }
\item[{B\+O\+O\+L}]{replace}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}


Definition at line 25 of file mhfont.\+c.



Referenced by Menu\+Wnd\+Proc(), mswin\+\_\+display\+\_\+\+R\+I\+P\+\_\+window(), mswin\+\_\+menu\+\_\+window\+\_\+size(), mswin\+\_\+message\+\_\+window\+\_\+size(), mswin\+\_\+preference\+\_\+update(), mswin\+\_\+status\+\_\+window\+\_\+size(), N\+H\+R\+I\+P\+Wnd\+Proc(), N\+H\+Splash\+Wnd\+Proc(), N\+H\+Text\+Wnd\+Proc(), on\+Create(), on\+Draw\+Item(), on\+Measure\+Item(), on\+M\+S\+N\+H\+Command(), on\+Paint(), Status\+Wnd\+Proc(), and Text\+Wnd\+Proc().


\begin{DoxyCode}
26 \{
27     HFONT fnt = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
28     LOGFONT lgfnt;
29     \textcolor{keywordtype}{int} font\_size;
30     \textcolor{keywordtype}{int} font\_index;
31     \textcolor{keyword}{static} BOOL once = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
32 
33     \textcolor{keywordflow}{if}( !once ) \{
34         once = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
35         atexit(\hyperlink{sys_2wince_2mhfont_8c_a9835f9edcbfe14bfb3057e9753231358}{font\_table\_cleanup});
36     \}
37 
38     ZeroMemory( &lgfnt, \textcolor{keyword}{sizeof}(lgfnt) );
39 
40     \textcolor{comment}{/* try find font in the table */}
41     \textcolor{keywordflow}{for}(font\_index=0; font\_index<\hyperlink{sys_2wince_2mhfont_8c_a870a1589aac5ea704e9c345c2f5d7579}{font\_table\_size}; font\_index++)
42         \textcolor{keywordflow}{if}(\hyperlink{sys_2wince_2mhfont_8c_a73fbdee996b853e53e93270fe8962a41}{NHFONT\_CODE}(win\_type, attr)==\hyperlink{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{font\_table}[font\_index].code)
43             \textcolor{keywordflow}{break};
44 
45     \textcolor{keywordflow}{if}( !replace && font\_index<font\_table\_size )
46         \textcolor{keywordflow}{return} \hyperlink{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{font\_table}[font\_index].\hyperlink{structfont__table__entry_af0c047e6f34a07dcaacef8c48d73de5a}{hFont};
47 
48     \textcolor{keywordflow}{switch}(win\_type) \{
49     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}:
50         lgfnt.lfHeight          =   -\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_afc85b364ccf07dbaf9e752ed5989d55e}{wc\_fontsiz\_status}*GetDeviceCaps(hdc, 
      LOGPIXELSY)/72;  \textcolor{comment}{// height of font}
51         lgfnt.lfWidth           =   0;                   \textcolor{comment}{// average character width}
52         lgfnt.lfEscapement      =   0;                   \textcolor{comment}{// angle of escapement}
53         lgfnt.lfOrientation     =   0;                   \textcolor{comment}{// base-line orientation angle}
54         lgfnt.lfWeight          =   FW\_NORMAL;           \textcolor{comment}{// font weight}
55         lgfnt.lfItalic          =   \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};              \textcolor{comment}{// italic attribute option}
56         lgfnt.lfUnderline       =   \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};              \textcolor{comment}{// underline attribute option}
57         lgfnt.lfStrikeOut       =   \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};              \textcolor{comment}{// strikeout attribute option}
58         lgfnt.lfCharSet         =   \hyperlink{sys_2wince_2mhfont_8c_af970523ac3adefc3a252ad43200ef52b}{mswin\_charset}();     \textcolor{comment}{// character set identifier}
59         lgfnt.lfOutPrecision    =   OUT\_DEFAULT\_PRECIS;  \textcolor{comment}{// output precision}
60         lgfnt.lfClipPrecision   =   CLIP\_DEFAULT\_PRECIS; \textcolor{comment}{// clipping precision}
61         lgfnt.lfQuality         =   DEFAULT\_QUALITY;     \textcolor{comment}{// output quality}
62         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a6b5bba710c4e80b026a4c1e77d015489}{wc\_font\_status} &&
63             *\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a6b5bba710c4e80b026a4c1e77d015489}{wc\_font\_status} ) \{
64             lgfnt.lfPitchAndFamily = DEFAULT\_PITCH;      \textcolor{comment}{// pitch and family}
65             \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a6b5bba710c4e80b026a4c1e77d015489}{wc\_font\_status}, lgfnt.lfFaceName, LF\_FACESIZE);
66         \} \textcolor{keywordflow}{else} \{
67             lgfnt.lfPitchAndFamily = FIXED\_PITCH;        \textcolor{comment}{// pitch and family}
68         \}
69         \textcolor{keywordflow}{break};
70 
71     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}:
72         lgfnt.lfHeight          =   -\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adc1e0097a78217c13f627b0ded61338d}{wc\_fontsiz\_menu}*GetDeviceCaps(hdc, 
      LOGPIXELSY)/72;  \textcolor{comment}{// height of font}
73         lgfnt.lfWidth           =   0;                   \textcolor{comment}{// average character width}
74         lgfnt.lfEscapement      =   0;                   \textcolor{comment}{// angle of escapement}
75         lgfnt.lfOrientation     =   0;                   \textcolor{comment}{// base-line orientation angle}
76         lgfnt.lfWeight          =   (attr==\hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD} || attr==\hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE})? FW\_BOLD : 
      FW\_NORMAL;   \textcolor{comment}{// font weight}
77         lgfnt.lfItalic          =   (attr==\hyperlink{wintype_8h_a9d66a94b42076440893a6250fe72a8a8}{ATR\_BLINK})? \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}: \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};            \textcolor{comment}{// italic
       attribute option}
78         lgfnt.lfUnderline       =   (attr==\hyperlink{wintype_8h_a9825a0f34fbbf473f8495b785fe54f7c}{ATR\_ULINE})? \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} : \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};       \textcolor{comment}{// underline
       attribute option}
79         lgfnt.lfStrikeOut       =   \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};             \textcolor{comment}{// strikeout attribute option}
80         lgfnt.lfCharSet         =   \hyperlink{sys_2wince_2mhfont_8c_af970523ac3adefc3a252ad43200ef52b}{mswin\_charset}();     \textcolor{comment}{// character set identifier}
81         lgfnt.lfOutPrecision    =   OUT\_DEFAULT\_PRECIS;  \textcolor{comment}{// output precision}
82         lgfnt.lfClipPrecision   =   CLIP\_DEFAULT\_PRECIS; \textcolor{comment}{// clipping precision}
83         lgfnt.lfQuality         =   DEFAULT\_QUALITY;     \textcolor{comment}{// output quality}
84         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2feb69a3cf238cd4018f1c76f622ad17}{wc\_font\_menu} &&
85             *\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2feb69a3cf238cd4018f1c76f622ad17}{wc\_font\_menu} ) \{
86             lgfnt.lfPitchAndFamily  = DEFAULT\_PITCH;         \textcolor{comment}{// pitch and family}
87             \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2feb69a3cf238cd4018f1c76f622ad17}{wc\_font\_menu}, lgfnt.lfFaceName, LF\_FACESIZE);
88         \} \textcolor{keywordflow}{else} \{
89             lgfnt.lfPitchAndFamily = FIXED\_PITCH;        \textcolor{comment}{// pitch and family}
90         \}
91         \textcolor{keywordflow}{break};
92 
93     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}:
94         font\_size = (attr==\hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE})? \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message}+1 : \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message};
95         lgfnt.lfHeight          =   -font\_size*GetDeviceCaps(hdc, LOGPIXELSY)/72;    \textcolor{comment}{// height of font}
96         lgfnt.lfWidth           =   0;                   \textcolor{comment}{// average character width}
97         lgfnt.lfEscapement      =   0;                   \textcolor{comment}{// angle of escapement}
98         lgfnt.lfOrientation     =   0;                   \textcolor{comment}{// base-line orientation angle}
99         lgfnt.lfWeight          =   (attr==\hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD} || attr==\hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE})? FW\_BOLD : 
      FW\_NORMAL;   \textcolor{comment}{// font weight}
100         lgfnt.lfItalic          =   (attr==\hyperlink{wintype_8h_a9d66a94b42076440893a6250fe72a8a8}{ATR\_BLINK})? \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}: \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};            \textcolor{comment}{// italic
       attribute option}
101         lgfnt.lfUnderline       =   (attr==\hyperlink{wintype_8h_a9825a0f34fbbf473f8495b785fe54f7c}{ATR\_ULINE})? \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} : \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};       \textcolor{comment}{// underline
       attribute option}
102         lgfnt.lfStrikeOut       =   \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};              \textcolor{comment}{// strikeout attribute option}
103         lgfnt.lfCharSet         =   \hyperlink{sys_2wince_2mhfont_8c_af970523ac3adefc3a252ad43200ef52b}{mswin\_charset}();     \textcolor{comment}{// character set identifier}
104         lgfnt.lfOutPrecision    =   OUT\_DEFAULT\_PRECIS;  \textcolor{comment}{// output precision}
105         lgfnt.lfClipPrecision   =   CLIP\_DEFAULT\_PRECIS; \textcolor{comment}{// clipping precision}
106         lgfnt.lfQuality         =   DEFAULT\_QUALITY;     \textcolor{comment}{// output quality}
107         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a1cd982dcf1dd4bebc211a2d38dc74eea}{wc\_font\_message} &&
108             *\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a1cd982dcf1dd4bebc211a2d38dc74eea}{wc\_font\_message} ) \{
109             lgfnt.lfPitchAndFamily  = DEFAULT\_PITCH;         \textcolor{comment}{// pitch and family}
110             \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a1cd982dcf1dd4bebc211a2d38dc74eea}{wc\_font\_message}, lgfnt.lfFaceName, LF\_FACESIZE);
111         \} \textcolor{keywordflow}{else} \{
112             lgfnt.lfPitchAndFamily  = VARIABLE\_PITCH;        \textcolor{comment}{// pitch and family}
113         \}
114         \textcolor{keywordflow}{break};
115 
116     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}:
117         lgfnt.lfHeight          =   -\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text}*GetDeviceCaps(hdc, 
      LOGPIXELSY)/72;  \textcolor{comment}{// height of font}
118         lgfnt.lfWidth           =   0;                   \textcolor{comment}{// average character width}
119         lgfnt.lfEscapement      =   0;                   \textcolor{comment}{// angle of escapement}
120         lgfnt.lfOrientation     =   0;                   \textcolor{comment}{// base-line orientation angle}
121         lgfnt.lfWeight          =   (attr==\hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD} || attr==\hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE})? FW\_BOLD : 
      FW\_NORMAL;   \textcolor{comment}{// font weight}
122         lgfnt.lfItalic          =   (attr==\hyperlink{wintype_8h_a9d66a94b42076440893a6250fe72a8a8}{ATR\_BLINK})? \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}: \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};            \textcolor{comment}{// italic
       attribute option}
123         lgfnt.lfUnderline       =   (attr==\hyperlink{wintype_8h_a9825a0f34fbbf473f8495b785fe54f7c}{ATR\_ULINE})? \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} : \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};       \textcolor{comment}{// underline
       attribute option}
124         lgfnt.lfStrikeOut       =   \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};              \textcolor{comment}{// strikeout attribute option}
125         lgfnt.lfCharSet         =   \hyperlink{sys_2wince_2mhfont_8c_af970523ac3adefc3a252ad43200ef52b}{mswin\_charset}();     \textcolor{comment}{// character set identifier}
126         lgfnt.lfOutPrecision    =   OUT\_DEFAULT\_PRECIS;  \textcolor{comment}{// output precision}
127         lgfnt.lfClipPrecision   =   CLIP\_DEFAULT\_PRECIS; \textcolor{comment}{// clipping precision}
128         lgfnt.lfQuality         =   DEFAULT\_QUALITY;     \textcolor{comment}{// output quality}
129         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adadc7a55169eda5a908c200536396872}{wc\_font\_text} &&
130             *\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adadc7a55169eda5a908c200536396872}{wc\_font\_text} ) \{
131             lgfnt.lfPitchAndFamily  = DEFAULT\_PITCH;         \textcolor{comment}{// pitch and family}
132             \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adadc7a55169eda5a908c200536396872}{wc\_font\_text}, lgfnt.lfFaceName, LF\_FACESIZE);
133         \} \textcolor{keywordflow}{else} \{
134             lgfnt.lfPitchAndFamily  = FIXED\_PITCH;       \textcolor{comment}{// pitch and family}
135         \}
136         \textcolor{keywordflow}{break};
137     \}
138 
139     fnt = CreateFontIndirect(&lgfnt);
140 
141     \textcolor{comment}{/* add font to the table */}
142     \textcolor{keywordflow}{if}( font\_index==font\_table\_size ) \{
143         \textcolor{keywordflow}{if}( font\_table\_size>=\hyperlink{sys_2wince_2mhfont_8c_ac108d78d76235e3c7cada0c2e56b7e2d}{MAXFONTS} ) \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}( \textcolor{stringliteral}{"font table overflow!"} );
144         font\_table\_size++;
145     \} \textcolor{keywordflow}{else} \{
146         DeleteObject(\hyperlink{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{font\_table}[font\_index].hFont);
147     \}
148 
149     \hyperlink{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{font\_table}[font\_index].\hyperlink{structfont__table__entry_a613ac8f9549d6cf562d60f7dc1bab5a4}{code} = \hyperlink{sys_2wince_2mhfont_8c_a73fbdee996b853e53e93270fe8962a41}{NHFONT\_CODE}(win\_type, attr);
150     \hyperlink{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{font\_table}[font\_index].\hyperlink{structfont__table__entry_af0c047e6f34a07dcaacef8c48d73de5a}{hFont} = fnt;
151     \textcolor{keywordflow}{return} fnt;
152 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{sys_2wince_2mhfont_8c_af67642dea6ec7be51c100a4bd965351a}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!extrainfo\+\_\+splash\+\_\+font@{extrainfo\+\_\+splash\+\_\+font}}
\index{extrainfo\+\_\+splash\+\_\+font@{extrainfo\+\_\+splash\+\_\+font}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{extrainfo\+\_\+splash\+\_\+font}]{\setlength{\rightskip}{0pt plus 5cm}H\+F\+O\+N\+T extrainfo\+\_\+splash\+\_\+font}}\label{sys_2wince_2mhfont_8c_af67642dea6ec7be51c100a4bd965351a}


Definition at line 17 of file mhfont.\+c.

\hypertarget{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!font\+\_\+table@{font\+\_\+table}}
\index{font\+\_\+table@{font\+\_\+table}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{font\+\_\+table}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf font\+\_\+table\+\_\+entry}  font\+\_\+table\mbox{[}{\bf M\+A\+X\+F\+O\+N\+T\+S}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{sys_2wince_2mhfont_8c_ad892a139c7d69fc6fd5e07364902e3bc}


Referenced by font\+\_\+table\+\_\+cleanup(), and mswin\+\_\+get\+\_\+font().

\hypertarget{sys_2wince_2mhfont_8c_a870a1589aac5ea704e9c345c2f5d7579}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!font\+\_\+table\+\_\+size@{font\+\_\+table\+\_\+size}}
\index{font\+\_\+table\+\_\+size@{font\+\_\+table\+\_\+size}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{font\+\_\+table\+\_\+size}]{\setlength{\rightskip}{0pt plus 5cm}int font\+\_\+table\+\_\+size = 0\hspace{0.3cm}{\ttfamily [static]}}}\label{sys_2wince_2mhfont_8c_a870a1589aac5ea704e9c345c2f5d7579}


Definition at line 15 of file mhfont.\+c.



Referenced by font\+\_\+table\+\_\+cleanup(), and mswin\+\_\+get\+\_\+font().

\hypertarget{sys_2wince_2mhfont_8c_a0d004a3aaea8816abf5163eb27c1c246}{\index{sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}!version\+\_\+splash\+\_\+font@{version\+\_\+splash\+\_\+font}}
\index{version\+\_\+splash\+\_\+font@{version\+\_\+splash\+\_\+font}!sys/wince/mhfont.\+c@{sys/wince/mhfont.\+c}}
\subsubsection[{version\+\_\+splash\+\_\+font}]{\setlength{\rightskip}{0pt plus 5cm}H\+F\+O\+N\+T version\+\_\+splash\+\_\+font}}\label{sys_2wince_2mhfont_8c_a0d004a3aaea8816abf5163eb27c1c246}


Definition at line 16 of file mhfont.\+c.



Referenced by mswin\+\_\+destroy\+\_\+splashfonts(), and mswin\+\_\+init\+\_\+splashfonts().

