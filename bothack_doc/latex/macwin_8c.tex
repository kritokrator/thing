\hypertarget{macwin_8c}{\section{nethack/sys/mac/macwin.c File Reference}
\label{macwin_8c}\index{nethack/sys/mac/macwin.\+c@{nethack/sys/mac/macwin.\+c}}
}
{\ttfamily \#include \char`\"{}hack.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}func\+\_\+tab.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}macwin.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mactty.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}wintty.\+h\char`\"{}}\\*
{\ttfamily \#include $<$Low\+Mem.\+h$>$}\\*
{\ttfamily \#include $<$Apple\+Events.\+h$>$}\\*
{\ttfamily \#include $<$Gestalt.\+h$>$}\\*
{\ttfamily \#include $<$Text\+Utils.\+h$>$}\\*
{\ttfamily \#include $<$Disk\+Init.\+h$>$}\\*
{\ttfamily \#include $<$Control\+Definitions.\+h$>$}\\*
{\ttfamily \#include \char`\"{}dlb.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{S\+B\+A\+R\+W\+I\+D\+T\+H}~15
\item 
\#define \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{S\+B\+A\+R\+H\+E\+I\+G\+H\+T}~15
\item 
\#define \hyperlink{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}{C\+H\+A\+R\+\_\+\+A\+N\+Y}~'\textbackslash{}n'
\item 
\#define \hyperlink{macwin_8c_ab575e634e51462bf534b7ee541cefc46}{N\+H\+W\+\_\+\+B\+A\+S\+E}~0
\item 
\#define \hyperlink{macwin_8c_a803d5ca7ab45b27a9e458c06e0d297a0}{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}~6
\item 
\#define \hyperlink{macwin_8c_a9059fa76eb5e8e86f870405d63e72c4c}{M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T}~100
\item 
\#define \hyperlink{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T}~50
\item 
\#define \hyperlink{macwin_8c_ad3ee0cc681d736cb6d41c4ebb04c0ae4}{M\+I\+N\+\_\+\+W\+I\+D\+T\+H}~300
\item 
\#define \hyperlink{macwin_8c_a20d7f3e3d8c6563910885b4d39ed5b5f}{B\+T\+N\+\_\+\+I\+N\+D}~2
\item 
\#define \hyperlink{macwin_8c_a88518206f114f83cf5c0bb345a44ec4c}{B\+T\+N\+\_\+\+W}~40
\item 
\#define \hyperlink{macwin_8c_aafc5be6b9e11a5cf8ef124119f875aa9}{B\+T\+N\+\_\+\+H}~(\hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{S\+B\+A\+R\+H\+E\+I\+G\+H\+T}-\/3)
\item 
\#define \hyperlink{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{k\+Menu\+Size\+Bump}~26
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef void($\ast$ \hyperlink{macwin_8c_af3d4ca4610990e5242f4733db2893892}{Cb\+Func} )(Event\+Record $\ast$, Window\+Ptr)
\item 
typedef short($\ast$ \hyperlink{macwin_8c_a725144b6f4dbd0399f6b11d326eaf8f1}{Cb\+Up\+Func} )(Event\+Record $\ast$, Window\+Ptr)
\item 
typedef void($\ast$ \hyperlink{macwin_8c_ac8a078b1f188292f30a6051d8ecbe4f6}{Cb\+Curs\+Func} )(Event\+Record $\ast$, Window\+Ptr, Rgn\+Handle)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{macwin_8c_a583abd9b962aebf3200033b360a17023}{lock\+\_\+mouse\+\_\+cursor} (Boolean new\+\_\+cursor\+\_\+locked)
\item 
void \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{Add\+To\+Key\+Queue} (unsigned char ch, Boolean force)
\item 
unsigned char \hyperlink{macwin_8c_a71482ac2cd09246722585aa22047f88d}{Get\+From\+Key\+Queue} (void)
\item 
static int \hyperlink{macwin_8c_ad26dcf0125fd7b875efc417d1478f755}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_a89bc2fc153cc2238c0de103b4bbe3b8d}{filter\+\_\+scroll\+\_\+key},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} int, \hyperlink{structNhWindow}{Nh\+Window} $\ast$))
\item 
static void \hyperlink{macwin_8c_a5b60d01beb5c3c6e738c3d0e4c780c96}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{General\+Key},(Event\+Record $\ast$, Window\+Ptr))
\item 
static void \hyperlink{macwin_8c_a6441c02afa2a13fc9eb5c4ed5b3e2866}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_a0890e06727e3e4f0446968f1d60388bc}{mac\+Key\+Menu},(Event\+Record $\ast$, Window\+Ptr))
\item 
static void \hyperlink{macwin_8c_a18cffe65c385048835cc8ba5941f5771}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_aebe151c232d20a8c35c0525292a9df2e}{mac\+Key\+Text},(Event\+Record $\ast$, Window\+Ptr))
\item 
static void \hyperlink{macwin_8c_a8bea0ba8456c6a81d36ef1ec93aab32b}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_ad52c584a908d2527bc426ff237f0f4ed}{mac\+Click\+Message},(Event\+Record $\ast$, Window\+Ptr))
\item 
static void \hyperlink{macwin_8c_a3b267454325fb31dbb2a062d8370ffb3}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_a93f410a15fe40420d7fcba67922ceae9}{mac\+Click\+Term},(Event\+Record $\ast$, Window\+Ptr))
\item 
static void \hyperlink{macwin_8c_ac34c4268da4efdcd9257815853c681e3}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_aaa7171479989cb2490fe85b2658ad3d9}{mac\+Click\+Menu},(Event\+Record $\ast$, Window\+Ptr))
\item 
static void \hyperlink{macwin_8c_ae1cd66de1a1bdc89efd2333120a6536e}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_ad6a8d77f69fc0f103587107927cd617a}{mac\+Click\+Text},(Event\+Record $\ast$, Window\+Ptr))
\item 
static short \hyperlink{macwin_8c_acb1fcc9791dd396ee3cc7147541b6eff}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_a94291e136a595978c09ac142a4840948}{mac\+Do\+Null},(Event\+Record $\ast$, Window\+Ptr))
\item 
static short \hyperlink{macwin_8c_a6cb5e2db5557498e1733f22a0ebce019}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_a12c44076186c75b4365ad42246792773}{mac\+Update\+Message},(Event\+Record $\ast$, Window\+Ptr))
\item 
static short \hyperlink{macwin_8c_af0931806c794da744811452bb40a6897}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_aaeef7f3ede28e8da8239c1036862efd1}{mac\+Update\+Menu},(Event\+Record $\ast$, Window\+Ptr))
\item 
static short \hyperlink{macwin_8c_a31b05c05ebe6d0d000f4761cc8258a26}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_ac218a718ae77d8381666c7d7c4dc6dee}{General\+Update},(Event\+Record $\ast$, Window\+Ptr))
\item 
static void \hyperlink{macwin_8c_a4f8788036b105a3e39841267feb59f73}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_ada7c46a648cd95a211d52998c3042e04}{mac\+Cursor\+Term},(Event\+Record $\ast$, Window\+Ptr, Rgn\+Handle))
\item 
static void \hyperlink{macwin_8c_aa6bbfbc9186d52ff6f80d919d5050e8a}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_aef31a22c2202a39186f7d19e46fd4476}{General\+Cursor},(Event\+Record $\ast$, Window\+Ptr, Rgn\+Handle))
\item 
static void \hyperlink{macwin_8c_a3747dcd1f1e86e036f16f21145e112e9}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_a4c1496eec814dff5b89ec744998dd4f9}{Do\+Scroll\+Bar},(Point, short, Control\+Handle, \hyperlink{structNhWindow}{Nh\+Window} $\ast$))
\item 
static pascal void \hyperlink{macwin_8c_a896b6b384885e4dcf5eb3b409782f08b}{F\+D\+E\+C\+L} (\hyperlink{macwin_8c_acf2dad7fc6c7123f690d53eaac73a718}{Move\+Scroll\+Bar},(Control\+Handle, short))
\item 
static \hyperlink{structNhWindow}{Nh\+Window} $\ast$ \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{Get\+Nh\+Win} (Window\+Ptr mac\+\_\+win)
\item 
Boolean \hyperlink{macwin_8c_a74f72a4daa5450f73296c281b88d702d}{Check\+Nh\+Win} (Window\+Ptr mac\+\_\+win)
\item 
static pascal O\+S\+Err \hyperlink{macwin_8c_ae1ce649532822eb214f3bd51807ec537}{Apple\+Event\+Handler} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} Apple\+Event $\ast$in\+Apple\+Event, Apple\+Event $\ast$out\+A\+E\+Reply, long in\+Ref\+Con)
\item 
void \hyperlink{macwin_8c_a54c2f66a0df7da8300cf8b4cb6bfdb3e}{Init\+Mac} (void)
\item 
short \hyperlink{macwin_8c_a3e3be294227e037d746625d7098c4cd7}{set\+\_\+tty\+\_\+font\+\_\+name} (int window\+\_\+type, char $\ast$font\+\_\+name)
\item 
static void \hyperlink{macwin_8c_aee163f928c72f988fdd7e30d99c26665}{Draw\+Scrollbar} (\hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win)
\item 
int \hyperlink{macwin_8c_ae26faf77cc3fdb92b35d8f010f7679b7}{Sane\+Positions} (void)
\item 
\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} \hyperlink{macwin_8c_a5e74333873de53505b1a5dd4645318cb}{mac\+\_\+create\+\_\+nhwindow} (int kind)
\item 
void \hyperlink{macwin_8c_a12ebbe99abae335aca495c90f37c063d}{mac\+\_\+init\+\_\+nhwindows} (int $\ast$argcp, char $\ast$$\ast$argv)
\item 
void \hyperlink{macwin_8c_a5c1bb54dbb7146e7e2b083ab34a5a84a}{mac\+\_\+clear\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win)
\item 
static Boolean \hyperlink{macwin_8c_a3712e3ae7c6e1a14c331cd5218b29ecb}{Closing\+Window\+Char} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} int c)
\item 
static Boolean \hyperlink{macwin_8c_a434413472f44c8167ec5898d18c84eee}{in\+\_\+topl\+\_\+mode} (void)
\item 
static void \hyperlink{macwin_8c_a3947e529128a451768288e6909513754}{topl\+\_\+resp\+\_\+rect} (int resp\+\_\+idx, Rect $\ast$r)
\item 
void \hyperlink{macwin_8c_aa6e33d4f635b32400951988d58316edf}{enter\+\_\+topl\+\_\+mode} (char $\ast$query)
\item 
void \hyperlink{macwin_8c_acdf93be14c6dd2032b3d9881423c18dd}{leave\+\_\+topl\+\_\+mode} (char $\ast$answer)
\item 
static void \hyperlink{macwin_8c_a10a05e82acedfc4d5c5408e074d0907b}{topl\+\_\+set\+\_\+select} (short sel\+Start, short sel\+End)
\item 
static void \hyperlink{macwin_8c_a72dd96752c687c8e28444009cfb15b16}{topl\+\_\+replace} (char $\ast$new\+\_\+ans)
\item 
Boolean \hyperlink{macwin_8c_ad44c530babce8818eb2c79e0caa3d441}{topl\+\_\+key} (unsigned char ch, Boolean ext)
\item 
static void \hyperlink{macwin_8c_ac80a2afc32246f52037f921db622433b}{topl\+\_\+flash\+\_\+resp} (int resp\+\_\+idx)
\item 
static void \hyperlink{macwin_8c_a0b7312a2ee061246fa50ea441350cc4f}{topl\+\_\+set\+\_\+def} (int new\+\_\+def\+\_\+idx)
\item 
void \hyperlink{macwin_8c_a7919e577c7f6fe3391905caaf29b5afb}{topl\+\_\+set\+\_\+resp} (char $\ast$resp, char def)
\item 
static char \hyperlink{macwin_8c_ae1b761401f6b7319c87e65f8e4574bb4}{topl\+\_\+resp\+\_\+key} (char ch)
\item 
static void \hyperlink{macwin_8c_afa39c1e7c90da8dff0568e0b4f39078d}{adjust\+\_\+window\+\_\+pos} (\hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win, short \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width}, short \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height})
\item 
void \hyperlink{macwin_8c_aeaa254ac51270c6909c8e4f2b1006195}{mac\+\_\+display\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win, \hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P} f)
\item 
void \hyperlink{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}{mac\+\_\+destroy\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win)
\item 
void \hyperlink{macwin_8c_a388d66db6f82ef0cdcdfaca145dc935a}{mac\+\_\+number\+\_\+pad} (int \hyperlink{structpad}{pad})
\item 
void \hyperlink{macwin_8c_afb68fc8b5ce3d977d109edd6130e3803}{trans\+\_\+num\+\_\+keys} (Event\+Record $\ast$the\+Event)
\item 
static void \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{General\+Key} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_af34b51092e7e57d78e618e84e390a80b}{Toggle\+Menu\+Select} (\hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win, int line)
\item 
static int \hyperlink{macwin_8c_a59d599bb38f8b26971812b83e22bea01}{List\+Item\+Selected} (\hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win, int item)
\item 
static void \hyperlink{macwin_8c_a8acf8d63dbb6c0cfe910aa2d86061edd}{Toggle\+Menu\+List\+Item\+Selected} (\hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win, short item)
\item 
static short \hyperlink{macwin_8c_a28acbc344e6af9634ad2f2190f54870b}{List\+Coordinate\+To\+Item} (\hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win, short Row)
\item 
static void \hyperlink{macwin_8c_a0890e06727e3e4f0446968f1d60388bc}{mac\+Key\+Menu} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_aaa7171479989cb2490fe85b2658ad3d9}{mac\+Click\+Menu} (Event\+Record $\ast$the\+Event, Window\+Ref the\+Window)
\item 
static void \hyperlink{macwin_8c_aebe151c232d20a8c35c0525292a9df2e}{mac\+Key\+Text} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_ad6a8d77f69fc0f103587107927cd617a}{mac\+Click\+Text} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_ad52c584a908d2527bc426ff237f0f4ed}{mac\+Click\+Message} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_a93f410a15fe40420d7fcba67922ceae9}{mac\+Click\+Term} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static pascal void \hyperlink{macwin_8c_acf2dad7fc6c7123f690d53eaac73a718}{Move\+Scroll\+Bar} (Control\+Handle the\+Bar, short part)
\item 
static void \hyperlink{macwin_8c_a4c1496eec814dff5b89ec744998dd4f9}{Do\+Scroll\+Bar} (Point p, short code, Control\+Handle the\+Bar, \hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win)
\item 
static int \hyperlink{macwin_8c_a89bc2fc153cc2238c0de103b4bbe3b8d}{filter\+\_\+scroll\+\_\+key} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} int ch, \hyperlink{structNhWindow}{Nh\+Window} $\ast$a\+Win)
\item 
int \hyperlink{macwin_8c_ad21f9c724bf74ceb69ba673f4e31fc44}{mac\+\_\+doprev\+\_\+message} (void)
\item 
static short \hyperlink{macwin_8c_a94291e136a595978c09ac142a4840948}{mac\+Do\+Null} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_a6493b514ae660f04c1d09cb1d9af4338}{draw\+\_\+growicon\+\_\+vert\+\_\+only} (Window\+Ptr wind)
\item 
static short \hyperlink{macwin_8c_a12c44076186c75b4365ad42246792773}{mac\+Update\+Message} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static short \hyperlink{macwin_8c_aaeef7f3ede28e8da8239c1036862efd1}{mac\+Update\+Menu} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static short \hyperlink{macwin_8c_ac218a718ae77d8381666c7d7c4dc6dee}{General\+Update} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_ada7c46a648cd95a211d52998c3042e04}{mac\+Cursor\+Term} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window, Rgn\+Handle mouse\+Rgn)
\item 
static void \hyperlink{macwin_8c_aef31a22c2202a39186f7d19e46fd4476}{General\+Cursor} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window, Rgn\+Handle mouse\+Rgn)
\item 
static void \hyperlink{macwin_8c_a452b010d8fbe3c10313dd039f1e1cda1}{Handle\+Key} (Event\+Record $\ast$the\+Event)
\item 
static void \hyperlink{macwin_8c_af374f1890943ef601ade13cdb87ab3c7}{Window\+Go\+Away} (Event\+Record $\ast$the\+Event, Window\+Ptr the\+Window)
\item 
static void \hyperlink{macwin_8c_a66e8539af7898107308a212a64994b6f}{Handle\+Click} (Event\+Record $\ast$the\+Event)
\item 
static void \hyperlink{macwin_8c_aec4ee641a8a3076e1b20bcb075f913b1}{Handle\+Update} (Event\+Record $\ast$the\+Event)
\item 
static void \hyperlink{macwin_8c_a258eb0826da8b41383462772284f35bb}{Do\+Os\+Evt} (Event\+Record $\ast$the\+Event)
\item 
void \hyperlink{macwin_8c_aad8819a1e367cc83e4d343f213ab760b}{Handle\+Event} (Event\+Record $\ast$the\+Event)
\item 
void \hyperlink{macwin_8c_a868a0b828ee529f1c73a53b068a477f9}{mac\+\_\+get\+\_\+nh\+\_\+event} (void)
\item 
int \hyperlink{macwin_8c_ad22c95e08119fec4e960d6c6b5357f38}{mac\+\_\+nhgetch} (void)
\item 
void \hyperlink{macwin_8c_ac3b05c602c8d8b3a2e02014f8fd61e18}{mac\+\_\+delay\+\_\+output} (void)
\item 
void \hyperlink{macwin_8c_a22ff5255bc6a6b3124a9f358aae17e23}{mac\+\_\+exit\+\_\+nhwindows} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$s)
\item 
void \hyperlink{macwin_8c_aa2e4c6b336d450f694e60e68572fb78b}{mac\+\_\+putstr} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win, int attr, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str)
\item 
void \hyperlink{macwin_8c_ac2a0e0fc6e4b88ecf0325d2dd58923a6}{mac\+\_\+curs} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win, int x, int y)
\item 
int \hyperlink{macwin_8c_a4ef712e8a31cc6f1f38bbc062c7e88fb}{mac\+\_\+nh\+\_\+poskey} (int $\ast$a, int $\ast$b, int $\ast$c)
\item 
void \hyperlink{macwin_8c_a617d7f4e90177985b022222e436f150b}{mac\+\_\+start\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win)
\item 
void \hyperlink{macwin_8c_a2a728419d96861b27d7ff3e5d92d8d1a}{mac\+\_\+add\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win, int glyph, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{wintype_8h_a49720928e6af182ee38aa332d0483b2a}{anything} $\ast$\hyperlink{unionany}{any}, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} menu\+Char, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} group\+Acc, int attr, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$in\+Str, int preselected)
\item 
void \hyperlink{macwin_8c_a3ae2cf41175030c59ee5d6f24081d1e5}{mac\+\_\+end\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$morestr)
\item 
int \hyperlink{macwin_8c_a508462c16495eefcc4478c0d4a6416bd}{mac\+\_\+select\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win, int how, \hyperlink{wintype_8h_aaef709f77068fd7ba62812589327f08f}{menu\+\_\+item} $\ast$$\ast$selected\+\_\+list)
\item 
static void \hyperlink{macwin_8c_a17ecaa71d1f9741ce86863c8b735bd9b}{mac\+\_\+display\+\_\+file} (char $\ast$\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}, \hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} complain) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
void \hyperlink{macwin_8c_a7885971a85f8a1dd8f2471d305352c49}{port\+\_\+help} ()
\item 
static void \hyperlink{macwin_8c_acaa14f6f835a053ff141ee5737853bdd}{mac\+\_\+unimplemented} (void)
\item 
static void \hyperlink{macwin_8c_adf13a19ab9f038422121e8330e0e542e}{mac\+\_\+suspend\+\_\+nhwindows} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$foo)
\item 
int \hyperlink{macwin_8c_a336b0f4640568ff74f60c3d8b29e8d52}{try\+\_\+key\+\_\+queue} (char $\ast$bufp)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structNhWindow}{Nh\+Window} $\ast$ \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{the\+Windows} = (\hyperlink{structNhWindow}{Nh\+Window} $\ast$) 0
\item 
Cursor \hyperlink{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{qdarrow}
\item 
Window\+Ptr \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\+\_\+mt\+\_\+window}
\item 
static T\+E\+Handle \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\+\_\+line} = (T\+E\+Handle) nil
\item 
static int \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\+\_\+query\+\_\+len}
\item 
static int \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\+\_\+def\+\_\+idx} = -\/1
\item 
static char \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\+\_\+resp} \mbox{[}10\mbox{]} = \char`\"{}\char`\"{}
\item 
static \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{in\+Select} = \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{W\+I\+N\+\_\+\+E\+R\+R}
\item 
static unsigned char \hyperlink{macwin_8c_a480f08ff9fde6c267fc630f89e58a8ee}{key\+Queue} \mbox{[}\hyperlink{macwin_8h_a2f232bca0b7a953098d996b83b8bc2a9}{Q\+U\+E\+U\+E\+\_\+\+L\+E\+N}\mbox{]}
\item 
static int \hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{key\+Queue\+Read} = 0
\item 
static int \hyperlink{macwin_8c_a3d787c4017654134afe59f396d30561c}{key\+Queue\+Write} = 0
\item 
static int \hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{key\+Queue\+Count} = 0
\item 
static Boolean \hyperlink{macwin_8c_aeb1f2a020b1db806b3d6fd269745955c}{g\+Clicked\+To\+Move} = 0
\item 
static Point \hyperlink{macwin_8c_af23e841529e6e73bf1d37140d89e55d9}{clicked\+\_\+pos}
\item 
static int \hyperlink{macwin_8c_abd3980d9f9987480d5a371e6d20edf1d}{clicked\+\_\+mod}
\item 
static Boolean \hyperlink{macwin_8c_aae8fab695ceb3dae16c2613b66b31d61}{cursor\+\_\+locked} = false
\item 
static Control\+Action\+U\+P\+P \hyperlink{macwin_8c_af0969498664406dc90a195f973ab8019}{Move\+Scroll\+U\+P\+P}
\item 
static Rgn\+Handle \hyperlink{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{g\+Mouse\+Rgn} = (Rgn\+Handle) 0
\item 
\hyperlink{macwin_8h_a3fdde096010de68c3841d5455b192abd}{Mac\+Flags} \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{mac\+Flags}
\item 
Boolean \hyperlink{macwin_8c_a8a5ea2741f1acdae94edc68d0cd48dff}{small\+\_\+screen} = 0
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{macwin_8c_af3d4ca4610990e5242f4733db2893892}{Cb\+Func} \hyperlink{macwin_8c_a51ead8f3d77dd2675e0d18ed4d827f19}{win\+Key\+Funcs} \mbox{[}\hyperlink{macwin_8c_a803d5ca7ab45b27a9e458c06e0d297a0}{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{macwin_8c_af3d4ca4610990e5242f4733db2893892}{Cb\+Func} \hyperlink{macwin_8c_af48bdc4029c9e53e722acf002d8d5895}{win\+Click\+Funcs} \mbox{[}\hyperlink{macwin_8c_a803d5ca7ab45b27a9e458c06e0d297a0}{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{macwin_8c_a725144b6f4dbd0399f6b11d326eaf8f1}{Cb\+Up\+Func} \hyperlink{macwin_8c_ad03b6e633e2d04a0edb8ac4b4722266b}{win\+Update\+Funcs} \mbox{[}\hyperlink{macwin_8c_a803d5ca7ab45b27a9e458c06e0d297a0}{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{macwin_8c_ac8a078b1f188292f30a6051d8ecbe4f6}{Cb\+Curs\+Func} \hyperlink{macwin_8c_af311afb5421858ee15a07e865c9bab06}{win\+Cursor\+Funcs} \mbox{[}\hyperlink{macwin_8c_a803d5ca7ab45b27a9e458c06e0d297a0}{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}
\item 
short \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\+\_\+fonts} \mbox{[}\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{N\+H\+W\+\_\+\+T\+E\+X\+T}+1\mbox{]}
\item 
struct \hyperlink{structwindow__procs}{window\+\_\+procs} \hyperlink{macwin_8c_aa72d16131d9b80284c64c6bf72bf2c57}{mac\+\_\+procs}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{macwin_8c_aafc5be6b9e11a5cf8ef124119f875aa9}{\index{macwin.\+c@{macwin.\+c}!B\+T\+N\+\_\+\+H@{B\+T\+N\+\_\+\+H}}
\index{B\+T\+N\+\_\+\+H@{B\+T\+N\+\_\+\+H}!macwin.\+c@{macwin.\+c}}
\subsubsection[{B\+T\+N\+\_\+\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+T\+N\+\_\+\+H~({\bf S\+B\+A\+R\+H\+E\+I\+G\+H\+T}-\/3)}}\label{macwin_8c_aafc5be6b9e11a5cf8ef124119f875aa9}


Definition at line 827 of file macwin.\+c.



Referenced by topl\+\_\+resp\+\_\+rect().

\hypertarget{macwin_8c_a20d7f3e3d8c6563910885b4d39ed5b5f}{\index{macwin.\+c@{macwin.\+c}!B\+T\+N\+\_\+\+I\+N\+D@{B\+T\+N\+\_\+\+I\+N\+D}}
\index{B\+T\+N\+\_\+\+I\+N\+D@{B\+T\+N\+\_\+\+I\+N\+D}!macwin.\+c@{macwin.\+c}}
\subsubsection[{B\+T\+N\+\_\+\+I\+N\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+T\+N\+\_\+\+I\+N\+D~2}}\label{macwin_8c_a20d7f3e3d8c6563910885b4d39ed5b5f}


Definition at line 825 of file macwin.\+c.



Referenced by topl\+\_\+resp\+\_\+rect(), and topl\+\_\+set\+\_\+resp().

\hypertarget{macwin_8c_a88518206f114f83cf5c0bb345a44ec4c}{\index{macwin.\+c@{macwin.\+c}!B\+T\+N\+\_\+\+W@{B\+T\+N\+\_\+\+W}}
\index{B\+T\+N\+\_\+\+W@{B\+T\+N\+\_\+\+W}!macwin.\+c@{macwin.\+c}}
\subsubsection[{B\+T\+N\+\_\+\+W}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+T\+N\+\_\+\+W~40}}\label{macwin_8c_a88518206f114f83cf5c0bb345a44ec4c}


Definition at line 826 of file macwin.\+c.



Referenced by topl\+\_\+resp\+\_\+rect(), and topl\+\_\+set\+\_\+resp().

\hypertarget{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}{\index{macwin.\+c@{macwin.\+c}!C\+H\+A\+R\+\_\+\+A\+N\+Y@{C\+H\+A\+R\+\_\+\+A\+N\+Y}}
\index{C\+H\+A\+R\+\_\+\+A\+N\+Y@{C\+H\+A\+R\+\_\+\+A\+N\+Y}!macwin.\+c@{macwin.\+c}}
\subsubsection[{C\+H\+A\+R\+\_\+\+A\+N\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define C\+H\+A\+R\+\_\+\+A\+N\+Y~'\textbackslash{}n'}}\label{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}


Definition at line 43 of file macwin.\+c.



Referenced by mac\+Update\+Message(), topl\+\_\+resp\+\_\+key(), and topl\+\_\+set\+\_\+resp().

\hypertarget{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{\index{macwin.\+c@{macwin.\+c}!k\+Menu\+Size\+Bump@{k\+Menu\+Size\+Bump}}
\index{k\+Menu\+Size\+Bump@{k\+Menu\+Size\+Bump}!macwin.\+c@{macwin.\+c}}
\subsubsection[{k\+Menu\+Size\+Bump}]{\setlength{\rightskip}{0pt plus 5cm}\#define k\+Menu\+Size\+Bump~26}}\label{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}


Referenced by mac\+\_\+add\+\_\+menu().

\hypertarget{macwin_8c_a9059fa76eb5e8e86f870405d63e72c4c}{\index{macwin.\+c@{macwin.\+c}!M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T@{M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T}}
\index{M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T@{M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T}!macwin.\+c@{macwin.\+c}}
\subsubsection[{M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T~100}}\label{macwin_8c_a9059fa76eb5e8e86f870405d63e72c4c}


Definition at line 474 of file macwin.\+c.



Referenced by Sane\+Positions().

\hypertarget{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{\index{macwin.\+c@{macwin.\+c}!M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T@{M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T}}
\index{M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T@{M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T}!macwin.\+c@{macwin.\+c}}
\subsubsection[{M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T~50}}\label{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}


Definition at line 475 of file macwin.\+c.



Referenced by adjust\+\_\+window\+\_\+pos(), and Sane\+Positions().

\hypertarget{macwin_8c_ad3ee0cc681d736cb6d41c4ebb04c0ae4}{\index{macwin.\+c@{macwin.\+c}!M\+I\+N\+\_\+\+W\+I\+D\+T\+H@{M\+I\+N\+\_\+\+W\+I\+D\+T\+H}}
\index{M\+I\+N\+\_\+\+W\+I\+D\+T\+H@{M\+I\+N\+\_\+\+W\+I\+D\+T\+H}!macwin.\+c@{macwin.\+c}}
\subsubsection[{M\+I\+N\+\_\+\+W\+I\+D\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+I\+N\+\_\+\+W\+I\+D\+T\+H~300}}\label{macwin_8c_ad3ee0cc681d736cb6d41c4ebb04c0ae4}


Definition at line 476 of file macwin.\+c.



Referenced by Sane\+Positions().

\hypertarget{macwin_8c_ab575e634e51462bf534b7ee541cefc46}{\index{macwin.\+c@{macwin.\+c}!N\+H\+W\+\_\+\+B\+A\+S\+E@{N\+H\+W\+\_\+\+B\+A\+S\+E}}
\index{N\+H\+W\+\_\+\+B\+A\+S\+E@{N\+H\+W\+\_\+\+B\+A\+S\+E}!macwin.\+c@{macwin.\+c}}
\subsubsection[{N\+H\+W\+\_\+\+B\+A\+S\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+H\+W\+\_\+\+B\+A\+S\+E~0}}\label{macwin_8c_ab575e634e51462bf534b7ee541cefc46}


Definition at line 137 of file macwin.\+c.



Referenced by Init\+Mac(), mac\+\_\+create\+\_\+nhwindow(), and mac\+\_\+init\+\_\+nhwindows().

\hypertarget{macwin_8c_a803d5ca7ab45b27a9e458c06e0d297a0}{\index{macwin.\+c@{macwin.\+c}!N\+U\+M\+\_\+\+F\+U\+N\+C\+S@{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}}
\index{N\+U\+M\+\_\+\+F\+U\+N\+C\+S@{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}!macwin.\+c@{macwin.\+c}}
\subsubsection[{N\+U\+M\+\_\+\+F\+U\+N\+C\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+U\+M\+\_\+\+F\+U\+N\+C\+S~6}}\label{macwin_8c_a803d5ca7ab45b27a9e458c06e0d297a0}


Definition at line 165 of file macwin.\+c.

\hypertarget{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{\index{macwin.\+c@{macwin.\+c}!S\+B\+A\+R\+H\+E\+I\+G\+H\+T@{S\+B\+A\+R\+H\+E\+I\+G\+H\+T}}
\index{S\+B\+A\+R\+H\+E\+I\+G\+H\+T@{S\+B\+A\+R\+H\+E\+I\+G\+H\+T}!macwin.\+c@{macwin.\+c}}
\subsubsection[{S\+B\+A\+R\+H\+E\+I\+G\+H\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+B\+A\+R\+H\+E\+I\+G\+H\+T~15}}\label{macwin_8c_a9a3fdf53278d8956e0299050680962d0}


Definition at line 28 of file macwin.\+c.



Referenced by Draw\+Scrollbar(), Handle\+Click(), mac\+\_\+clear\+\_\+nhwindow(), mac\+\_\+create\+\_\+nhwindow(), mac\+\_\+putstr(), mac\+Update\+Message(), Move\+Scroll\+Bar(), and Sane\+Positions().

\hypertarget{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{\index{macwin.\+c@{macwin.\+c}!S\+B\+A\+R\+W\+I\+D\+T\+H@{S\+B\+A\+R\+W\+I\+D\+T\+H}}
\index{S\+B\+A\+R\+W\+I\+D\+T\+H@{S\+B\+A\+R\+W\+I\+D\+T\+H}!macwin.\+c@{macwin.\+c}}
\subsubsection[{S\+B\+A\+R\+W\+I\+D\+T\+H}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+B\+A\+R\+W\+I\+D\+T\+H~15}}\label{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}


Definition at line 27 of file macwin.\+c.



Referenced by draw\+\_\+growicon\+\_\+vert\+\_\+only(), Draw\+Scrollbar(), General\+Update(), mac\+\_\+clear\+\_\+nhwindow(), mac\+\_\+create\+\_\+nhwindow(), mac\+\_\+display\+\_\+nhwindow(), mac\+\_\+putstr(), mac\+Update\+Message(), Move\+Scroll\+Bar(), and Toggle\+Menu\+Select().



\subsection{Typedef Documentation}
\hypertarget{macwin_8c_ac8a078b1f188292f30a6051d8ecbe4f6}{\index{macwin.\+c@{macwin.\+c}!Cb\+Curs\+Func@{Cb\+Curs\+Func}}
\index{Cb\+Curs\+Func@{Cb\+Curs\+Func}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Cb\+Curs\+Func}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ Cb\+Curs\+Func)(Event\+Record $\ast$, Window\+Ptr, Rgn\+Handle)}}\label{macwin_8c_ac8a078b1f188292f30a6051d8ecbe4f6}


Definition at line 163 of file macwin.\+c.

\hypertarget{macwin_8c_af3d4ca4610990e5242f4733db2893892}{\index{macwin.\+c@{macwin.\+c}!Cb\+Func@{Cb\+Func}}
\index{Cb\+Func@{Cb\+Func}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Cb\+Func}]{\setlength{\rightskip}{0pt plus 5cm}typedef void($\ast$ Cb\+Func)(Event\+Record $\ast$, Window\+Ptr)}}\label{macwin_8c_af3d4ca4610990e5242f4733db2893892}


Definition at line 161 of file macwin.\+c.

\hypertarget{macwin_8c_a725144b6f4dbd0399f6b11d326eaf8f1}{\index{macwin.\+c@{macwin.\+c}!Cb\+Up\+Func@{Cb\+Up\+Func}}
\index{Cb\+Up\+Func@{Cb\+Up\+Func}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Cb\+Up\+Func}]{\setlength{\rightskip}{0pt plus 5cm}typedef short($\ast$ Cb\+Up\+Func)(Event\+Record $\ast$, Window\+Ptr)}}\label{macwin_8c_a725144b6f4dbd0399f6b11d326eaf8f1}


Definition at line 162 of file macwin.\+c.



\subsection{Function Documentation}
\hypertarget{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{\index{macwin.\+c@{macwin.\+c}!Add\+To\+Key\+Queue@{Add\+To\+Key\+Queue}}
\index{Add\+To\+Key\+Queue@{Add\+To\+Key\+Queue}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Add\+To\+Key\+Queue}]{\setlength{\rightskip}{0pt plus 5cm}void Add\+To\+Key\+Queue (
\begin{DoxyParamCaption}
\item[{unsigned char}]{ch, }
\item[{Boolean}]{force}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a1b745fe6130731ce0257f344ede143f6}


Definition at line 82 of file macwin.\+c.



References key\+Queue, key\+Queue\+Count, key\+Queue\+Read, key\+Queue\+Write, and Q\+U\+E\+U\+E\+\_\+\+L\+E\+N.



Referenced by Apple\+Event\+Handler(), ask\+Quit(), ask\+Save(), Do\+Menu\+Evt(), General\+Key(), mac\+Click\+Menu(), mac\+Click\+Message(), mac\+Key\+Menu(), and Window\+Go\+Away().


\begin{DoxyCode}
82                                                 \{
83     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount} < \hyperlink{macwin_8h_a2f232bca0b7a953098d996b83b8bc2a9}{QUEUE\_LEN}) \{
84         \hyperlink{macwin_8c_a480f08ff9fde6c267fc630f89e58a8ee}{keyQueue} [\hyperlink{macwin_8c_a3d787c4017654134afe59f396d30561c}{keyQueueWrite}++] = ch;
85         \hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount}++;
86     \}
87     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (force) \{
88         \hyperlink{macwin_8c_a480f08ff9fde6c267fc630f89e58a8ee}{keyQueue} [\hyperlink{macwin_8c_a3d787c4017654134afe59f396d30561c}{keyQueueWrite}++] = ch;
89         \hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead}++;
90         \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead} >= \hyperlink{macwin_8h_a2f232bca0b7a953098d996b83b8bc2a9}{QUEUE\_LEN})
91             \hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead} = 0;
92         \hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount} = \hyperlink{macwin_8h_a2f232bca0b7a953098d996b83b8bc2a9}{QUEUE\_LEN};
93     \}
94     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a3d787c4017654134afe59f396d30561c}{keyQueueWrite} >= \hyperlink{macwin_8h_a2f232bca0b7a953098d996b83b8bc2a9}{QUEUE\_LEN})
95         \hyperlink{macwin_8c_a3d787c4017654134afe59f396d30561c}{keyQueueWrite} = 0;
96 \}
\end{DoxyCode}
\hypertarget{macwin_8c_afa39c1e7c90da8dff0568e0b4f39078d}{\index{macwin.\+c@{macwin.\+c}!adjust\+\_\+window\+\_\+pos@{adjust\+\_\+window\+\_\+pos}}
\index{adjust\+\_\+window\+\_\+pos@{adjust\+\_\+window\+\_\+pos}!macwin.\+c@{macwin.\+c}}
\subsubsection[{adjust\+\_\+window\+\_\+pos}]{\setlength{\rightskip}{0pt plus 5cm}static void adjust\+\_\+window\+\_\+pos (
\begin{DoxyParamCaption}
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win, }
\item[{short}]{width, }
\item[{short}]{height}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_afa39c1e7c90da8dff0568e0b4f39078d}


Definition at line 1073 of file macwin.\+c.



References Draw\+Scrollbar(), Nh\+Window\+::its\+\_\+window, M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T, N\+U\+L\+L, Retrieve\+Win\+Pos(), and Nh\+Window\+::scroll\+Bar.



Referenced by mac\+\_\+display\+\_\+nhwindow().


\begin{DoxyCode}
1074 \{
1075     WindowRef theWindow = aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
1076 \textcolor{preprocessor}{#if TARGET\_API\_MAC\_CARBON}
1077     Rect r;
1078 
1079 
1080     GetWindowBounds(theWindow, kWindowContentRgn, &r);
1081     \hyperlink{maccurs_8c_aa7ad84cf9dd945ba07d35e61596a2039}{RetrieveWinPos}(theWindow, &r.top, &r.left);
1082     MoveWindow(theWindow, r.left, r.top, \textcolor{keyword}{false});
1083     SizeWindow(theWindow, \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width}, \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height}, \textcolor{keyword}{true});
1084     ConstrainWindowToScreen(theWindow, kWindowStructureRgn,
1085         kWindowConstrainMoveRegardlessOfFit, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
1086 \textcolor{preprocessor}{#else}
1087     Rect scr\_r = (*GetGrayRgn())->rgnBBox;
1088     \textcolor{keyword}{const} Rect win\_ind = \{2, 2, 3, 3\};
1089     \textcolor{keyword}{const} \textcolor{keywordtype}{short} min\_w = theWindow->portRect.right - theWindow->portRect.left,
1090                 max\_w = scr\_r.right - scr\_r.left - win\_ind.left - win\_ind.right;
1091     Point pos;
1092     \textcolor{keywordtype}{short} max\_h;
1093 
1094     SetPortWindowPort(theWindow);
1095     \textcolor{keywordflow}{if} (!\hyperlink{maccurs_8c_aa7ad84cf9dd945ba07d35e61596a2039}{RetrieveWinPos}(theWindow, &pos.v, &pos.h)) \{
1096         pos.v = 0;  \textcolor{comment}{/* take window's existing position */}
1097         pos.h = 0;
1098         LocalToGlobal(&pos);
1099     \}
1100 
1101     max\_h = scr\_r.bottom - win\_ind.bottom - pos.v;
1102     \textcolor{keywordflow}{if} (\hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height} > max\_h)       \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height} = max\_h;
1103     \textcolor{keywordflow}{if} (\hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height} < \hyperlink{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{MIN\_HEIGHT})    \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height} = \hyperlink{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{MIN\_HEIGHT};
1104     \textcolor{keywordflow}{if} (\hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width} < min\_w)     \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width} = min\_w;
1105     \textcolor{keywordflow}{if} (\hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width} > max\_w)     \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width} = max\_w;
1106     SizeWindow(theWindow, \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width}, \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height}, \textcolor{keyword}{true});
1107 
1108     \textcolor{keywordflow}{if} (pos.v + \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height} + win\_ind.bottom > scr\_r.bottom)
1109         pos.v = scr\_r.bottom - \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height} - win\_ind.bottom;
1110     \textcolor{keywordflow}{if} (pos.h + \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width} + win\_ind.right > scr\_r.right)
1111         pos.h = scr\_r.right  - \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width} - win\_ind.right;
1112     MoveWindow(theWindow, pos.h, pos.v, \textcolor{keyword}{false});
1113     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})   
1114         \hyperlink{macwin_8c_aee163f928c72f988fdd7e30d99c26665}{DrawScrollbar} (aWin);
1115 \textcolor{preprocessor}{#endif}
1116     \textcolor{keywordflow}{return};
1117 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ae1ce649532822eb214f3bd51807ec537}{\index{macwin.\+c@{macwin.\+c}!Apple\+Event\+Handler@{Apple\+Event\+Handler}}
\index{Apple\+Event\+Handler@{Apple\+Event\+Handler}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Apple\+Event\+Handler}]{\setlength{\rightskip}{0pt plus 5cm}static pascal O\+S\+Err Apple\+Event\+Handler (
\begin{DoxyParamCaption}
\item[{{\bf const} Apple\+Event $\ast$}]{in\+Apple\+Event, }
\item[{Apple\+Event $\ast$}]{out\+A\+E\+Reply, }
\item[{long}]{in\+Ref\+Con}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ae1ce649532822eb214f3bd51807ec537}


Definition at line 205 of file macwin.\+c.



References Add\+To\+Key\+Queue(), index(), key\+Queue\+Count, key\+Queue\+Read, key\+Queue\+Write, N\+U\+L\+L, and process\+\_\+openfile().



Referenced by Init\+Mac().


\begin{DoxyCode}
205                                                                                           \{
206 \textcolor{preprocessor}{#if defined(\_\_SC\_\_) || defined(\_\_MRC\_\_)}
207 \textcolor{preprocessor}{# pragma unused(outAEReply,inRefCon)}
208 \textcolor{preprocessor}{#endif}
209     Size     actualSize;
210     DescType typeCode;
211     AEEventID EventID;
212     OSErr    err;
213 
214     \textcolor{comment}{/* Get Event ID */}
215     err = AEGetAttributePtr (inAppleEvent, keyEventIDAttr, typeType, &typeCode,
216                                 &EventID, \textcolor{keyword}{sizeof} (EventID), &actualSize);
217     \textcolor{keywordflow}{if} (err == noErr) \{
218         \textcolor{keywordflow}{switch} (EventID) \{
219             \textcolor{keywordflow}{default} :
220             \textcolor{keywordflow}{case} kAEOpenApplication :
221                 \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.gotOpen = 1;
222                 \textcolor{comment}{/* fall through */}
223             \textcolor{keywordflow}{case} kAEPrintDocuments :
224                 err = errAEEventNotHandled;
225                 \textcolor{keywordflow}{break};
226             \textcolor{keywordflow}{case} kAEQuitApplication :
227                 \textcolor{comment}{/* Flush key queue */}
228                 \hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount} = \hyperlink{macwin_8c_a3d787c4017654134afe59f396d30561c}{keyQueueWrite} = 
      \hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead} = 0;
229                 \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{AddToKeyQueue} (\textcolor{charliteral}{'S'}, 1);
230                 \textcolor{keywordflow}{break};
231             \textcolor{keywordflow}{case} kAEOpenDocuments : \{
232                 FSSpec      fss;
233                 FInfo fndrInfo;
234                 AEKeyword   keywd;
235                 AEDescList  docList;
236                 \textcolor{keywordtype}{long}     \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}, itemsInList;
237 
238                 \textcolor{keywordflow}{if}((err = AEGetParamDesc(inAppleEvent, keyDirectObject, typeAEList, &docList)) != noErr ||
239                     (err = AECountItems(&docList, &itemsInList)) != noErr)\{
240                     \textcolor{keywordflow}{if} (err == errAEDescNotFound)
241                         itemsInList = 0;
242                     \textcolor{keywordflow}{else}
243                         \textcolor{keywordflow}{break};
244                 \}
245 
246                 \textcolor{keywordflow}{for}(index = 1; index <= itemsInList; index++)\{
247                     err = AEGetNthPtr(&docList, index, typeFSS, &keywd, &typeCode, (Ptr)&fss,
248                                 \textcolor{keyword}{sizeof}(FSSpec), &actualSize);
249                     \textcolor{keywordflow}{if}(noErr != err)
250                         \textcolor{keywordflow}{break};
251 
252                     err = FSpGetFInfo (&fss, &fndrInfo);
253                     \textcolor{keywordflow}{if} (noErr != err)
254                         \textcolor{keywordflow}{break};
255 
256                     \textcolor{keywordflow}{if} (fndrInfo.fdType != SAVE\_TYPE) 
257                         \textcolor{keywordflow}{continue};   \textcolor{comment}{/* only look at save files */}
258 
259                     \hyperlink{macmain_8c_a79a71ef5731200df6d5ec30a89df29a4}{process\_openfile} (fss.vRefNum, fss.parID, fss.name, fndrInfo.fdType);
260                     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.gotOpen)
261                         \textcolor{keywordflow}{break};  \textcolor{comment}{/* got our save file */}
262                 \}
263                 err = AEDisposeDesc(&docList);
264                 \textcolor{keywordflow}{break};
265             \}
266         \}
267     \}           
268 
269     \textcolor{comment}{/* Check to see if all required parameters for this type of event are present */}
270     \textcolor{keywordflow}{if} (err == noErr) \{
271         err = AEGetAttributePtr (inAppleEvent, keyMissedKeywordAttr, 
272                                 typeWildCard, &typeCode, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0, &actualSize);
273         \textcolor{keywordflow}{if} (err == errAEDescNotFound)                                            
274             err = noErr;        \textcolor{comment}{/* got all the required parameters */}
275         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (err == noErr)  \textcolor{comment}{/* missed a required parameter */}
276             err = errAEEventNotHandled;
277     \}
278 
279     \textcolor{keywordflow}{return} err;
280 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a74f72a4daa5450f73296c281b88d702d}{\index{macwin.\+c@{macwin.\+c}!Check\+Nh\+Win@{Check\+Nh\+Win}}
\index{Check\+Nh\+Win@{Check\+Nh\+Win}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Check\+Nh\+Win}]{\setlength{\rightskip}{0pt plus 5cm}Boolean Check\+Nh\+Win (
\begin{DoxyParamCaption}
\item[{Window\+Ptr}]{mac\+\_\+win}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a74f72a4daa5450f73296c281b88d702d}


Definition at line 199 of file macwin.\+c.



References Get\+Nh\+Win().



Referenced by Get\+Win\+Kind().


\begin{DoxyCode}
199                                        \{
200     \textcolor{keywordflow}{return} \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (mac\_win) != nil;
201 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a3712e3ae7c6e1a14c331cd5218b29ecb}{\index{macwin.\+c@{macwin.\+c}!Closing\+Window\+Char@{Closing\+Window\+Char}}
\index{Closing\+Window\+Char@{Closing\+Window\+Char}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Closing\+Window\+Char}]{\setlength{\rightskip}{0pt plus 5cm}static Boolean Closing\+Window\+Char (
\begin{DoxyParamCaption}
\item[{{\bf const} int}]{c}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a3712e3ae7c6e1a14c331cd5218b29ecb}


Definition at line 806 of file macwin.\+c.



References C\+H\+A\+R\+\_\+\+B\+L\+A\+N\+K, C\+H\+A\+R\+\_\+\+C\+R, C\+H\+A\+R\+\_\+\+E\+S\+C, and C\+H\+A\+R\+\_\+\+L\+F.



Referenced by mac\+\_\+display\+\_\+nhwindow(), mac\+\_\+select\+\_\+menu(), and mac\+Key\+Text().


\begin{DoxyCode}
806                                \{
807     \textcolor{keywordflow}{return} c == \hyperlink{mactty_8h_ac763d1de8ee96951064bd7dbb649dfc5}{CHAR\_ESC} || c == \hyperlink{mactty_8h_af613157a33369740006dac4bab769423}{CHAR\_BLANK} || c == \hyperlink{mactty_8h_ab278969e0bc4296056adb7b18aa43227}{CHAR\_LF} || c == 
      \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR} ||
808             c == \textcolor{charliteral}{'q'};
809 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a258eb0826da8b41383462772284f35bb}{\index{macwin.\+c@{macwin.\+c}!Do\+Os\+Evt@{Do\+Os\+Evt}}
\index{Do\+Os\+Evt@{Do\+Os\+Evt}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Do\+Os\+Evt}]{\setlength{\rightskip}{0pt plus 5cm}static void Do\+Os\+Evt (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a258eb0826da8b41383462772284f35bb}


Definition at line 2091 of file macwin.\+c.



References g\+Mouse\+Rgn, N\+H\+W\+\_\+\+T\+E\+X\+T, qdarrow, and W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D.



Referenced by Handle\+Event().


\begin{DoxyCode}
2091                                 \{
2092     WindowRef win;
2093     \textcolor{keywordtype}{short} code;
2094 
2095     \textcolor{keywordflow}{if} ((theEvent->message & 0xff000000) == 0xfa000000) \{
2096         \textcolor{comment}{/* Mouse Moved */}
2097 
2098         code = FindWindow (theEvent->where, &win);
2099         \textcolor{keywordflow}{if} (code != inContent) \{
2100             Rect r = \{-1, -1, 2, 2\};
2101 
2102             SetCursor(&\hyperlink{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{qdarrow});
2103             OffsetRect (&r, theEvent->where.h, theEvent->where.v);
2104             RectRgn (\hyperlink{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{gMouseRgn}, &r);
2105         \} \textcolor{keywordflow}{else} \{
2106             \textcolor{keywordtype}{int} kind = GetWindowKind(win) - \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND};
2107             \textcolor{keywordflow}{if} (kind >= 0 && kind <= \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}) \{
2108                 \hyperlink{macwin_8c_af311afb5421858ee15a07e865c9bab06}{winCursorFuncs} [kind] (theEvent, win, \hyperlink{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{gMouseRgn});
2109             \}
2110         \}
2111     \}
2112 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a4c1496eec814dff5b89ec744998dd4f9}{\index{macwin.\+c@{macwin.\+c}!Do\+Scroll\+Bar@{Do\+Scroll\+Bar}}
\index{Do\+Scroll\+Bar@{Do\+Scroll\+Bar}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Do\+Scroll\+Bar}]{\setlength{\rightskip}{0pt plus 5cm}static void Do\+Scroll\+Bar (
\begin{DoxyParamCaption}
\item[{Point}]{p, }
\item[{short}]{code, }
\item[{Control\+Handle}]{the\+Bar, }
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a4c1496eec814dff5b89ec744998dd4f9}


Definition at line 1615 of file macwin.\+c.



References Nh\+Window\+::its\+\_\+window, Move\+Scroll\+U\+P\+P, N\+U\+L\+L, rect, and Nh\+Window\+::scroll\+Pos.



Referenced by mac\+Click\+Menu(), and mac\+Click\+Text().


\begin{DoxyCode}
1616 \{
1617     ControlActionUPP func = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1618     Rect \hyperlink{rect_8c_a58a1301fcdb736034a47900ee20578ec}{rect};
1619 
1620     \textcolor{keywordflow}{if} (code == kControlUpButtonPart || code == kControlPageUpPart ||
1621         code == kControlDownButtonPart || code == kControlPageDownPart)
1622         func = \hyperlink{macwin_8c_af0969498664406dc90a195f973ab8019}{MoveScrollUPP};
1623     (void) TrackControl(theBar, p, func);
1624     \textcolor{keywordflow}{if} (!func) \{
1625         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} != GetControlValue (theBar)) \{
1626             aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} = GetControlValue (theBar);
1627             GetWindowBounds(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, kWindowContentRgn, &rect);
1628             OffsetRect(&rect, -rect.left, -rect.top);
1629             InvalWindowRect(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, &rect);
1630         \}
1631     \}
1632 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a6493b514ae660f04c1d09cb1d9af4338}{\index{macwin.\+c@{macwin.\+c}!draw\+\_\+growicon\+\_\+vert\+\_\+only@{draw\+\_\+growicon\+\_\+vert\+\_\+only}}
\index{draw\+\_\+growicon\+\_\+vert\+\_\+only@{draw\+\_\+growicon\+\_\+vert\+\_\+only}!macwin.\+c@{macwin.\+c}}
\subsubsection[{draw\+\_\+growicon\+\_\+vert\+\_\+only}]{\setlength{\rightskip}{0pt plus 5cm}static void draw\+\_\+growicon\+\_\+vert\+\_\+only (
\begin{DoxyParamCaption}
\item[{Window\+Ptr}]{wind}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a6493b514ae660f04c1d09cb1d9af4338}


Definition at line 1674 of file macwin.\+c.



References S\+B\+A\+R\+W\+I\+D\+T\+H.



Referenced by General\+Update().


\begin{DoxyCode}
1675 \{
1676     GrafPtr org\_port;
1677     RgnHandle org\_clip = NewRgn();
1678     Rect r;
1679 
1680     GetPort(&org\_port);
1681     SetPortWindowPort(wind);
1682     GetClip(org\_clip);
1683     GetWindowBounds(wind, kWindowContentRgn, &r);
1684     OffsetRect(&r, -r.left, -r.top);
1685     r.left = r.right - \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
1686     ClipRect(&r);
1687     DrawGrowIcon(wind);
1688     SetClip(org\_clip);
1689     DisposeRgn(org\_clip);
1690     SetPort(org\_port);
1691 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aee163f928c72f988fdd7e30d99c26665}{\index{macwin.\+c@{macwin.\+c}!Draw\+Scrollbar@{Draw\+Scrollbar}}
\index{Draw\+Scrollbar@{Draw\+Scrollbar}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Draw\+Scrollbar}]{\setlength{\rightskip}{0pt plus 5cm}static void Draw\+Scrollbar (
\begin{DoxyParamCaption}
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aee163f928c72f988fdd7e30d99c26665}


Definition at line 417 of file macwin.\+c.



References Nh\+Window\+::its\+\_\+window, Nh\+Window\+::row\+\_\+height, S\+B\+A\+R\+H\+E\+I\+G\+H\+T, S\+B\+A\+R\+W\+I\+D\+T\+H, Nh\+Window\+::scroll\+Bar, Nh\+Window\+::scroll\+Pos, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, and Nh\+Window\+::y\+\_\+size.



Referenced by adjust\+\_\+window\+\_\+pos(), Handle\+Click(), and Sane\+Positions().


\begin{DoxyCode}
418 \{
419     WindowPtr theWindow = aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
420     Rect crect, wrect;
421     Boolean vis;
422     \textcolor{keywordtype}{short} val, lin, win\_height;
423 
424 
425     \textcolor{keywordflow}{if} (!aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})
426         \textcolor{keywordflow}{return};
427     GetControlBounds(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, &crect);
428     GetWindowBounds(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, kWindowContentRgn, &wrect);
429     OffsetRect(&wrect, -wrect.left, -wrect.top);
430     win\_height = wrect.bottom - wrect.top;
431 
432     \textcolor{keywordflow}{if} (crect.top != wrect.top - 1 ||
433          crect.left != wrect.right - \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH}) \{
434         MoveControl (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, wrect.right - \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH}, wrect.top - 1);
435     \}
436     \textcolor{keywordflow}{if} (crect.bottom != wrect.bottom - \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT} ||
437          crect.right != wrect.right + 1) \{
438         SizeControl (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH}+1, win\_height - 
      \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT} + 2);
439     \}
440     vis = (win\_height > (50 + \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT}));
441     \textcolor{keywordflow}{if} (vis != IsControlVisible(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})) \{
442         \textcolor{comment}{/* current status != control */}
443         \textcolor{keywordflow}{if} (vis)\textcolor{comment}{/* if visible, show */}
444             ShowControl (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar});
445         \textcolor{keywordflow}{else}    \textcolor{comment}{/* else hide */}
446             HideControl (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar});
447     \}
448     lin = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
449     \textcolor{keywordflow}{if} (aWin == \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} + \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}) \{
450         \textcolor{comment}{/* calculate how big scroll bar is for message window */}
451         lin -= (win\_height - \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT}) / aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
452         if (lin < 0)
453             lin = 0;        
454         val = 0;            \textcolor{comment}{/* always have message scrollbar active */}
455     \}
456     \textcolor{keywordflow}{else} \{
457         \textcolor{comment}{/* calculate how big scroll bar is for other windows */}
458         lin -= win\_height / aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
459         \textcolor{keywordflow}{if} (lin < 0)
460             lin = 0;
461         \textcolor{keywordflow}{if} (lin)    val = 0;    \textcolor{comment}{/* if there are 1+ screen lines, activate scrollbar */}
462         \textcolor{keywordflow}{else}        val = 255;  \textcolor{comment}{/* else grey it out */}
463     \}
464     SetControlMaximum (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, lin);
465     HiliteControl (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, val);
466     val = GetControlValue (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar});
467     \textcolor{keywordflow}{if} (val != aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos}) \{
468         InvalWindowRect(theWindow, &wrect);
469         aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} = val;
470     \}
471 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aa6e33d4f635b32400951988d58316edf}{\index{macwin.\+c@{macwin.\+c}!enter\+\_\+topl\+\_\+mode@{enter\+\_\+topl\+\_\+mode}}
\index{enter\+\_\+topl\+\_\+mode@{enter\+\_\+topl\+\_\+mode}!macwin.\+c@{macwin.\+c}}
\subsubsection[{enter\+\_\+topl\+\_\+mode}]{\setlength{\rightskip}{0pt plus 5cm}void enter\+\_\+topl\+\_\+mode (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{query}
\end{DoxyParamCaption}
)}}\label{macwin_8c_aa6e33d4f635b32400951988d58316edf}


Definition at line 846 of file macwin.\+c.



References A\+T\+R\+\_\+\+B\+O\+L\+D, Dim\+Menu\+Bar, F\+A\+L\+S\+E, in\+\_\+topl\+\_\+mode(), mac\+\_\+display\+\_\+nhwindow(), putstr, top\+\_\+line, topl\+\_\+query\+\_\+len, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by topl\+\_\+getlin(), and topl\+\_\+yn\+\_\+function().


\begin{DoxyCode}
846                              \{
847     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a434413472f44c8167ec5898d18c84eee}{in\_topl\_mode}())
848         \textcolor{keywordflow}{return};
849 
850     \hyperlink{winprocs_8h_a2ab348888957358569f859127c0bc474}{putstr}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, query);
851 
852     \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len} = strlen(query);
853     (*top\_line)->selStart = \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len};
854     (*top\_line)->selEnd = \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len};
855     (*top\_line)->viewRect.left = 0;
856     PtrToXHand(query, (*top\_line)->hText, \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len});
857     TECalText(\hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
858 
859     \hyperlink{macwin_8h_a0eece0e7a8b543ac7d732a73cb668d33}{DimMenuBar}();
860     \hyperlink{macwin_8c_aeaa254ac51270c6909c8e4f2b1006195}{mac\_display\_nhwindow}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
861 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ad26dcf0125fd7b875efc417d1478f755}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static int F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf filter\+\_\+scroll\+\_\+key}}]{, }
\item[{({\bf const} int, {\bf Nh\+Window} $\ast$)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ad26dcf0125fd7b875efc417d1478f755}
\hypertarget{macwin_8c_a5b60d01beb5c3c6e738c3d0e4c780c96}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf General\+Key}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a5b60d01beb5c3c6e738c3d0e4c780c96}
\hypertarget{macwin_8c_a6441c02afa2a13fc9eb5c4ed5b3e2866}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Key\+Menu}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a6441c02afa2a13fc9eb5c4ed5b3e2866}
\hypertarget{macwin_8c_a18cffe65c385048835cc8ba5941f5771}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Key\+Text}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a18cffe65c385048835cc8ba5941f5771}
\hypertarget{macwin_8c_a8bea0ba8456c6a81d36ef1ec93aab32b}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Click\+Message}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a8bea0ba8456c6a81d36ef1ec93aab32b}
\hypertarget{macwin_8c_a3b267454325fb31dbb2a062d8370ffb3}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Click\+Term}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a3b267454325fb31dbb2a062d8370ffb3}
\hypertarget{macwin_8c_ac34c4268da4efdcd9257815853c681e3}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Click\+Menu}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ac34c4268da4efdcd9257815853c681e3}
\hypertarget{macwin_8c_ae1cd66de1a1bdc89efd2333120a6536e}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Click\+Text}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ae1cd66de1a1bdc89efd2333120a6536e}
\hypertarget{macwin_8c_acb1fcc9791dd396ee3cc7147541b6eff}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static short F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Do\+Null}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_acb1fcc9791dd396ee3cc7147541b6eff}
\hypertarget{macwin_8c_a6cb5e2db5557498e1733f22a0ebce019}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static short F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Update\+Message}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a6cb5e2db5557498e1733f22a0ebce019}
\hypertarget{macwin_8c_af0931806c794da744811452bb40a6897}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static short F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Update\+Menu}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af0931806c794da744811452bb40a6897}
\hypertarget{macwin_8c_a31b05c05ebe6d0d000f4761cc8258a26}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static short F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf General\+Update}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a31b05c05ebe6d0d000f4761cc8258a26}
\hypertarget{macwin_8c_a4f8788036b105a3e39841267feb59f73}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf mac\+Cursor\+Term}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr, Rgn\+Handle)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a4f8788036b105a3e39841267feb59f73}
\hypertarget{macwin_8c_aa6bbfbc9186d52ff6f80d919d5050e8a}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf General\+Cursor}}]{, }
\item[{(Event\+Record $\ast$, Window\+Ptr, Rgn\+Handle)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aa6bbfbc9186d52ff6f80d919d5050e8a}
\hypertarget{macwin_8c_a3747dcd1f1e86e036f16f21145e112e9}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf Do\+Scroll\+Bar}}]{, }
\item[{(Point, short, Control\+Handle, {\bf Nh\+Window} $\ast$)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a3747dcd1f1e86e036f16f21145e112e9}
\hypertarget{macwin_8c_a896b6b384885e4dcf5eb3b409782f08b}{\index{macwin.\+c@{macwin.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!macwin.\+c@{macwin.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static pascal void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf Move\+Scroll\+Bar}}]{, }
\item[{(Control\+Handle, short)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a896b6b384885e4dcf5eb3b409782f08b}
\hypertarget{macwin_8c_a89bc2fc153cc2238c0de103b4bbe3b8d}{\index{macwin.\+c@{macwin.\+c}!filter\+\_\+scroll\+\_\+key@{filter\+\_\+scroll\+\_\+key}}
\index{filter\+\_\+scroll\+\_\+key@{filter\+\_\+scroll\+\_\+key}!macwin.\+c@{macwin.\+c}}
\subsubsection[{filter\+\_\+scroll\+\_\+key}]{\setlength{\rightskip}{0pt plus 5cm}static int filter\+\_\+scroll\+\_\+key (
\begin{DoxyParamCaption}
\item[{{\bf const} int}]{ch, }
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a89bc2fc153cc2238c0de103b4bbe3b8d}


Definition at line 1636 of file macwin.\+c.



References C\+H\+A\+R\+\_\+\+B\+L\+A\+N\+K, C\+H\+A\+R\+\_\+\+C\+R, C\+H\+A\+R\+\_\+\+L\+F, Nh\+Window\+::its\+\_\+window, Move\+Scroll\+Bar(), and Nh\+Window\+::scroll\+Bar.



Referenced by mac\+Key\+Menu(), and mac\+Key\+Text().


\begin{DoxyCode}
1636                                                 \{
1637     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar} && GetControlValue(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}) < GetControlMaximum(aWin->
      \hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})) \{
1638         \textcolor{keywordtype}{short} part = 0;
1639         \textcolor{keywordflow}{if} (ch == \hyperlink{mactty_8h_af613157a33369740006dac4bab769423}{CHAR\_BLANK}) \{
1640             part = kControlPageDownPart;
1641         \}
1642         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR} || ch == \hyperlink{mactty_8h_ab278969e0bc4296056adb7b18aa43227}{CHAR\_LF}) \{
1643             part = kControlDownButtonPart;
1644         \}
1645         \textcolor{keywordflow}{if} (part) \{
1646             SetPortWindowPort(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window});
1647             \hyperlink{macwin_8c_acf2dad7fc6c7123f690d53eaac73a718}{MoveScrollBar}(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, part);
1648             \textcolor{keywordflow}{return} 0;
1649         \}
1650     \}
1651     \textcolor{keywordflow}{return} ch;
1652 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aef31a22c2202a39186f7d19e46fd4476}{\index{macwin.\+c@{macwin.\+c}!General\+Cursor@{General\+Cursor}}
\index{General\+Cursor@{General\+Cursor}!macwin.\+c@{macwin.\+c}}
\subsubsection[{General\+Cursor}]{\setlength{\rightskip}{0pt plus 5cm}static void General\+Cursor (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window, }
\item[{Rgn\+Handle}]{mouse\+Rgn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aef31a22c2202a39186f7d19e46fd4476}


Definition at line 1927 of file macwin.\+c.



References qdarrow.


\begin{DoxyCode}
1927                                                                                \{
1928 \textcolor{preprocessor}{#if defined(\_\_SC\_\_) || defined(\_\_MRC\_\_)}
1929 \textcolor{preprocessor}{# pragma unused(theWindow)}
1930 \textcolor{preprocessor}{#endif}
1931     Rect r = \{-1, -1, 2, 2\};
1932 
1933     SetCursor(&\hyperlink{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{qdarrow});
1934     OffsetRect (&r, theEvent->where.h, theEvent->where.v);
1935     RectRgn (mouseRgn, &r);
1936 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{\index{macwin.\+c@{macwin.\+c}!General\+Key@{General\+Key}}
\index{General\+Key@{General\+Key}!macwin.\+c@{macwin.\+c}}
\subsubsection[{General\+Key}]{\setlength{\rightskip}{0pt plus 5cm}static void General\+Key (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}


Definition at line 1265 of file macwin.\+c.



References Add\+To\+Key\+Queue(), topl\+\_\+resp\+\_\+key(), trans\+\_\+num\+\_\+keys(), and T\+R\+U\+E.



Referenced by Handle\+Key(), mac\+Key\+Menu(), and mac\+Key\+Text().


\begin{DoxyCode}
1265                                                         \{
1266 \textcolor{preprocessor}{#if defined(\_\_SC\_\_) || defined(\_\_MRC\_\_)}
1267 \textcolor{preprocessor}{# pragma unused(theWindow)}
1268 \textcolor{preprocessor}{#endif}
1269 \textcolor{preprocessor}{#if 0}
1270     \hyperlink{macwin_8c_afb68fc8b5ce3d977d109edd6130e3803}{trans\_num\_keys} (theEvent);
1271 \textcolor{preprocessor}{#endif}
1272     \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{AddToKeyQueue} (\hyperlink{macwin_8c_ae1b761401f6b7319c87e65f8e4574bb4}{topl\_resp\_key} (theEvent->message & 0xff), 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1273 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ac218a718ae77d8381666c7d7c4dc6dee}{\index{macwin.\+c@{macwin.\+c}!General\+Update@{General\+Update}}
\index{General\+Update@{General\+Update}!macwin.\+c@{macwin.\+c}}
\subsubsection[{General\+Update}]{\setlength{\rightskip}{0pt plus 5cm}static short General\+Update (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ac218a718ae77d8381666c7d7c4dc6dee}


Definition at line 1840 of file macwin.\+c.



References draw\+\_\+growicon\+\_\+vert\+\_\+only(), Get\+Nh\+Win(), M\+I\+N\+\_\+\+R\+I\+G\+H\+T, Nh\+Window\+::row\+\_\+height, S\+B\+A\+R\+W\+I\+D\+T\+H, Nh\+Window\+::scroll\+Pos, Nh\+Window\+::window\+Text, and Nh\+Window\+::window\+Text\+Len.



Referenced by mac\+Update\+Menu().


\begin{DoxyCode}
1840                                                            \{
1841     Rect r, r2;
1842     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (theWindow);
1843     RgnHandle h;
1844     Boolean vis;
1845 
1846 
1847     \textcolor{keywordflow}{if} (!theEvent)
1848         \textcolor{keywordflow}{return} 0;
1849 
1850     GetWindowBounds(theWindow, kWindowContentRgn, &r);
1851     OffsetRect(&r, -r.left, -r.top);
1852     r2 = r;
1853     r2.left = r2.right - \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
1854     r2.right += 1;
1855     r2.top -= 1;
1856     vis = (r2.bottom > r2.top + 50);
1857 
1858     \hyperlink{macwin_8c_a6493b514ae660f04c1d09cb1d9af4338}{draw\_growicon\_vert\_only}(theWindow);
1859     DrawControls (theWindow);
1860 
1861     h = (RgnHandle) 0;
1862     \textcolor{keywordflow}{if} (vis && (h = NewRgn ())) \{
1863         RgnHandle tmp = NewRgn ();
1864         \textcolor{keywordflow}{if} (!tmp) \{
1865             DisposeRgn (h);
1866             h = (RgnHandle) 0;
1867         \} \textcolor{keywordflow}{else} \{
1868             GetClip (h);
1869             RectRgn (tmp, &r2);
1870             DiffRgn (h, tmp, tmp);
1871             SetClip (tmp);
1872             DisposeRgn (tmp);
1873         \}
1874     \}
1875     \textcolor{keywordflow}{if} (r.right < \hyperlink{macwin_8h_ab9ca6860a72826274d4adcfebcd16fff}{MIN\_RIGHT})
1876         r.right = \hyperlink{macwin_8h_ab9ca6860a72826274d4adcfebcd16fff}{MIN\_RIGHT};
1877     r.top -= aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1878     r.right -= \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
1879     HLock (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText});
1880     TETextBox (*aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}, aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen}, &r, teJustLeft);
1881     HUnlock (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText});
1882     \textcolor{keywordflow}{if} (h) \{
1883         SetClip (h);
1884         DisposeRgn (h);
1885     \}
1886     \textcolor{keywordflow}{return} 0;
1887 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a71482ac2cd09246722585aa22047f88d}{\index{macwin.\+c@{macwin.\+c}!Get\+From\+Key\+Queue@{Get\+From\+Key\+Queue}}
\index{Get\+From\+Key\+Queue@{Get\+From\+Key\+Queue}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Get\+From\+Key\+Queue}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char Get\+From\+Key\+Queue (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a71482ac2cd09246722585aa22047f88d}


Definition at line 103 of file macwin.\+c.



References key\+Queue, key\+Queue\+Count, key\+Queue\+Read, and Q\+U\+E\+U\+E\+\_\+\+L\+E\+N.



Referenced by mac\+\_\+nhgetch(), tgetch(), and try\+\_\+key\+\_\+queue().


\begin{DoxyCode}
103                        \{
104     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} ret;
105 
106     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount}) \{
107         ret = \hyperlink{macwin_8c_a480f08ff9fde6c267fc630f89e58a8ee}{keyQueue} [\hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead}++];
108         \hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount}--;
109         \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead} >= \hyperlink{macwin_8h_a2f232bca0b7a953098d996b83b8bc2a9}{QUEUE\_LEN})
110             \hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead} = 0;
111     \}
112     \textcolor{keywordflow}{else}
113         ret = 0;
114     \textcolor{keywordflow}{return} ret;
115 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{\index{macwin.\+c@{macwin.\+c}!Get\+Nh\+Win@{Get\+Nh\+Win}}
\index{Get\+Nh\+Win@{Get\+Nh\+Win}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Get\+Nh\+Win}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf Nh\+Window}$\ast$ Get\+Nh\+Win (
\begin{DoxyParamCaption}
\item[{Window\+Ptr}]{mac\+\_\+win}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}


Definition at line 187 of file macwin.\+c.



References \+\_\+mt\+\_\+window, N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, and the\+Windows.



Referenced by Check\+Nh\+Win(), General\+Update(), Handle\+Click(), Handle\+Update(), mac\+Click\+Menu(), mac\+Click\+Term(), mac\+Click\+Text(), mac\+Cursor\+Term(), mac\+Key\+Menu(), mac\+Key\+Text(), mac\+Update\+Menu(), mac\+Update\+Message(), and Window\+Go\+Away().


\begin{DoxyCode}
187                             \{
188     \textcolor{keywordflow}{if} (mac\_win == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window})    \textcolor{comment}{/* term window is still maintained by both systems, and */}
189         \textcolor{keywordflow}{return} \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows};        \textcolor{comment}{/* WRefCon still refers to tty struct, so we have to map it */}
190     \textcolor{keywordflow}{else} \{
191         \hyperlink{structNhWindow}{NhWindow} *aWin = (\hyperlink{structNhWindow}{NhWindow} *)GetWRefCon (mac\_win);
192         \textcolor{keywordflow}{if} (aWin >= \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} && aWin < &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[
      \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS}])
193             \textcolor{keywordflow}{return} aWin;
194     \}
195     \textcolor{keywordflow}{return} ((\hyperlink{structNhWindow}{NhWindow} *) nil);
196 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a66e8539af7898107308a212a64994b6f}{\index{macwin.\+c@{macwin.\+c}!Handle\+Click@{Handle\+Click}}
\index{Handle\+Click@{Handle\+Click}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Handle\+Click}]{\setlength{\rightskip}{0pt plus 5cm}static void Handle\+Click (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a66e8539af7898107308a212a64994b6f}


Definition at line 1985 of file macwin.\+c.



References Do\+Menu\+Evt(), Draw\+Scrollbar(), F\+A\+L\+S\+E, Get\+Nh\+Win(), g\+Mouse\+Rgn, in\+Select, nhbell, qdarrow, Nh\+Window\+::row\+\_\+height, Save\+Window\+Pos(), Save\+Window\+Size(), S\+B\+A\+R\+H\+E\+I\+G\+H\+T, Nh\+Window\+::scroll\+Bar, W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D, W\+I\+N\+\_\+\+E\+R\+R, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, and Window\+Go\+Away().



Referenced by Handle\+Event().


\begin{DoxyCode}
1985                                     \{
1986     \textcolor{keywordtype}{int} code;
1987     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} l;
1988     WindowPtr theWindow;
1989     \hyperlink{structNhWindow}{NhWindow} *aWin;
1990     Rect r;
1991     Boolean not\_inSelect;
1992 
1993     InsetRect(GetRegionBounds(GetGrayRgn(), &r), 4, 4);
1994 
1995     code = FindWindow (theEvent->where, &theWindow);
1996     aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (theWindow);
1997     not\_inSelect = (\hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} == \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} || aWin - \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} == 
      \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect});
1998     
1999     \textcolor{keywordflow}{switch} (code) \{
2000     \textcolor{keywordflow}{case} inContent :
2001         \textcolor{keywordflow}{if} (not\_inSelect) \{
2002             \textcolor{keywordtype}{int} kind = GetWindowKind(theWindow) - \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND};
2003             \hyperlink{macwin_8c_af311afb5421858ee15a07e865c9bab06}{winCursorFuncs} [kind] (theEvent, theWindow, \hyperlink{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{gMouseRgn});
2004             SelectWindow (theWindow);
2005             SetPortWindowPort(theWindow);
2006             \hyperlink{macwin_8c_af48bdc4029c9e53e722acf002d8d5895}{winClickFuncs} [kind] (theEvent, theWindow);
2007         \} \textcolor{keywordflow}{else} \{
2008             \hyperlink{winprocs_8h_af67660f5fad2a702109065ec601ca346}{nhbell} ();
2009         \}
2010         \textcolor{keywordflow}{break};
2011 
2012     \textcolor{keywordflow}{case} inDrag :
2013         \textcolor{keywordflow}{if} (not\_inSelect) \{
2014             SetCursor(&\hyperlink{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{qdarrow});
2015             DragWindow (theWindow, theEvent->where, &r);
2016             \hyperlink{macwin_8h_a06c27a6a0502e59fb946dd2e4d8b99a1}{SaveWindowPos}(theWindow);
2017         \} \textcolor{keywordflow}{else} \{
2018             \hyperlink{winprocs_8h_af67660f5fad2a702109065ec601ca346}{nhbell} ();
2019         \}
2020         \textcolor{keywordflow}{break};
2021 
2022     \textcolor{keywordflow}{case} inGrow :
2023         \textcolor{keywordflow}{if} (not\_inSelect) \{
2024             SetCursor(&\hyperlink{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{qdarrow});
2025             SetRect (&r, 80, 2 * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height} + 1, r.right, r.bottom);
2026             \textcolor{keywordflow}{if} (aWin == theWindows + \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE})
2027                 r.top += \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT};
2028             l = GrowWindow (theWindow, theEvent->where, &r);
2029             SizeWindow (theWindow, l & 0xffff, l >> 16, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
2030             \hyperlink{macwin_8h_af433a91fe9b1eb6fbd7bfcac0c9730f2}{SaveWindowSize}(theWindow);
2031             SetPortWindowPort(theWindow);
2032             GetWindowBounds(theWindow, kWindowContentRgn, &r);
2033             OffsetRect(&r, -r.left, -r.top);
2034             InvalWindowRect(theWindow, &r);
2035             \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}) \{
2036                 \hyperlink{macwin_8c_aee163f928c72f988fdd7e30d99c26665}{DrawScrollbar} (aWin);
2037             \}
2038         \} \textcolor{keywordflow}{else} \{
2039             \hyperlink{winprocs_8h_af67660f5fad2a702109065ec601ca346}{nhbell} ();
2040         \}
2041         \textcolor{keywordflow}{break};
2042 
2043     \textcolor{keywordflow}{case} inGoAway :
2044         \hyperlink{macwin_8c_af374f1890943ef601ade13cdb87ab3c7}{WindowGoAway}(theEvent, theWindow);
2045         \textcolor{keywordflow}{break};
2046 
2047     \textcolor{keywordflow}{case} inMenuBar :
2048         \hyperlink{macwin_8h_a3525ef425c67b25b17abdee41ea07b33}{DoMenuEvt} (MenuSelect (theEvent->where));
2049         \textcolor{keywordflow}{break};
2050 
2051 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
2052     \textcolor{keywordflow}{case} inSysWindow :
2053         SystemClick(theEvent, theWindow);
2054 \textcolor{preprocessor}{#endif}
2055     \textcolor{keywordflow}{default} :
2056         \textcolor{keywordflow}{break};
2057     \}
2058 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aad8819a1e367cc83e4d343f213ab760b}{\index{macwin.\+c@{macwin.\+c}!Handle\+Event@{Handle\+Event}}
\index{Handle\+Event@{Handle\+Event}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Handle\+Event}]{\setlength{\rightskip}{0pt plus 5cm}void Handle\+Event (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event}
\end{DoxyParamCaption}
)}}\label{macwin_8c_aad8819a1e367cc83e4d343f213ab760b}


Definition at line 2116 of file macwin.\+c.



References Do\+Os\+Evt(), Handle\+Click(), Handle\+Key(), and Handle\+Update().



Referenced by mac\+\_\+get\+\_\+nh\+\_\+event(), mac\+\_\+nhgetch(), tgetch(), and tty\+\_\+delay\+\_\+output().


\begin{DoxyCode}
2116                                     \{
2117     \textcolor{keywordflow}{switch} (theEvent->what) \{
2118     \textcolor{keywordflow}{case} autoKey :
2119     \textcolor{keywordflow}{case} keyDown :
2120         \hyperlink{macwin_8c_a452b010d8fbe3c10313dd039f1e1cda1}{HandleKey} (theEvent);
2121         \textcolor{keywordflow}{break};
2122     \textcolor{keywordflow}{case} updateEvt :
2123         \hyperlink{macwin_8c_aec4ee641a8a3076e1b20bcb075f913b1}{HandleUpdate} (theEvent);
2124         \textcolor{keywordflow}{break};
2125     \textcolor{keywordflow}{case} mouseDown :
2126         \hyperlink{macwin_8c_a66e8539af7898107308a212a64994b6f}{HandleClick} (theEvent);
2127         \textcolor{keywordflow}{break};
2128 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
2129     \textcolor{keywordflow}{case} diskEvt :
2130         \textcolor{keywordflow}{if} ((theEvent->message & 0xffff0000) != 0) \{
2131             Point p = \{150, 150\};
2132             (void) DIBadMount (p, theEvent->message);
2133         \}
2134         \textcolor{keywordflow}{break};
2135 \textcolor{preprocessor}{#endif}
2136     \textcolor{keywordflow}{case} osEvt :
2137         \hyperlink{macwin_8c_a258eb0826da8b41383462772284f35bb}{DoOsEvt} (theEvent);
2138         \textcolor{keywordflow}{break};
2139     \textcolor{keywordflow}{case} kHighLevelEvent:
2140         AEProcessAppleEvent(theEvent);
2141     \textcolor{keywordflow}{default} :
2142         \textcolor{keywordflow}{break};
2143     \}
2144 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a452b010d8fbe3c10313dd039f1e1cda1}{\index{macwin.\+c@{macwin.\+c}!Handle\+Key@{Handle\+Key}}
\index{Handle\+Key@{Handle\+Key}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Handle\+Key}]{\setlength{\rightskip}{0pt plus 5cm}static void Handle\+Key (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a452b010d8fbe3c10313dd039f1e1cda1}


Definition at line 1940 of file macwin.\+c.



References Do\+Menu\+Evt(), General\+Key(), key\+Queue\+Count, key\+Queue\+Read, key\+Queue\+Write, Undim\+Menu\+Bar, and W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D.



Referenced by Handle\+Event().


\begin{DoxyCode}
1940                                   \{
1941     WindowPtr theWindow = FrontWindow ();
1942 
1943     \textcolor{keywordflow}{if} (theEvent->modifiers & cmdKey) \{
1944         \textcolor{keywordflow}{if} (theEvent->message & 0xff == \textcolor{charliteral}{'.'}) \{
1945             \textcolor{comment}{/* Flush key queue */}
1946             \hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount} = \hyperlink{macwin_8c_a3d787c4017654134afe59f396d30561c}{keyQueueWrite} = 
      \hyperlink{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{keyQueueRead} = 0;
1947             theEvent->message = \textcolor{charliteral}{'\(\backslash\)033'};
1948             \textcolor{keywordflow}{goto} dispatchKey;
1949         \} \textcolor{keywordflow}{else} \{
1950             \hyperlink{macwin_8h_ad36b663e11e5adfe9f595eb2fcdc3bbf}{UndimMenuBar} ();
1951             \hyperlink{macwin_8h_a3525ef425c67b25b17abdee41ea07b33}{DoMenuEvt} (MenuKey (theEvent->message & 0xff));
1952         \}
1953     \} \textcolor{keywordflow}{else} \{
1954 
1955 dispatchKey :
1956         \textcolor{keywordflow}{if} (theWindow) \{
1957             \textcolor{keywordtype}{int} kind = GetWindowKind(theWindow) - \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND};
1958             \hyperlink{macwin_8c_a51ead8f3d77dd2675e0d18ed4d827f19}{winKeyFuncs} [kind] (theEvent, theWindow);
1959         \} \textcolor{keywordflow}{else} \{
1960             \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{GeneralKey} (theEvent, (WindowPtr) 0);
1961         \}
1962     \}
1963 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aec4ee641a8a3076e1b20bcb075f913b1}{\index{macwin.\+c@{macwin.\+c}!Handle\+Update@{Handle\+Update}}
\index{Handle\+Update@{Handle\+Update}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Handle\+Update}]{\setlength{\rightskip}{0pt plus 5cm}static void Handle\+Update (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aec4ee641a8a3076e1b20bcb075f913b1}


Definition at line 2062 of file macwin.\+c.



References \+\_\+mt\+\_\+window, F\+A\+L\+S\+E, get\+\_\+invalid\+\_\+region(), Get\+Nh\+Win(), rect, set\+\_\+invalid\+\_\+region(), T\+R\+U\+E, and W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D.



Referenced by Handle\+Event().


\begin{DoxyCode}
2062                                      \{
2063     WindowPtr theWindow = (WindowPtr) theEvent->message;
2064     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (theWindow);
2065     Rect r;
2066 
2067 
2068     \textcolor{keywordtype}{char} existing\_update\_region = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
2069     Rect \hyperlink{rect_8c_a58a1301fcdb736034a47900ee20578ec}{rect};
2070     
2071     \textcolor{keywordflow}{if} (theWindow == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}) \{
2072         existing\_update\_region = (\hyperlink{mactty_8h_a187b36e5499a1258ebe1b9cbfcfcee51}{get\_invalid\_region} (theWindow, &rect) == noErr);
2073     \}
2074     BeginUpdate (theWindow);
2075     SetPortWindowPort(theWindow);
2076     GetWindowBounds(theWindow, kWindowContentRgn, &r);
2077     OffsetRect(&r, -r.left, -r.top);
2078     EraseRect(&r);
2079     \hyperlink{macwin_8c_ad03b6e633e2d04a0edb8ac4b4722266b}{winUpdateFuncs} [GetWindowKind(theWindow) - \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND}] 
2080                 (theEvent, theWindow);
2081 
2082     \textcolor{keywordflow}{if} (theWindow == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window} && existing\_update\_region) \{
2083         \hyperlink{mactty_8h_a4ea4e291eecbce9e906ba87c42b2b7bd}{set\_invalid\_region} (theWindow, &rect);
2084     \}
2085     aWin->drawn = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
2086     EndUpdate (theWindow);
2087 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a434413472f44c8167ec5898d18c84eee}{\index{macwin.\+c@{macwin.\+c}!in\+\_\+topl\+\_\+mode@{in\+\_\+topl\+\_\+mode}}
\index{in\+\_\+topl\+\_\+mode@{in\+\_\+topl\+\_\+mode}!macwin.\+c@{macwin.\+c}}
\subsubsection[{in\+\_\+topl\+\_\+mode}]{\setlength{\rightskip}{0pt plus 5cm}static Boolean in\+\_\+topl\+\_\+mode (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a434413472f44c8167ec5898d18c84eee}


Definition at line 813 of file macwin.\+c.



References rect, top\+\_\+line, W\+I\+N\+\_\+\+E\+R\+R, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by enter\+\_\+topl\+\_\+mode(), leave\+\_\+topl\+\_\+mode(), mac\+\_\+nhgetch(), and mac\+Update\+Message().


\begin{DoxyCode}
814 \{
815     Rect \hyperlink{rect_8c_a58a1301fcdb736034a47900ee20578ec}{rect};
816 
817 
818     GetWindowBounds(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window, kWindowContentRgn, &rect);
819     OffsetRect(&rect, -rect.left, -rect.top);
820     \textcolor{keywordflow}{return} (\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE} != \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} && \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line} &&
821         (*top\_line)->viewRect.left < rect.right);
822 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a54c2f66a0df7da8300cf8b4cb6bfdb3e}{\index{macwin.\+c@{macwin.\+c}!Init\+Mac@{Init\+Mac}}
\index{Init\+Mac@{Init\+Mac}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Init\+Mac}]{\setlength{\rightskip}{0pt plus 5cm}void Init\+Mac (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a54c2f66a0df7da8300cf8b4cb6bfdb3e}


Definition at line 286 of file macwin.\+c.



References Apple\+Event\+Handler(), check\+\_\+recordfile(), macdirs\+::data\+Dir\+I\+D, macdirs\+::data\+Name, macdirs\+::data\+Ref\+Num, F\+A\+L\+S\+E, g\+Mouse\+Rgn, macdirs\+::level\+Dir\+I\+D, macdirs\+::level\+Name, macdirs\+::level\+Ref\+Num, Move\+Scroll\+Bar(), Move\+Scroll\+U\+P\+P, N\+H\+W\+\_\+\+B\+A\+S\+E, N\+H\+W\+\_\+\+M\+A\+P, N\+H\+W\+\_\+\+M\+E\+S\+S\+A\+G\+E, N\+H\+W\+\_\+\+S\+T\+A\+T\+U\+S, N\+H\+W\+\_\+\+T\+E\+X\+T, qdarrow, macdirs\+::save\+Dir\+I\+D, macdirs\+::save\+Name, macdirs\+::save\+Ref\+Num, and the\+Dirs.



Referenced by main().


\begin{DoxyCode}
286               \{
287     \textcolor{keywordtype}{short} i;
288     \textcolor{keywordtype}{long} l;
289     Str255 volName;
290 
291 
292 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
293     \textcolor{keywordflow}{if} (LMGetDefltStack() < 50 * 1024L) \{
294         SetApplLimit ((\textcolor{keywordtype}{void} *) ((\textcolor{keywordtype}{long}) LMGetCurStackBase() - (50 * 1024L)));
295     \}
296     MaxApplZone ();
297     \textcolor{keywordflow}{for} (i = 0; i < 5; i ++)
298         MoreMasters ();
299 
300     InitGraf (&qd.thePort);
301     InitFonts ();
302     InitWindows ();
303     InitMenus ();
304     InitDialogs (0L);
305     TEInit ();
306 \textcolor{preprocessor}{#endif}
307 
308     memset (&\hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}, 0, \textcolor{keyword}{sizeof}(\hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}));
309     \textcolor{keywordflow}{if} (!Gestalt (gestaltOSAttr, & l)) \{
310         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.processes = (l & (1 << gestaltLaunchControl)) ? 1 : 0;
311         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.tempMem = (l & (1 << gestaltRealTempMemory)) ? 1 : 0;
312         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.hasDebugger = (l & (1 << gestaltSysDebuggerSupport)) ? 1 : 0;
313     \}
314     \textcolor{keywordflow}{if} (!Gestalt (gestaltQuickdrawVersion, & l))
315         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.color = (l >= gestalt8BitQD) ? 1 : 0;
316 
317     \textcolor{keywordflow}{if} (!Gestalt (gestaltFindFolderAttr, & l))
318         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.folders = (l & (1 << gestaltFindFolderPresent)) ? 1 : 0;
319         
320     \textcolor{keywordflow}{if} (!Gestalt (gestaltHelpMgrAttr, & l))
321         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.help = (l & (1 << gestaltHelpMgrPresent)) ? 1 : 0;
322 
323     \textcolor{keywordflow}{if} (!Gestalt (gestaltFSAttr, & l))
324         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.fsSpec = (l & (1 << gestaltHasFSSpecCalls)) ? 1 : 0;
325 
326     \textcolor{keywordflow}{if} (!Gestalt (gestaltFontMgrAttr, & l))
327         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.trueType = (l & (1 << gestaltOutlineFonts)) ? 1 : 0;
328 
329     \textcolor{keywordflow}{if} (!Gestalt (gestaltAUXVersion, & l))
330         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.aux = (l >= 0x200) ? 1 : 0;
331 
332     \textcolor{keywordflow}{if} (!Gestalt (gestaltAliasMgrAttr, & l))
333         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.alias = (l & (1 << gestaltAliasMgrPresent)) ? 1 : 0;
334 
335     \textcolor{keywordflow}{if} (!Gestalt (gestaltStandardFileAttr, & l))
336         \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.standardFile = (l & (1 << gestaltStandardFile58)) ? 1 : 0;
337 
338     \hyperlink{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{gMouseRgn} = NewRgn ();
339     InitCursor();
340     GetQDGlobalsArrow(&\hyperlink{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{qdarrow});
341     ObscureCursor ();
342     
343     \hyperlink{macwin_8c_af0969498664406dc90a195f973ab8019}{MoveScrollUPP} = NewControlActionUPP(\hyperlink{macwin_8c_acf2dad7fc6c7123f690d53eaac73a718}{MoveScrollBar});
344 
345     \textcolor{comment}{/* Set up base fonts for all window types */}
346     GetFNum (\textcolor{stringliteral}{"\(\backslash\)pHackFont"}, &i);
347     \textcolor{keywordflow}{if} (i == 0)
348         i = kFontIDMonaco;
349     \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{macwin_8c_ab575e634e51462bf534b7ee541cefc46}{NHW\_BASE}] = \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP}] = 
      \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}] = i;
350     GetFNum (\textcolor{stringliteral}{"\(\backslash\)pPSHackFont"}, &i);
351     \textcolor{keywordflow}{if} (i == 0)
352         i = kFontIDGeneva;
353     \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}] = i;
354     \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}] = kFontIDGeneva;
355 
356     \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.hasAE = 0;
357     \textcolor{keywordflow}{if}(!Gestalt(gestaltAppleEventsAttr, &l) && (l & (1L << gestaltAppleEventsPresent)))\{
358         \textcolor{keywordflow}{if} (AEInstallEventHandler (kCoreEventClass, typeWildCard,
359                             NewAEEventHandlerUPP(\hyperlink{macwin_8c_ae1ce649532822eb214f3bd51807ec537}{AppleEventHandler}),
360                             0,
361                             \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}) == noErr)
362             \hyperlink{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{macFlags}.hasAE = 1;
363     \}
364 
365 \textcolor{preprocessor}{#if TARGET\_API\_MAC\_CARBON}
366     HGetVol(volName, &\hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a803339ee5c502383a0fd1c95adc5f238}{dataRefNum}, &\hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.
      \hyperlink{structmacdirs_acb3952b06a7f1b1c3b79af045ba99d71}{dataDirID});
367 \textcolor{preprocessor}{#else}
368     \textcolor{comment}{/*}
369 \textcolor{comment}{     * We should try to get this data from a rsrc, in the profile file}
370 \textcolor{comment}{     * the user double-clicked...  This data should be saved with the}
371 \textcolor{comment}{     * save file in the resource fork, AND be saveable in "stationary"}
372 \textcolor{comment}{     */}
373     GetVol (volName, &\hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a803339ee5c502383a0fd1c95adc5f238}{dataRefNum} );
374     GetWDInfo (\hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a803339ee5c502383a0fd1c95adc5f238}{dataRefNum}, &\hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a803339ee5c502383a0fd1c95adc5f238}{dataRefNum}, &
      \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_acb3952b06a7f1b1c3b79af045ba99d71}{dataDirID}, &l);
375 \textcolor{preprocessor}{#endif}
376     \textcolor{keywordflow}{if} (volName [0] > 31) volName [0] = 31;
377     \textcolor{keywordflow}{for} (l = 1; l <= volName [0]; l++) \{
378         \textcolor{keywordflow}{if} (volName [l] == \textcolor{charliteral}{':'}) \{
379             volName [l] = 0;
380             volName [0] = l - 1;
381             \textcolor{keywordflow}{break};
382         \}
383     \}
384     BlockMove (volName, \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a1080cf50d459ea4cfe4a41a5437829a4}{dataName}, l);
385     BlockMove (volName, \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a00453ab702aa65bda1bd408d76efc629}{saveName}, l);
386     BlockMove (volName, \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a6aac944171948db43f9167f72d7ef4b3}{levelName}, l);
387     \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_aa892776f9ea0b84cf654bee2cf5a0b1f}{saveRefNum} = \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_aaf3a71b7feb833f97b975b0cd76a6941}{levelRefNum} = 
      \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a803339ee5c502383a0fd1c95adc5f238}{dataRefNum};
388     \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a256ca767b10d11638f1b971e49cbfba6}{saveDirID} = \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_a23c17f6b7ea647413e389b3048c1a7ba}{levelDirID} = 
      \hyperlink{macwin_8h_ac0238265b5dda31c8e69ea0fc6aa6f88}{theDirs}.\hyperlink{structmacdirs_acb3952b06a7f1b1c3b79af045ba99d71}{dataDirID};
389 
390     \textcolor{comment}{/* Create the "record" file, if necessary */}
391     \hyperlink{files_8c_a710ea32cede86389c13b48ee7c6530e7}{check\_recordfile}(\textcolor{stringliteral}{""});
392     \textcolor{keywordflow}{return};
393 \}
\end{DoxyCode}
\hypertarget{macwin_8c_acdf93be14c6dd2032b3d9881423c18dd}{\index{macwin.\+c@{macwin.\+c}!leave\+\_\+topl\+\_\+mode@{leave\+\_\+topl\+\_\+mode}}
\index{leave\+\_\+topl\+\_\+mode@{leave\+\_\+topl\+\_\+mode}!macwin.\+c@{macwin.\+c}}
\subsubsection[{leave\+\_\+topl\+\_\+mode}]{\setlength{\rightskip}{0pt plus 5cm}void leave\+\_\+topl\+\_\+mode (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{answer}
\end{DoxyParamCaption}
)}}\label{macwin_8c_acdf93be14c6dd2032b3d9881423c18dd}


Definition at line 865 of file macwin.\+c.



References A\+T\+R\+\_\+\+B\+O\+L\+D, B\+U\+F\+S\+Z, C\+H\+A\+R\+\_\+\+C\+R, in\+\_\+topl\+\_\+mode(), putstr, topl\+\_\+query\+\_\+len, Undim\+Menu\+Bar, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, Nh\+Window\+::window\+Text, Nh\+Window\+::window\+Text\+Len, and Nh\+Window\+::y\+\_\+size.



Referenced by topl\+\_\+getlin(), and topl\+\_\+yn\+\_\+function().


\begin{DoxyCode}
865                               \{
866     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} *ap, *bp;
867 
868     \textcolor{keywordtype}{int} ans\_len = (*top\_line)->teLength - \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len};
869     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} + \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE};
870 
871     \textcolor{keywordflow}{if} (!\hyperlink{macwin_8c_a434413472f44c8167ec5898d18c84eee}{in\_topl\_mode}())
872         \textcolor{keywordflow}{return};
873 
874     \textcolor{comment}{/* Cap length of reply */}
875     \textcolor{keywordflow}{if} (ans\_len >= \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ})
876         ans\_len = \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}-1;
877 
878     \textcolor{comment}{/* remove unprintables from the answer */}
879     \textcolor{keywordflow}{for} (ap = *(*top\_line)->hText + \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len}, bp = answer; ans\_len > 0; ans\_len--, ap++
      ) \{
880         \textcolor{keywordflow}{if} (*ap >= \textcolor{charliteral}{' '} && *ap < 128) \{
881             *bp++ = *ap;
882         \}
883     \}
884     *bp = 0;
885     
886     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} && (*aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText})[aWin->
      \hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen}-1] == \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}) \{
887         -- aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen};
888         -- aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
889     \}
890     \hyperlink{winprocs_8h_a2ab348888957358569f859127c0bc474}{putstr}(WIN\_MESSAGE, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, answer);
891 
892     (*top\_line)->viewRect.left += 10000;
893     \hyperlink{macwin_8h_ad36b663e11e5adfe9f595eb2fcdc3bbf}{UndimMenuBar}();
894 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a28acbc344e6af9634ad2f2190f54870b}{\index{macwin.\+c@{macwin.\+c}!List\+Coordinate\+To\+Item@{List\+Coordinate\+To\+Item}}
\index{List\+Coordinate\+To\+Item@{List\+Coordinate\+To\+Item}!macwin.\+c@{macwin.\+c}}
\subsubsection[{List\+Coordinate\+To\+Item}]{\setlength{\rightskip}{0pt plus 5cm}static short List\+Coordinate\+To\+Item (
\begin{DoxyParamCaption}
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win, }
\item[{short}]{Row}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a28acbc344e6af9634ad2f2190f54870b}


Definition at line 1338 of file macwin.\+c.



References Mac\+M\+H\+Menu\+Item\+::line, Nh\+Window\+::menu\+Info, and Nh\+Window\+::scroll\+Pos.



Referenced by mac\+Click\+Menu().


\begin{DoxyCode}
1338                                                  \{
1339     \textcolor{keywordtype}{int}                 i, item = -1;
1340     \hyperlink{structMacMHMenuItem}{MacMHMenuItem} *        \hyperlink{structmi}{mi};
1341 
1342     HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
1343     \textcolor{keywordflow}{for} (i = 0, mi = *aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo}; i < aWin->miLen; i++, mi++) \{
1344         \textcolor{keywordflow}{if} (mi->\hyperlink{structMacMHMenuItem_a0e9a0b7017f49c63040969a1912fcaf6}{line} == Row + aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos}) \{
1345             item = i;
1346             \textcolor{keywordflow}{break};
1347         \}
1348     \}
1349     HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
1350     \textcolor{keywordflow}{return} item;
1351 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a59d599bb38f8b26971812b83e22bea01}{\index{macwin.\+c@{macwin.\+c}!List\+Item\+Selected@{List\+Item\+Selected}}
\index{List\+Item\+Selected@{List\+Item\+Selected}!macwin.\+c@{macwin.\+c}}
\subsubsection[{List\+Item\+Selected}]{\setlength{\rightskip}{0pt plus 5cm}static int List\+Item\+Selected (
\begin{DoxyParamCaption}
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win, }
\item[{int}]{item}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a59d599bb38f8b26971812b83e22bea01}


Definition at line 1299 of file macwin.\+c.



References Nh\+Window\+::menu\+Selected, and Nh\+Window\+::mi\+Sel\+Len.



Referenced by mac\+Click\+Menu(), and Toggle\+Menu\+List\+Item\+Selected().


\begin{DoxyCode}
1299                                             \{
1300     \textcolor{keywordtype}{int}     i;
1301 
1302     HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
1303     \textcolor{comment}{/* Find item in selection list */}
1304     \textcolor{keywordflow}{for} (i = aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen} - 1; i >= 0; i--) \{
1305         \textcolor{keywordflow}{if} ((*aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected}) [i] == item)
1306             \textcolor{keywordflow}{break};
1307     \}
1308     HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
1309     \textcolor{keywordflow}{return} i;
1310 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a583abd9b962aebf3200033b360a17023}{\index{macwin.\+c@{macwin.\+c}!lock\+\_\+mouse\+\_\+cursor@{lock\+\_\+mouse\+\_\+cursor}}
\index{lock\+\_\+mouse\+\_\+cursor@{lock\+\_\+mouse\+\_\+cursor}!macwin.\+c@{macwin.\+c}}
\subsubsection[{lock\+\_\+mouse\+\_\+cursor}]{\setlength{\rightskip}{0pt plus 5cm}void lock\+\_\+mouse\+\_\+cursor (
\begin{DoxyParamCaption}
\item[{Boolean}]{new\+\_\+cursor\+\_\+locked}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a583abd9b962aebf3200033b360a17023}


Definition at line 73 of file macwin.\+c.



References cursor\+\_\+locked.


\begin{DoxyCode}
73                                              \{
74     \hyperlink{macwin_8c_aae8fab695ceb3dae16c2613b66b31d61}{cursor\_locked} = new\_cursor\_locked;
75 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a2a728419d96861b27d7ff3e5d92d8d1a}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+add\+\_\+menu@{mac\+\_\+add\+\_\+menu}}
\index{mac\+\_\+add\+\_\+menu@{mac\+\_\+add\+\_\+menu}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+add\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+add\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win, }
\item[{int}]{glyph, }
\item[{{\bf const} {\bf anything} $\ast$}]{any, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{menu\+Char, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{group\+Acc, }
\item[{int}]{attr, }
\item[{{\bf const} char $\ast$}]{in\+Str, }
\item[{int}]{preselected}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a2a728419d96861b27d7ff3e5d92d8d1a}


Definition at line 2382 of file macwin.\+c.



References any\+::a\+\_\+void, Mac\+M\+H\+Menu\+Item\+::accelerator, B\+U\+F\+S\+Z, error(), Mac\+M\+H\+Menu\+Item\+::group\+Acc, Mac\+M\+H\+Menu\+Item\+::id, k\+Menu\+Size\+Bump, Mac\+M\+H\+Menu\+Item\+::line, Nh\+Window\+::menu\+Char, Nh\+Window\+::menu\+Info, Nh\+Window\+::menu\+Selected, Nh\+Window\+::mi\+Len, Nh\+Window\+::mi\+Size, putstr, Sprintf, and Nh\+Window\+::y\+\_\+size.


\begin{DoxyCode}
2382                                                                                                            
                                    \{
2383 \textcolor{preprocessor}{#if defined(\_\_SC\_\_) || defined(\_\_MRC\_\_)}
2384 \textcolor{preprocessor}{# pragma unused(glyph)}
2385 \textcolor{preprocessor}{#endif}
2386     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
2387     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *str;
2388     \textcolor{keywordtype}{char} locStr[4+\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
2389     \hyperlink{structMacMHMenuItem}{MacMHMenuItem} *item;
2390 
2391     \textcolor{keywordflow}{if} (!inStr) \textcolor{keywordflow}{return};
2392 
2393     \textcolor{keywordflow}{if} (any->\hyperlink{unionany_a570c320f6790aab4b51733abc54827d7}{a\_void} != 0) \{
2394 
2395 \textcolor{preprocessor}{#define kMenuSizeBump 26}
2396         \textcolor{keywordflow}{if} (!aWin->\hyperlink{structNhWindow_adf87c11968010efad19a04910e5cb890}{miSize}) \{
2397             aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo} = (\hyperlink{structMacMHMenuItem}{MacMHMenuItem} **)NewHandle(\textcolor{keyword}{sizeof}(
      \hyperlink{structMacMHMenuItem}{MacMHMenuItem}) * \hyperlink{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{kMenuSizeBump});
2398             \textcolor{keywordflow}{if} (!aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo}) \{
2399                 \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error}(\textcolor{stringliteral}{"Can't alloc menu handle"});
2400                 \textcolor{keywordflow}{return};
2401             \}
2402             aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected} = (\textcolor{keywordtype}{short} **)NewHandle(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{short}) * 
      \hyperlink{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{kMenuSizeBump});
2403             \textcolor{keywordflow}{if} (!aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected}) \{
2404                 \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error}(\textcolor{stringliteral}{"Can't alloc menu select handle"});
2405                 \textcolor{keywordflow}{return};
2406             \}
2407             aWin->\hyperlink{structNhWindow_adf87c11968010efad19a04910e5cb890}{miSize} = \hyperlink{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{kMenuSizeBump};
2408         \}
2409 
2410         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen} >= aWin->\hyperlink{structNhWindow_adf87c11968010efad19a04910e5cb890}{miSize}) \{
2411             SetHandleSize((Handle)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo}, \textcolor{keyword}{sizeof}(\hyperlink{structMacMHMenuItem}{MacMHMenuItem}) * (aWin->
      \hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen}+\hyperlink{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{kMenuSizeBump}));
2412             \textcolor{keywordflow}{if} (MemError()) \{
2413                 \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error}(\textcolor{stringliteral}{"Can't resize menu handle"});
2414                 \textcolor{keywordflow}{return};
2415             \}
2416             SetHandleSize((Handle)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected}, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{short}) * (aWin->
      \hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen}+\hyperlink{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{kMenuSizeBump}));
2417             \textcolor{keywordflow}{if} (MemError()) \{
2418                 \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error}(\textcolor{stringliteral}{"Can't resize menu select handle"});
2419                 \textcolor{keywordflow}{return};
2420             \}
2421             aWin->\hyperlink{structNhWindow_adf87c11968010efad19a04910e5cb890}{miSize} += \hyperlink{macwin_8c_a28e5a61f20f456446b1c5b60a91e6d88}{kMenuSizeBump};
2422         \}
2423 
2424         \textcolor{keywordflow}{if} (menuChar == 0) \{    
2425             \textcolor{keywordflow}{if} ((\textcolor{charliteral}{'a'} <= aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar} && aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar} <= \textcolor{charliteral}{'z'}) ||
2426                 (\textcolor{charliteral}{'A'} <= aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar} && aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar} <= \textcolor{charliteral}{'Z'})) \{
2427                 menuChar = aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar}++;
2428                 \textcolor{keywordflow}{if} (menuChar == \textcolor{charliteral}{'z'})
2429                     aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar} = \textcolor{charliteral}{'A'};
2430             \}
2431         \}
2432         
2433         \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(locStr, \textcolor{stringliteral}{"%c - %s"}, (menuChar ? menuChar : \textcolor{charliteral}{' '}), inStr);
2434         str = locStr;
2435         HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
2436         HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
2437         (*aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected})[aWin->\hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen}] = preselected;
2438         item = &(*aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo})[aWin->\hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen}];
2439         aWin->\hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen}++;
2440         item->\hyperlink{structMacMHMenuItem_ab6b99da9d3632f83a43912e5dc25ddf6}{id} = *any;
2441         item->\hyperlink{structMacMHMenuItem_a19ed13b1c2fe005f86a1697cbc08bd7c}{accelerator} = menuChar;
2442         item->\hyperlink{structMacMHMenuItem_afeae904d657b8f6a9850231dd438991f}{groupAcc} = groupAcc;
2443         item->\hyperlink{structMacMHMenuItem_a0e9a0b7017f49c63040969a1912fcaf6}{line} = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
2444         HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
2445         HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
2446     \} \textcolor{keywordflow}{else}
2447         str = inStr;
2448 
2449     \hyperlink{winprocs_8h_a2ab348888957358569f859127c0bc474}{putstr} (win, attr, str);
2450 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a5c1bb54dbb7146e7e2b083ab34a5a84a}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+clear\+\_\+nhwindow@{mac\+\_\+clear\+\_\+nhwindow}}
\index{mac\+\_\+clear\+\_\+nhwindow@{mac\+\_\+clear\+\_\+nhwindow}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+clear\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+clear\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a5c1bb54dbb7146e7e2b083ab34a5a84a}


Definition at line 731 of file macwin.\+c.



References \+\_\+mt\+\_\+window, C\+H\+A\+R\+\_\+\+C\+R, Nh\+Window\+::drawn, error(), F\+A\+L\+S\+E, iflags, Nh\+Window\+::its\+\_\+window, Nh\+Window\+::last\+\_\+more\+\_\+lin, Nh\+Window\+::menu\+Char, Nh\+Window\+::menu\+Info, Nh\+Window\+::menu\+Selected, Nh\+Window\+::mi\+Len, Nh\+Window\+::mi\+Sel\+Len, Nh\+Window\+::mi\+Size, instance\+\_\+flags\+::msg\+\_\+history, N\+H\+W\+\_\+\+M\+E\+N\+U, N\+H\+W\+\_\+\+M\+E\+S\+S\+A\+G\+E, N\+U\+L\+L, N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, Nh\+Window\+::save\+\_\+lin, S\+B\+A\+R\+H\+E\+I\+G\+H\+T, S\+B\+A\+R\+W\+I\+D\+T\+H, Nh\+Window\+::scroll\+Bar, Nh\+Window\+::scroll\+Pos, T\+E\+X\+T\+\_\+\+B\+L\+O\+C\+K, W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D, Nh\+Window\+::window\+Text, Nh\+Window\+::window\+Text\+Len, Nh\+Window\+::x\+\_\+curs, Nh\+Window\+::x\+\_\+size, Nh\+Window\+::y\+\_\+curs, and Nh\+Window\+::y\+\_\+size.



Referenced by mac\+\_\+create\+\_\+nhwindow(), and mac\+\_\+start\+\_\+menu().


\begin{DoxyCode}
731                                \{
732     \textcolor{keywordtype}{long} l;
733     Rect r;
734     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
735     WindowPtr theWindow = aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
736 
737     \textcolor{keywordflow}{if} (win < 0 || win >= \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS} || !theWindow) \{
738         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"clr\_win: Invalid win %d."}, win);
739         \textcolor{keywordflow}{return};
740     \}
741     \textcolor{keywordflow}{if} (theWindow == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}) \{
742         tty\_clear\_nhwindow(win);
743         \textcolor{keywordflow}{return};
744     \}
745     \textcolor{keywordflow}{if} (!aWin->\hyperlink{structNhWindow_a8d324543f7ad278513ccdb303ebec2d6}{drawn})
746         \textcolor{keywordflow}{return};
747 
748     SetPortWindowPort(theWindow);
749     GetWindowBounds(theWindow, kWindowContentRgn, &r);
750     OffsetRect(&r, -r.left, -r.top);
751     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})
752         r.right -= \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
753 
754     \textcolor{keywordflow}{switch} (GetWindowKind(theWindow) - \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND}) \{
755     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE} :
756         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} == aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} - 1) \textcolor{comment}{/* if no change since last clear */}
757             \textcolor{keywordflow}{return};                                 \textcolor{comment}{/* don't bother with redraw */}
758         r.bottom -= \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT};
759         \textcolor{keywordflow}{for} (l = 0; aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} > \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adbf4e331046e9ace346e832fc8a59074}{msg\_history};) \{
760             \textcolor{keyword}{const} \textcolor{keywordtype}{char} cr = \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR};
761             l = Munger(aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}, l, &cr, 1, nil, 0) + 1;
762             --aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
763         \}
764         \textcolor{keywordflow}{if} (l) \{
765             aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} -= l;
766             BlockMove(*aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText} + l, *aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}, aWin->
      \hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen});
767         \}
768         aWin->\hyperlink{structNhWindow_a0645528f32a19a8be138755283ffe5fe}{last\_more\_lin} = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
769         aWin->\hyperlink{structNhWindow_a5df57289ac1b5436228829358f8f9f38}{save\_lin}  = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
770         aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} ? aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} - 1 : 0;
771         \textcolor{keywordflow}{break};
772     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}:
773         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo}) \{
774             DisposeHandle((Handle)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
775             aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
776         \}
777         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected}) \{
778             DisposeHandle((Handle)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
779             aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
780         \}
781         aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar} = \textcolor{charliteral}{'a'};
782         aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen} = 0;
783         aWin->\hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen} = 0;
784         aWin->\hyperlink{structNhWindow_adf87c11968010efad19a04910e5cb890}{miSize} = 0;
785         \textcolor{comment}{/* Fall-Through */}
786     \textcolor{keywordflow}{default} :
787         SetHandleSize (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}, \hyperlink{macwin_8h_ae866b70f6c73dcc47421efb13cbfa770}{TEXT\_BLOCK});
788         aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} = 0L;
789         aWin->\hyperlink{structNhWindow_a10d785f6f3a83f1148b0cfee07fd71ef}{x\_size} = 0;
790         aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} = 0;
791         aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} = 0;
792         \textcolor{keywordflow}{break};
793     \}
794     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}) \{
795         SetControlMaximum (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size});
796         SetControlValue(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos});
797     \}
798     aWin->\hyperlink{structNhWindow_a1ce884e1926c5e62d509589c419c0b80}{y\_curs} = 0;
799     aWin->\hyperlink{structNhWindow_ab56661eb993dd6ee08d94c6d81175452}{x\_curs} = 0;
800     aWin->\hyperlink{structNhWindow_a8d324543f7ad278513ccdb303ebec2d6}{drawn} = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
801     InvalWindowRect(theWindow, &r);
802 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a5e74333873de53505b1a5dd4645318cb}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+create\+\_\+nhwindow@{mac\+\_\+create\+\_\+nhwindow}}
\index{mac\+\_\+create\+\_\+nhwindow@{mac\+\_\+create\+\_\+nhwindow}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+create\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}{\bf winid} mac\+\_\+create\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{int}]{kind}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a5e74333873de53505b1a5dd4645318cb}


Definition at line 576 of file macwin.\+c.



References \+\_\+mt\+\_\+window, Nh\+Window\+::char\+\_\+width, dprintf(), error(), Nh\+Window\+::font\+\_\+number, Nh\+Window\+::font\+\_\+size, get\+\_\+tty\+\_\+metrics(), iflags, Nh\+Window\+::its\+\_\+window, mac\+\_\+clear\+\_\+nhwindow(), mac\+\_\+destroy\+\_\+nhwindow(), Nh\+Window\+::menu\+Char, Nh\+Window\+::menu\+Info, Nh\+Window\+::menu\+Selected, Nh\+Window\+::mi\+Len, Nh\+Window\+::mi\+Size, N\+H\+W\+\_\+\+B\+A\+S\+E, N\+H\+W\+\_\+\+M\+A\+P, N\+H\+W\+\_\+\+M\+E\+N\+U, N\+H\+W\+\_\+\+M\+E\+S\+S\+A\+G\+E, N\+H\+W\+\_\+\+S\+T\+A\+T\+U\+S, N\+H\+W\+\_\+\+T\+E\+X\+T, N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, Win\+Desc\+::offy, Nh\+Window\+::row\+\_\+height, S\+B\+A\+R\+H\+E\+I\+G\+H\+T, S\+B\+A\+R\+W\+I\+D\+T\+H, Nh\+Window\+::scroll\+Bar, T\+E\+X\+T\+\_\+\+B\+L\+O\+C\+K, top\+\_\+line, T\+R\+U\+E, instance\+\_\+flags\+::wc\+\_\+fontsiz\+\_\+message, instance\+\_\+flags\+::wc\+\_\+fontsiz\+\_\+text, W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D, W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+R\+E\+S, W\+I\+N\+\_\+\+E\+R\+R, W\+I\+N\+\_\+\+I\+N\+V\+E\+N, Nh\+Window\+::window\+Text\+Len, and wins.



Referenced by mac\+\_\+init\+\_\+nhwindows().


\begin{DoxyCode}
576                                \{
577     \textcolor{keywordtype}{int} i;
578     \hyperlink{structNhWindow}{NhWindow} *aWin;
579     FontInfo fi;
580 
581     \textcolor{keywordflow}{if} (kind < NHW\_BASE || kind > \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}) \{
582         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"cre\_win: Invalid kind %d."}, kind);
583         \textcolor{keywordflow}{return} \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR};
584     \}
585 
586     \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS}; i ++) \{
587         \textcolor{keywordflow}{if} (!\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [i].its\_window)
588             \textcolor{keywordflow}{break};
589     \}
590     \textcolor{keywordflow}{if} (i >= NUM\_MACWINDOWS) \{
591         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"cre\_win: Win full; freeing extras"});
592         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS}; i ++) \{
593             \textcolor{keywordflow}{if} (IsWindowVisible(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [i].its\_window) || i == 
      \hyperlink{decl_8h_aabd3637304d093f7077c788661a0a5fd}{WIN\_INVEN} ||
594                 GetWindowKind(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [i].its\_window) != 
      \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND} + \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU} &&
595                 GetWindowKind(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [i].its\_window) != 
      \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND} + NHW\_TEXT)
596                 \textcolor{keywordflow}{continue};
597             \hyperlink{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}{mac\_destroy\_nhwindow}(i);
598             \textcolor{keywordflow}{goto} got1;
599         \}
600         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"cre\_win: Out of ids!"});
601         \textcolor{keywordflow}{return} \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR};
602     \}
603 
604 got1 :
605     aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [i];
606     aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} = 0L;
607     aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar} = (ControlHandle) 0;
608     aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo} = 0;
609     aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected} = 0;
610     aWin->\hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen} = 0;
611     aWin->\hyperlink{structNhWindow_adf87c11968010efad19a04910e5cb890}{miSize} = 0;
612     aWin->\hyperlink{structNhWindow_a8b268c04721668c1c60bc2bcf8e2c617}{menuChar} = \textcolor{charliteral}{'a'};
613     
614     \hyperlink{macwin_8h_a3dd9b2ac1832b3e4c3baadd9cb8d5018}{dprintf} (\textcolor{stringliteral}{"cre\_win: New kind %d"}, kind);
615 
616     \textcolor{keywordflow}{if} (kind == \hyperlink{macwin_8c_ab575e634e51462bf534b7ee541cefc46}{NHW\_BASE} || kind == \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP} || kind == \hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}) \{
617         \textcolor{keywordtype}{short} x\_sz, x\_sz\_p, y\_sz, y\_sz\_p;
618         \textcolor{keywordflow}{if} (kind != \hyperlink{macwin_8c_ab575e634e51462bf534b7ee541cefc46}{NHW\_BASE}) \{
619             \textcolor{keywordflow}{if} (i != tty\_create\_nhwindow(kind)) \{
620                 \hyperlink{macwin_8h_a3dd9b2ac1832b3e4c3baadd9cb8d5018}{dprintf} (\textcolor{stringliteral}{"cre\_win: error creating kind %d"}, kind);
621             \}
622             \textcolor{keywordflow}{if} (kind == \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP}) \{
623                 \hyperlink{wintty_8h_add51560aa349ed65b1dbc74253a92ff4}{wins}[i]->\hyperlink{structWinDesc_a93252f6a46614ef89276da2d7889df76}{offy} = 0;  \textcolor{comment}{/* the message box is in a separate window */}
624             \}
625         \}
626         aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window} = \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window};
627         \hyperlink{mactty_8h_aa8fb454d1bb476ff33b80e8ad794474c}{get\_tty\_metrics}(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, &x\_sz, &y\_sz, &x\_sz\_p, &y\_sz\_p,
628                      &aWin->\hyperlink{structNhWindow_a69b70dabcb069d8584b5bdf7acb31a61}{font\_number}, &aWin->\hyperlink{structNhWindow_a2748f3b69f3d3e42fdaf8171cbbdb367}{font\_size},
629                      &aWin->\hyperlink{structNhWindow_a6744c3a07c381cf7a485b336d7e30755}{char\_width}, &aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height});
630         \textcolor{keywordflow}{return} i;
631     \}
632 
633     aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window} = GetNewWindow (\hyperlink{mactty_8h_a7b515cf7c8fdd907ade09b3fd1d7ba8f}{WIN\_BASE\_RES} + kind, (WindowPtr) 0L, (WindowPtr)
       -1L);
634     SetWindowKind(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND} + kind);
635     SetWRefCon(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, (\textcolor{keywordtype}{long}) aWin);
636     \textcolor{keywordflow}{if} (!(aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText} = NewHandle (\hyperlink{macwin_8h_ae866b70f6c73dcc47421efb13cbfa770}{TEXT\_BLOCK}))) \{
637         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"cre\_win: NewHandle fail(%ld)"}, (\textcolor{keywordtype}{long}) \hyperlink{macwin_8h_ae866b70f6c73dcc47421efb13cbfa770}{TEXT\_BLOCK});
638         DisposeWindow (aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window});
639         aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window} = (WindowPtr) 0;
640         \textcolor{keywordflow}{return} \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR};
641     \}
642     aWin->\hyperlink{structNhWindow_a10d785f6f3a83f1148b0cfee07fd71ef}{x\_size} = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} = 0;
643     aWin->\hyperlink{structNhWindow_ab56661eb993dd6ee08d94c6d81175452}{x\_curs} = aWin->\hyperlink{structNhWindow_a1ce884e1926c5e62d509589c419c0b80}{y\_curs} = 0;
644     aWin->\hyperlink{structNhWindow_a8d324543f7ad278513ccdb303ebec2d6}{drawn} = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
645     \hyperlink{macwin_8c_a5c1bb54dbb7146e7e2b083ab34a5a84a}{mac\_clear\_nhwindow} (i);
646 
647     SetPortWindowPort(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window});
648 
649     \textcolor{keywordflow}{if} (kind == \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}) \{
650         aWin->\hyperlink{structNhWindow_a69b70dabcb069d8584b5bdf7acb31a61}{font\_number} = \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}];
651         aWin->\hyperlink{structNhWindow_a2748f3b69f3d3e42fdaf8171cbbdb367}{font\_size} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message}? 
      \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message} :
652             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.large\_font ? 12 : 9;
653         \textcolor{keywordflow}{if} (!\hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line}) \{
654             \textcolor{keyword}{const} Rect out\_of\_scr = \{10000, 10000, 10100, 10100\};
655             TextFont(aWin->\hyperlink{structNhWindow_a69b70dabcb069d8584b5bdf7acb31a61}{font\_number});
656             TextSize(aWin->\hyperlink{structNhWindow_a2748f3b69f3d3e42fdaf8171cbbdb367}{font\_size});
657             TextFace(bold);
658             \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line} = TENew(&out\_of\_scr, &out\_of\_scr);
659             TEActivate(\hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
660             TextFace(normal);
661         \}
662     \} \textcolor{keywordflow}{else} \{
663         aWin->\hyperlink{structNhWindow_a69b70dabcb069d8584b5bdf7acb31a61}{font\_number} = \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}];
664         aWin->\hyperlink{structNhWindow_a2748f3b69f3d3e42fdaf8171cbbdb367}{font\_size} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text} ? 
      \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text} : 9;
665     \}
666 
667     TextFont (aWin->\hyperlink{structNhWindow_a69b70dabcb069d8584b5bdf7acb31a61}{font\_number}); 
668     TextSize (aWin->\hyperlink{structNhWindow_a2748f3b69f3d3e42fdaf8171cbbdb367}{font\_size});
669 
670     GetFontInfo (&fi);
671     aWin->\hyperlink{structNhWindow_ad5549ce4698cc7698236146ebee4c2a9}{ascent\_height} = fi.ascent + fi.leading;
672     aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height} = aWin->\hyperlink{structNhWindow_ad5549ce4698cc7698236146ebee4c2a9}{ascent\_height} + fi.descent;
673     aWin->\hyperlink{structNhWindow_a6744c3a07c381cf7a485b336d7e30755}{char\_width} = fi.widMax;
674 
675     \textcolor{keywordflow}{if} (kind == \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU} || kind == NHW\_TEXT || kind == \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}) \{
676         Rect r;
677 
678         GetWindowBounds(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, kWindowContentRgn, &r);
679         r.right -= (r.left - 1);
680         r.left = r.right - \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
681         r.bottom -= (r.top + \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT});
682         r.top = -1;
683         aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar} = NewControl (aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, &r, \textcolor{stringliteral}{"\(\backslash\)p"}, (r.bottom > r.top + 50
      ), 0, 0, 0, 16, 0L);
684         aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} = 0;
685     \}
686     \textcolor{keywordflow}{return} i;
687 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ac2a0e0fc6e4b88ecf0325d2dd58923a6}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+curs@{mac\+\_\+curs}}
\index{mac\+\_\+curs@{mac\+\_\+curs}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+curs}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+curs (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win, }
\item[{int}]{x, }
\item[{int}]{y}
\end{DoxyParamCaption}
)}}\label{macwin_8c_ac2a0e0fc6e4b88ecf0325d2dd58923a6}


Definition at line 2349 of file macwin.\+c.



References \+\_\+mt\+\_\+window, Nh\+Window\+::ascent\+\_\+height, Nh\+Window\+::char\+\_\+width, Nh\+Window\+::its\+\_\+window, Nh\+Window\+::row\+\_\+height, Nh\+Window\+::x\+\_\+curs, and Nh\+Window\+::y\+\_\+curs.


\begin{DoxyCode}
2349                                    \{
2350     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
2351 
2352     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window} == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}) \{
2353         tty\_curs(win, x, y);
2354         \textcolor{keywordflow}{return};
2355     \}
2356 
2357     SetPortWindowPort(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window});
2358     MoveTo (x * aWin->\hyperlink{structNhWindow_a6744c3a07c381cf7a485b336d7e30755}{char\_width}, (y * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height}) + aWin->
      \hyperlink{structNhWindow_ad5549ce4698cc7698236146ebee4c2a9}{ascent\_height});
2359     aWin->\hyperlink{structNhWindow_ab56661eb993dd6ee08d94c6d81175452}{x\_curs} = x;
2360     aWin->\hyperlink{structNhWindow_a1ce884e1926c5e62d509589c419c0b80}{y\_curs} = y;
2361 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ac3b05c602c8d8b3a2e02014f8fd61e18}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+delay\+\_\+output@{mac\+\_\+delay\+\_\+output}}
\index{mac\+\_\+delay\+\_\+output@{mac\+\_\+delay\+\_\+output}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+delay\+\_\+output}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+delay\+\_\+output (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_ac3b05c602c8d8b3a2e02014f8fd61e18}


Definition at line 2208 of file macwin.\+c.



References mac\+\_\+get\+\_\+nh\+\_\+event().


\begin{DoxyCode}
2208                        \{
2209     \textcolor{keywordtype}{long} destTicks = TickCount () + 1;
2210 
2211     \textcolor{keywordflow}{while} (TickCount () < destTicks) \{
2212         \hyperlink{macwin_8c_a868a0b828ee529f1c73a53b068a477f9}{mac\_get\_nh\_event} ();
2213     \}
2214 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+destroy\+\_\+nhwindow@{mac\+\_\+destroy\+\_\+nhwindow}}
\index{mac\+\_\+destroy\+\_\+nhwindow@{mac\+\_\+destroy\+\_\+nhwindow}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+destroy\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+destroy\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}


Definition at line 1179 of file macwin.\+c.



References \+\_\+mt\+\_\+window, error(), flags, iflags, Nh\+Window\+::its\+\_\+window, killer, N\+H\+W\+\_\+\+M\+E\+N\+U, N\+H\+W\+\_\+\+T\+E\+X\+T, N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, flag\+::tombstone, W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D, W\+I\+N\+\_\+\+E\+R\+R, W\+I\+N\+\_\+\+I\+N\+V\+E\+N, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, instance\+\_\+flags\+::window\+\_\+inited, and Nh\+Window\+::window\+Text.



Referenced by mac\+\_\+create\+\_\+nhwindow(), mac\+\_\+exit\+\_\+nhwindows(), mac\+Key\+Text(), and Window\+Go\+Away().


\begin{DoxyCode}
1179                                  \{
1180     WindowPtr theWindow;
1181     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
1182     \textcolor{keywordtype}{int} kind;
1183 
1184     \textcolor{keywordflow}{if} (win < 0 || win >= \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS}) \{
1185         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2fc6c78c4c5f6e1d0027ac575135426f}{window\_inited}) \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"dest\_win: Invalid win %d."}, win);
1186         \textcolor{keywordflow}{return};
1187     \}
1188     theWindow = aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
1189     \textcolor{keywordflow}{if} (!theWindow) \{
1190         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"dest\_win: Not allocated win %d."}, win);
1191         \textcolor{keywordflow}{return};
1192     \}
1193 
1194     \textcolor{comment}{/*}
1195 \textcolor{comment}{     * Check special windows.  The base window should never go away.}
1196 \textcolor{comment}{     * Other "standard" windows should not go away unless we've exitted nhwindows.}
1197 \textcolor{comment}{     */}
1198     \textcolor{keywordflow}{if} (theWindow == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}) \{
1199         \textcolor{keywordflow}{return};
1200     \}
1201     \textcolor{keywordflow}{if} (win == \hyperlink{decl_8h_aabd3637304d093f7077c788661a0a5fd}{WIN\_INVEN} || win == \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}) \{
1202         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2fc6c78c4c5f6e1d0027ac575135426f}{window\_inited}) \{
1203             \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_adf925ab4c64cb50977b633e1713050d6}{tombstone} && \hyperlink{decl_8h_af7d2dea3996fe6d20ea8ec329726e8f9}{killer}) \{
1204                 \textcolor{comment}{/* Prepare for the coming of the tombstone window. */}
1205                 \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}] = kFontIDMonaco;
1206             \}
1207             \textcolor{keywordflow}{return};
1208         \}
1209         \textcolor{keywordflow}{if} (win == \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE})
1210             \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE} = \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR};
1211     \}
1212 
1213     kind = GetWindowKind(theWindow) - \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND};
1214 
1215     \textcolor{keywordflow}{if} ((!IsWindowVisible(theWindow) || (kind != \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU} && kind != 
      \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}))) \{
1216         DisposeWindow (theWindow);
1217         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}) \{
1218             DisposeHandle(aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText});
1219         \}
1220         aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window} = (WindowPtr) 0;
1221         aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText} = (Handle) 0;
1222     \}
1223 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a17ecaa71d1f9741ce86863c8b735bd9b}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+display\+\_\+file@{mac\+\_\+display\+\_\+file}}
\index{mac\+\_\+display\+\_\+file@{mac\+\_\+display\+\_\+file}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+display\+\_\+file}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+\_\+display\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{{\bf boolean}}]{complain}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a17ecaa71d1f9741ce86863c8b735bd9b}


Definition at line 2522 of file macwin.\+c.



References buf, create\+\_\+nhwindow, display\+\_\+nhwindow, dlb, dlb\+\_\+fclose, dlb\+\_\+fopen, dlb\+\_\+fread, dlb\+\_\+fseek, error(), F\+A\+L\+S\+E, fp, N\+H\+W\+\_\+\+T\+E\+X\+T, putstr, S\+E\+E\+K\+\_\+\+E\+N\+D, and W\+I\+N\+\_\+\+E\+R\+R.


\begin{DoxyCode}
2525 \{
2526     Ptr \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf};
2527     \textcolor{keywordtype}{int} win;
2528     \hyperlink{dlb_8h_a2c91af84569791b69abdf2b4644b0ddd}{dlb} *\hyperlink{tile2img_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp} = \hyperlink{dlb_8h_a46a9ab27d1ae601750baeacc2c0a8d44}{dlb\_fopen}(\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}, \textcolor{stringliteral}{"r"});
2529     
2530     \textcolor{keywordflow}{if} (fp) \{
2531         \textcolor{keywordtype}{long} l = \hyperlink{dlb_8h_a3c65d33411ed198b8c061327bdefbc85}{dlb\_fseek}(fp, 0, \hyperlink{dlb_8h_ad2a2e6c114780c3071efd24f16c7f7d8}{SEEK\_END});
2532         (void) \hyperlink{dlb_8h_a3c65d33411ed198b8c061327bdefbc85}{dlb\_fseek}(fp, 0, 0L);
2533         buf = NewPtr(l+1);
2534         \textcolor{keywordflow}{if} (buf) \{
2535             l = \hyperlink{dlb_8h_af592eddf34d2c61fface3d1bd8fae80a}{dlb\_fread}(buf, 1, l, fp);
2536             \textcolor{keywordflow}{if} (l > 0) \{
2537                 buf[l] = \textcolor{charliteral}{'\(\backslash\)0'};
2538                 win = \hyperlink{winprocs_8h_aa13fb35379049d1836397492d10b6b0c}{create\_nhwindow}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT});
2539                 \textcolor{keywordflow}{if} (\hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} == win) \{
2540                     \textcolor{keywordflow}{if} (complain) \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"Cannot make window."});
2541                 \} \textcolor{keywordflow}{else} \{
2542                     \hyperlink{winprocs_8h_a2ab348888957358569f859127c0bc474}{putstr}(win, 0, buf);
2543                     \hyperlink{winprocs_8h_ac8e74d03fbb65b9f5651e63d79bebc60}{display\_nhwindow}(win, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
2544                 \}
2545             \}
2546             DisposePtr(buf);
2547         \}
2548         \hyperlink{dlb_8h_a882e4d8dcdf2cd3d9eee2b94debe38e1}{dlb\_fclose}(fp);
2549     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (complain)
2550         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error}(\textcolor{stringliteral}{"Cannot open %s."}, \hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name});
2551 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aeaa254ac51270c6909c8e4f2b1006195}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+display\+\_\+nhwindow@{mac\+\_\+display\+\_\+nhwindow}}
\index{mac\+\_\+display\+\_\+nhwindow@{mac\+\_\+display\+\_\+nhwindow}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+display\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+display\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win, }
\item[{{\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P}}]{f}
\end{DoxyParamCaption}
)}}\label{macwin_8c_aeaa254ac51270c6909c8e4f2b1006195}


Definition at line 1126 of file macwin.\+c.



References \+\_\+mt\+\_\+window, adjust\+\_\+window\+\_\+pos(), A\+T\+R\+\_\+\+I\+N\+V\+E\+R\+S\+E, A\+T\+R\+\_\+\+N\+O\+N\+E, C\+H\+A\+R\+\_\+\+C\+R, Closing\+Window\+Char(), Dim\+Menu\+Bar, error(), flags, in\+Select, Nh\+Window\+::its\+\_\+window, mac\+\_\+nhgetch(), N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, putstr, Nh\+Window\+::row\+\_\+height, S\+B\+A\+R\+W\+I\+D\+T\+H, flag\+::standout, topl\+\_\+set\+\_\+resp(), Undim\+Menu\+Bar, W\+I\+N\+\_\+\+E\+R\+R, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, Nh\+Window\+::window\+Text, Nh\+Window\+::window\+Text\+Len, Nh\+Window\+::x\+\_\+size, and Nh\+Window\+::y\+\_\+size.



Referenced by enter\+\_\+topl\+\_\+mode(), mac\+\_\+doprev\+\_\+message(), mac\+\_\+putstr(), and mac\+\_\+select\+\_\+menu().


\begin{DoxyCode}
1126                                               \{
1127     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
1128     WindowPtr theWindow = aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
1129 
1130     \textcolor{keywordflow}{if} (win < 0 || win >= \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS} || !theWindow) \{
1131         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"disp\_win: Invalid window %d."}, win);
1132         \textcolor{keywordflow}{return};
1133     \}
1134 
1135     \textcolor{keywordflow}{if} (theWindow == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}) \{
1136         tty\_display\_nhwindow(win, f);
1137         \textcolor{keywordflow}{return};
1138     \}
1139 
1140     \textcolor{keywordflow}{if} (f && \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} == \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} && win == \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}) \{
1141         \hyperlink{macwin_8c_a7919e577c7f6fe3391905caaf29b5afb}{topl\_set\_resp} ((\textcolor{keywordtype}{char} *)0, 0);
1142         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} > 0 &&
1143              (*aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}) [aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} - 1] == 
      \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}) \{
1144             -- aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen};
1145             -- aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
1146         \}
1147         \hyperlink{winprocs_8h_a2ab348888957358569f859127c0bc474}{putstr} (win, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a6c912e940e53382cfd6a39e56bd1c2ee}{standout} ? \hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE} : 
      \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, \textcolor{stringliteral}{" --More--"});
1148     \}
1149 
1150     \textcolor{keywordflow}{if} (!IsWindowVisible(theWindow)) \{
1151         \textcolor{keywordflow}{if} (win != \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE})
1152             \hyperlink{macwin_8c_afa39c1e7c90da8dff0568e0b4f39078d}{adjust\_window\_pos}(aWin, aWin->\hyperlink{structNhWindow_a10d785f6f3a83f1148b0cfee07fd71ef}{x\_size} + 
      \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH}+1, aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} *aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height});
1153 
1154         SelectWindow (theWindow);
1155         ShowWindow (theWindow);
1156     \}
1157 
1158     \textcolor{keywordflow}{if} (f && \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} == \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR}) \{
1159         \textcolor{keywordtype}{int} ch;
1160 
1161         \hyperlink{macwin_8h_a0eece0e7a8b543ac7d732a73cb668d33}{DimMenuBar}();
1162         \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} = win;
1163         \textcolor{keywordflow}{do} \{
1164             ch = \hyperlink{macwin_8c_ad22c95e08119fec4e960d6c6b5357f38}{mac\_nhgetch} ();
1165         \} \textcolor{keywordflow}{while} (!\hyperlink{macwin_8c_a3712e3ae7c6e1a14c331cd5218b29ecb}{ClosingWindowChar} (ch));
1166         \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} = \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR};
1167         \hyperlink{macwin_8h_ad36b663e11e5adfe9f595eb2fcdc3bbf}{UndimMenuBar}();
1168 
1169         \textcolor{keywordflow}{if} (win == \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE})
1170             \hyperlink{macwin_8c_a7919e577c7f6fe3391905caaf29b5afb}{topl\_set\_resp} (\textcolor{stringliteral}{""}, \textcolor{charliteral}{'\(\backslash\)0'});
1171         \textcolor{keywordflow}{else}
1172             HideWindow (theWindow);
1173 
1174     \}
1175 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ad21f9c724bf74ceb69ba673f4e31fc44}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+doprev\+\_\+message@{mac\+\_\+doprev\+\_\+message}}
\index{mac\+\_\+doprev\+\_\+message@{mac\+\_\+doprev\+\_\+message}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+doprev\+\_\+message}]{\setlength{\rightskip}{0pt plus 5cm}int mac\+\_\+doprev\+\_\+message (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_ad21f9c724bf74ceb69ba673f4e31fc44}


Definition at line 1656 of file macwin.\+c.



References F\+A\+L\+S\+E, Nh\+Window\+::its\+\_\+window, mac\+\_\+display\+\_\+nhwindow(), Move\+Scroll\+Bar(), Nh\+Window\+::scroll\+Bar, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by topl\+\_\+key(), and topl\+\_\+resp\+\_\+key().


\begin{DoxyCode}
1656                          \{
1657     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}) \{
1658         \hyperlink{structNhWindow}{NhWindow} *winToScroll = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}];
1659         \hyperlink{macwin_8c_aeaa254ac51270c6909c8e4f2b1006195}{mac\_display\_nhwindow}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1660         SetPortWindowPort(winToScroll->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window});
1661         \hyperlink{macwin_8c_acf2dad7fc6c7123f690d53eaac73a718}{MoveScrollBar}(winToScroll->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, kControlUpButtonPart);
1662     \}   
1663     \textcolor{keywordflow}{return} 0;
1664 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a3ae2cf41175030c59ee5d6f24081d1e5}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+end\+\_\+menu@{mac\+\_\+end\+\_\+menu}}
\index{mac\+\_\+end\+\_\+menu@{mac\+\_\+end\+\_\+menu}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+end\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+end\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win, }
\item[{{\bf const} char $\ast$}]{morestr}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a3ae2cf41175030c59ee5d6f24081d1e5}


Definition at line 2460 of file macwin.\+c.



References buf, C2\+P(), and Nh\+Window\+::its\+\_\+window.


\begin{DoxyCode}
2460                                               \{
2461     Str255 \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf};
2462     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
2463 
2464     buf [0] = 0;
2465     \textcolor{keywordflow}{if} (morestr) 
2466         \hyperlink{macfile_8c_a83774f183f96a11c2fb8314369d23c44}{C2P} (morestr, buf);
2467     SetWTitle (aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, buf);
2468 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a22ff5255bc6a6b3124a9f358aae17e23}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+exit\+\_\+nhwindows@{mac\+\_\+exit\+\_\+nhwindows}}
\index{mac\+\_\+exit\+\_\+nhwindows@{mac\+\_\+exit\+\_\+nhwindows}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+exit\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+exit\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{s}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a22ff5255bc6a6b3124a9f358aae17e23}


Definition at line 2228 of file macwin.\+c.



References clear\+\_\+screen(), mac\+\_\+destroy\+\_\+nhwindow(), W\+I\+N\+\_\+\+I\+N\+V\+E\+N, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.


\begin{DoxyCode}
2228                                    \{
2229     \hyperlink{mttymain_8c_abc40cd622f423abf44084c8f8595f57f}{clear\_screen} ();
2230     tty\_exit\_nhwindows (s);
2231     \hyperlink{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}{mac\_destroy\_nhwindow} (\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE});
2232     \hyperlink{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}{mac\_destroy\_nhwindow} (\hyperlink{decl_8h_aabd3637304d093f7077c788661a0a5fd}{WIN\_INVEN});
2233 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a868a0b828ee529f1c73a53b068a477f9}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+get\+\_\+nh\+\_\+event@{mac\+\_\+get\+\_\+nh\+\_\+event}}
\index{mac\+\_\+get\+\_\+nh\+\_\+event@{mac\+\_\+get\+\_\+nh\+\_\+event}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+get\+\_\+nh\+\_\+event}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+get\+\_\+nh\+\_\+event (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a868a0b828ee529f1c73a53b068a477f9}


Definition at line 2148 of file macwin.\+c.



References g\+Mouse\+Rgn, Handle\+Event(), iflags, and instance\+\_\+flags\+::window\+\_\+inited.



Referenced by mac\+\_\+delay\+\_\+output().


\begin{DoxyCode}
2148                        \{
2149     EventRecord anEvent;
2150 
2151     \textcolor{comment}{/* KMH -- Don't proceed if the window system isn't set up */}
2152     \textcolor{keywordflow}{if} (!\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2fc6c78c4c5f6e1d0027ac575135426f}{window\_inited})
2153         \textcolor{keywordflow}{return};
2154 
2155     (void) WaitNextEvent (everyEvent, &anEvent, -1, \hyperlink{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{gMouseRgn});
2156     \hyperlink{macwin_8c_aad8819a1e367cc83e4d343f213ab760b}{HandleEvent}(&anEvent);
2157 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a12ebbe99abae335aca495c90f37c063d}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+init\+\_\+nhwindows@{mac\+\_\+init\+\_\+nhwindows}}
\index{mac\+\_\+init\+\_\+nhwindows@{mac\+\_\+init\+\_\+nhwindows}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+init\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+init\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{argcp, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a12ebbe99abae335aca495c90f37c063d}


Definition at line 691 of file macwin.\+c.



References Dim\+Menu\+Bar, error(), iflags, Init\+Menu\+Res(), k\+Message\+Window, mac\+\_\+create\+\_\+nhwindow(), N\+H\+W\+\_\+\+B\+A\+S\+E, N\+H\+W\+\_\+\+M\+E\+S\+S\+A\+G\+E, N\+U\+L\+L, N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, Retrieve\+Position(), Retrieve\+Size(), small\+\_\+screen, T\+R\+U\+E, and instance\+\_\+flags\+::window\+\_\+inited.


\begin{DoxyCode}
692 \{
693 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
694     Rect scr = (*GetGrayRgn())->rgnBBox;
695     \hyperlink{macwin_8c_a8a5ea2741f1acdae94edc68d0cd48dff}{small\_screen} = scr.bottom - scr.top <= (\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.large\_font ? 12*40 : 9*40);
696 \textcolor{preprocessor}{#endif}
697     Rect r;
698 
699 
700     \hyperlink{macwin_8h_a6da4d78f4611cd185b7e7cbbfd7d5a59}{InitMenuRes} ();
701 
702     \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} = (\hyperlink{structNhWindow}{NhWindow} *) NewPtrClear (\hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS} * \textcolor{keyword}{sizeof} (
      \hyperlink{structNhWindow}{NhWindow}));
703     \textcolor{keywordflow}{if} (MemError())
704         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error}(\textcolor{stringliteral}{"mac\_init\_nhwindows: Couldn't allocate memory for windows."});
705 
706     \hyperlink{macwin_8h_a0eece0e7a8b543ac7d732a73cb668d33}{DimMenuBar} ();
707 
708     tty\_init\_nhwindows(argcp, argv);
709     \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2fc6c78c4c5f6e1d0027ac575135426f}{window\_inited} = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
710 
711     \textcolor{comment}{/* Some ugly hacks to make both interfaces happy:}
712 \textcolor{comment}{     * Mac port uses both tty interface (for main map) and extra windows.  The winids need to}
713 \textcolor{comment}{     * be kept in synch for both interfaces to map.  Also, the "blocked" display\_nhwindow case}
714 \textcolor{comment}{     * for the map automatically calls the tty interface for the message box, so some version}
715 \textcolor{comment}{     * of the message box has to exist in the tty world to prevent a meltdown, even though most}
716 \textcolor{comment}{     * messages are handled in mac window.}
717 \textcolor{comment}{     */}
718     \hyperlink{macwin_8c_a5e74333873de53505b1a5dd4645318cb}{mac\_create\_nhwindow}(\hyperlink{macwin_8c_ab575e634e51462bf534b7ee541cefc46}{NHW\_BASE});
719     tty\_create\_nhwindow(\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE});
720     \hyperlink{macwin_8h_a049bd60d33392303a780f0da16ad510d}{RetrievePosition}(\hyperlink{macwin_8h_a54757a5fc233594015c43bc1dbde2411}{kMessageWindow}, &r.top, &r.left);
721     \hyperlink{macwin_8h_aa04da4cc0685c5f5cb177fd01b719907}{RetrieveSize}(\hyperlink{macwin_8h_a54757a5fc233594015c43bc1dbde2411}{kMessageWindow}, r.top, r.left, &r.bottom, &r.right);
722     MoveWindow(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}].its\_window, r.left, r.top, \textcolor{keyword}{false});
723     SizeWindow(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}].its\_window, r.right, r.bottom, \textcolor{keyword}{true});
724     ConstrainWindowToScreen(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}].its\_window, kWindowStructureRgn,
725         kWindowConstrainMoveRegardlessOfFit, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
726     \textcolor{keywordflow}{return};
727 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a4ef712e8a31cc6f1f38bbc062c7e88fb}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+nh\+\_\+poskey@{mac\+\_\+nh\+\_\+poskey}}
\index{mac\+\_\+nh\+\_\+poskey@{mac\+\_\+nh\+\_\+poskey}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+nh\+\_\+poskey}]{\setlength{\rightskip}{0pt plus 5cm}int mac\+\_\+nh\+\_\+poskey (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{a, }
\item[{int $\ast$}]{b, }
\item[{int $\ast$}]{c}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a4ef712e8a31cc6f1f38bbc062c7e88fb}


Definition at line 2365 of file macwin.\+c.



References clicked\+\_\+mod, clicked\+\_\+pos, and mac\+\_\+nhgetch().


\begin{DoxyCode}
2365                                        \{
2366     \textcolor{keywordtype}{int} ch = \hyperlink{macwin_8c_ad22c95e08119fec4e960d6c6b5357f38}{mac\_nhgetch}();
2367     *a = \hyperlink{macwin_8c_af23e841529e6e73bf1d37140d89e55d9}{clicked\_pos}.h;
2368     *b = \hyperlink{macwin_8c_af23e841529e6e73bf1d37140d89e55d9}{clicked\_pos}.v;
2369     *c = \hyperlink{macwin_8c_abd3980d9f9987480d5a371e6d20edf1d}{clicked\_mod};
2370     \textcolor{keywordflow}{return} ch;
2371 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ad22c95e08119fec4e960d6c6b5357f38}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+nhgetch@{mac\+\_\+nhgetch}}
\index{mac\+\_\+nhgetch@{mac\+\_\+nhgetch}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+nhgetch}]{\setlength{\rightskip}{0pt plus 5cm}int mac\+\_\+nhgetch (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_ad22c95e08119fec4e960d6c6b5357f38}


Definition at line 2161 of file macwin.\+c.



References g\+Clicked\+To\+Move, Get\+From\+Key\+Queue(), g\+Mouse\+Rgn, Handle\+Event(), in\+\_\+topl\+\_\+mode(), and key\+Queue\+Count.



Referenced by mac\+\_\+display\+\_\+nhwindow(), mac\+\_\+nh\+\_\+poskey(), and mac\+\_\+select\+\_\+menu().


\begin{DoxyCode}
2161                   \{
2162     \textcolor{keywordtype}{int} ch;
2163     \textcolor{keywordtype}{long} doDawdle;
2164     EventRecord anEvent;
2165 
2166     \textcolor{comment}{/* We want to take care of keys in the buffer as fast as}
2167 \textcolor{comment}{     * possible}
2168 \textcolor{comment}{     */}
2169     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount})
2170         doDawdle = 0L;
2171     \textcolor{keywordflow}{else} \{
2172         \textcolor{keywordtype}{long} total, contig;
2173         \textcolor{keyword}{static} \textcolor{keywordtype}{char} warn = 0;
2174 
2175         doDawdle = (\hyperlink{macwin_8c_a434413472f44c8167ec5898d18c84eee}{in\_topl\_mode}() ? GetCaretTime () : 120L);
2176         \textcolor{comment}{/* Since we have time, check memory */}
2177         PurgeSpace (&total, &contig);
2178         \textcolor{keywordflow}{if} (contig < 25000L || total < 50000L) \{
2179             \textcolor{keywordflow}{if} (!warn) \{
2180                 pline (\textcolor{stringliteral}{"Low Memory!"});
2181                 warn = 1;
2182             \}
2183         \} \textcolor{keywordflow}{else} \{
2184             warn = 0;
2185         \}
2186     \}
2187 
2188     \textcolor{keywordflow}{do} \{
2189         (void) WaitNextEvent (everyEvent, &anEvent, doDawdle, \hyperlink{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{gMouseRgn});
2190         \hyperlink{macwin_8c_aad8819a1e367cc83e4d343f213ab760b}{HandleEvent} (&anEvent);
2191         ch = \hyperlink{macwin_8c_a71482ac2cd09246722585aa22047f88d}{GetFromKeyQueue} ();
2192     \} \textcolor{keywordflow}{while} (!ch && !\hyperlink{macwin_8c_aeb1f2a020b1db806b3d6fd269745955c}{gClickedToMove});
2193 
2194     \textcolor{keywordflow}{if} (!\hyperlink{macwin_8c_aeb1f2a020b1db806b3d6fd269745955c}{gClickedToMove})
2195         ObscureCursor ();
2196     \textcolor{keywordflow}{else}
2197         \hyperlink{macwin_8c_aeb1f2a020b1db806b3d6fd269745955c}{gClickedToMove} = 0;
2198 
2199 \textcolor{preprocessor}{#ifdef THINK\_C}
2200     \textcolor{keywordflow}{if} (ch == \textcolor{charliteral}{'\(\backslash\)r'}) ch = \textcolor{charliteral}{'\(\backslash\)n'};
2201 \textcolor{preprocessor}{#endif}
2202 
2203     \textcolor{keywordflow}{return} ch;
2204 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a388d66db6f82ef0cdcdfaca145dc935a}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+number\+\_\+pad@{mac\+\_\+number\+\_\+pad}}
\index{mac\+\_\+number\+\_\+pad@{mac\+\_\+number\+\_\+pad}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+number\+\_\+pad}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+number\+\_\+pad (
\begin{DoxyParamCaption}
\item[{int}]{pad}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a388d66db6f82ef0cdcdfaca145dc935a}


Definition at line 1227 of file macwin.\+c.



References iflags, and instance\+\_\+flags\+::num\+\_\+pad.


\begin{DoxyCode}
1227                          \{
1228     \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_abf8ead01634763341598a10bd5052f7e}{num\_pad} = \hyperlink{structpad}{pad};
1229 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aa2e4c6b336d450f694e60e68572fb78b}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+putstr@{mac\+\_\+putstr}}
\index{mac\+\_\+putstr@{mac\+\_\+putstr}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+putstr}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+putstr (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win, }
\item[{int}]{attr, }
\item[{{\bf const} char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{macwin_8c_aa2e4c6b336d450f694e60e68572fb78b}


Definition at line 2240 of file macwin.\+c.



References \+\_\+mt\+\_\+window, C\+H\+A\+R\+\_\+\+C\+R, C\+H\+A\+R\+\_\+\+L\+F, error(), flags, Nh\+Window\+::its\+\_\+window, Nh\+Window\+::last\+\_\+more\+\_\+lin, mac\+\_\+display\+\_\+nhwindow(), min, N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, Nh\+Window\+::row\+\_\+height, Nh\+Window\+::save\+\_\+lin, S\+B\+A\+R\+H\+E\+I\+G\+H\+T, S\+B\+A\+R\+W\+I\+D\+T\+H, Nh\+Window\+::scroll\+Bar, Nh\+Window\+::scroll\+Pos, T\+R\+U\+E, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, Nh\+Window\+::window\+Text, Nh\+Window\+::window\+Text\+Len, Nh\+Window\+::x\+\_\+curs, Nh\+Window\+::x\+\_\+size, Nh\+Window\+::y\+\_\+curs, and Nh\+Window\+::y\+\_\+size.


\begin{DoxyCode}
2240                                                   \{
2241     \textcolor{keywordtype}{long} len, slen;
2242     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
2243     \textcolor{keyword}{static} \textcolor{keywordtype}{char} in\_putstr = 0;
2244     \textcolor{keywordtype}{short} newWidth, maxWidth;
2245     Rect r;
2246     \textcolor{keywordtype}{char} *src, *sline, *dst, ch;
2247 
2248     \textcolor{keywordflow}{if} (win < 0 || win >= \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS} || !aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}) \{
2249         \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"putstr: Invalid win %d (Max %d)."}, win, \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS}, attr);
2250         \textcolor{keywordflow}{return};
2251     \}
2252 
2253     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window} == \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}) \{
2254         tty\_putstr(win, attr, str);
2255         \textcolor{keywordflow}{return};
2256     \}
2257 
2258     \textcolor{keywordflow}{if} (in\_putstr > 3)
2259         \textcolor{keywordflow}{return};
2260 
2261     in\_putstr ++;
2262     slen = strlen (str);
2263 
2264     SetPortWindowPort(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window});
2265     GetWindowBounds(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, kWindowContentRgn, &r);
2266     OffsetRect(&r, -r.left, -r.top);
2267     \textcolor{keywordflow}{if} (win == \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}) \{
2268         r.right  -= \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
2269         r.bottom -= \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT};
2270         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.page\_wait && 
2271             aWin->\hyperlink{structNhWindow_a0645528f32a19a8be138755283ffe5fe}{last\_more\_lin} <= aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} - (r.bottom - r.top) / aWin->
      \hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height}) \{
2272             aWin->\hyperlink{structNhWindow_a0645528f32a19a8be138755283ffe5fe}{last\_more\_lin} = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size};
2273             \hyperlink{macwin_8c_aeaa254ac51270c6909c8e4f2b1006195}{mac\_display\_nhwindow}(win, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
2274         \}
2275     \}
2276 
2277     \textcolor{comment}{/*}
2278 \textcolor{comment}{     * A "default" text window - uses TETextBox}
2279 \textcolor{comment}{     * We just add the text, without attributes for now}
2280 \textcolor{comment}{     */}
2281     len = GetHandleSize (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText});
2282     \textcolor{keywordflow}{while} (aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} + slen + 1 > len) \{
2283         len = (len > 2048) ? (len + 2048) : (len * 2);
2284         SetHandleSize (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}, len);
2285         \textcolor{keywordflow}{if} (MemError ()) \{
2286             \hyperlink{txt2iff_8c_a64e632a682e311bde915784e6a17da31}{error} (\textcolor{stringliteral}{"putstr: SetHandleSize"});
2287             aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} = 0L;
2288             aWin->\hyperlink{structNhWindow_a5df57289ac1b5436228829358f8f9f38}{save\_lin} = 0;
2289             aWin->\hyperlink{structNhWindow_a1ce884e1926c5e62d509589c419c0b80}{y\_curs} = 0;
2290             aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} = 0;
2291         \}
2292     \}
2293     
2294     len = aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen};
2295     dst = *(aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}) + len;
2296     sline = src = (\textcolor{keywordtype}{char} *)str;
2297     maxWidth = newWidth = 0;
2298     \textcolor{keywordflow}{for} (ch = *src; ch; ch = *src) \{
2299         \textcolor{keywordflow}{if} (ch == \hyperlink{mactty_8h_ab278969e0bc4296056adb7b18aa43227}{CHAR\_LF})
2300             ch = \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR};
2301         *dst++ = ch;
2302         \textcolor{keywordflow}{if} (ch == \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}) \{
2303             aWin->\hyperlink{structNhWindow_a1ce884e1926c5e62d509589c419c0b80}{y\_curs} ++;
2304             aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} ++;
2305             aWin->\hyperlink{structNhWindow_ab56661eb993dd6ee08d94c6d81175452}{x\_curs} = 0;
2306             newWidth = TextWidth (sline, 0, src - sline);
2307             \textcolor{keywordflow}{if} (newWidth > maxWidth) \{
2308                 maxWidth = newWidth;
2309             \}
2310             sline = src+1;  \textcolor{comment}{/* keep track of where new line begins */}
2311         \}
2312         \textcolor{keywordflow}{else}
2313             aWin->\hyperlink{structNhWindow_ab56661eb993dd6ee08d94c6d81175452}{x\_curs} ++;
2314         src++;
2315     \}
2316 
2317     newWidth = TextWidth (sline, 0, src - sline);
2318     \textcolor{keywordflow}{if} (newWidth > maxWidth) \{
2319         maxWidth = newWidth;
2320     \}
2321 
2322     aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} += slen;
2323     
2324     \textcolor{keywordflow}{if} (ch != \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}) \{
2325         (*(aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText})) [len + slen] = \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR};
2326         aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen} ++;
2327         aWin->\hyperlink{structNhWindow_a1ce884e1926c5e62d509589c419c0b80}{y\_curs} ++;
2328         aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} ++;
2329         aWin->\hyperlink{structNhWindow_ab56661eb993dd6ee08d94c6d81175452}{x\_curs} = 0;
2330     \}
2331 
2332     \textcolor{keywordflow}{if} (win == \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}) \{
2333         \textcolor{keywordtype}{short} \hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min} = aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} - (r.bottom - r.top) / aWin->
      \hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
2334         if (aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} < min) \{
2335             aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} = \hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min};
2336             SetControlMaximum (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size});
2337             SetControlValue(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar}, min);
2338         \}
2339         InvalWindowRect(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, &r);
2340     \}
2341     \textcolor{keywordflow}{else}    \textcolor{comment}{/* Message has a fixed width, other windows base on content */}
2342         \textcolor{keywordflow}{if} (maxWidth > aWin->\hyperlink{structNhWindow_a10d785f6f3a83f1148b0cfee07fd71ef}{x\_size})
2343             aWin->\hyperlink{structNhWindow_a10d785f6f3a83f1148b0cfee07fd71ef}{x\_size} = maxWidth;
2344     in\_putstr --;
2345 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a508462c16495eefcc4478c0d4a6416bd}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+select\+\_\+menu@{mac\+\_\+select\+\_\+menu}}
\index{mac\+\_\+select\+\_\+menu@{mac\+\_\+select\+\_\+menu}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+select\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}int mac\+\_\+select\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win, }
\item[{int}]{how, }
\item[{{\bf menu\+\_\+item} $\ast$$\ast$}]{selected\+\_\+list}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a508462c16495eefcc4478c0d4a6416bd}


Definition at line 2472 of file macwin.\+c.



References alloc(), C\+H\+A\+R\+\_\+\+E\+S\+C, Closing\+Window\+Char(), mi\+::count, F\+A\+L\+S\+E, Nh\+Window\+::how, Mac\+M\+H\+Menu\+Item\+::id, in\+Select, mi\+::item, Nh\+Window\+::its\+\_\+window, mac\+\_\+display\+\_\+nhwindow(), mac\+\_\+nhgetch(), map\+\_\+menu\+\_\+cmd(), Nh\+Window\+::menu\+Info, Nh\+Window\+::menu\+Selected, Nh\+Window\+::mi\+Sel\+Len, nhbell, and W\+I\+N\+\_\+\+E\+R\+R.


\begin{DoxyCode}
2472                                                                 \{
2473     \textcolor{keywordtype}{int} c;
2474     \hyperlink{structNhWindow}{NhWindow} *aWin = &\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win];
2475     WindowPtr theWin = aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
2476 
2477     \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} = win;
2478 
2479     \hyperlink{macwin_8c_aeaa254ac51270c6909c8e4f2b1006195}{mac\_display\_nhwindow} (win, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
2480 
2481     aWin->\hyperlink{structNhWindow_ac6a901247ddc4de0deff8f4d67b716ae}{how} = (short) how;
2482     \textcolor{keywordflow}{for} (;;) \{
2483         c = \hyperlink{options_8c_a12b336a1f1a4cec27361fc446f21ac01}{map\_menu\_cmd} (\hyperlink{macwin_8c_ad22c95e08119fec4e960d6c6b5357f38}{mac\_nhgetch}());
2484         \textcolor{keywordflow}{if} (c == \hyperlink{mactty_8h_ac763d1de8ee96951064bd7dbb649dfc5}{CHAR\_ESC}) \{
2485             \textcolor{comment}{/* deselect everything */}
2486             aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen} = 0;
2487             \textcolor{keywordflow}{break};
2488         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a3712e3ae7c6e1a14c331cd5218b29ecb}{ClosingWindowChar}(c)) \{
2489             \textcolor{keywordflow}{break};
2490         \} \textcolor{keywordflow}{else} \{
2491             \hyperlink{winprocs_8h_af67660f5fad2a702109065ec601ca346}{nhbell}();
2492         \}
2493     \}
2494 
2495     HideWindow (theWin);
2496 
2497     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen}) \{
2498         \hyperlink{structmi}{menu\_item} *mp;
2499         \hyperlink{structMacMHMenuItem}{MacMHMenuItem} *\hyperlink{structmi}{mi};
2500         *selected\_list = mp = (\hyperlink{structmi}{menu\_item} *) \hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen} * \textcolor{keyword}{sizeof}(
      \hyperlink{structmi}{menu\_item}));
2501         HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
2502         HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
2503         \textcolor{keywordflow}{for} (c = 0; c < aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen}; c++) \{
2504             mi = &(*aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo})[(*aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected}) [c]];
2505             mp->\hyperlink{structmi_a24f26cd1b01d3cf3ed16b1fd020d3a08}{item} = mi->\hyperlink{structMacMHMenuItem_ab6b99da9d3632f83a43912e5dc25ddf6}{id};
2506             mp->\hyperlink{structmi_a008e5c33aa571223ec592e0725c5fb73}{count} = -1L;
2507             mp++;
2508         \}
2509         HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
2510         HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
2511     \} \textcolor{keywordflow}{else}
2512         *selected\_list = 0;
2513 
2514     \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} = \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR};
2515 
2516     \textcolor{keywordflow}{return} aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen};
2517 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a617d7f4e90177985b022222e436f150b}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+start\+\_\+menu@{mac\+\_\+start\+\_\+menu}}
\index{mac\+\_\+start\+\_\+menu@{mac\+\_\+start\+\_\+menu}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+start\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void mac\+\_\+start\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{win}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a617d7f4e90177985b022222e436f150b}


Definition at line 2375 of file macwin.\+c.



References mac\+\_\+clear\+\_\+nhwindow().


\begin{DoxyCode}
2375                            \{
2376     HideWindow (\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [win].its\_window);
2377     \hyperlink{macwin_8c_a5c1bb54dbb7146e7e2b083ab34a5a84a}{mac\_clear\_nhwindow} (win);
2378 \}
\end{DoxyCode}
\hypertarget{macwin_8c_adf13a19ab9f038422121e8330e0e542e}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+suspend\+\_\+nhwindows@{mac\+\_\+suspend\+\_\+nhwindows}}
\index{mac\+\_\+suspend\+\_\+nhwindows@{mac\+\_\+suspend\+\_\+nhwindows}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+suspend\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+\_\+suspend\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{foo}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_adf13a19ab9f038422121e8330e0e542e}


Definition at line 2566 of file macwin.\+c.


\begin{DoxyCode}
2566                                         \{
2567 \textcolor{preprocessor}{#if defined(\_\_SC\_\_) || defined(\_\_MRC\_\_)}
2568 \textcolor{preprocessor}{# pragma unused(foo)}
2569 \textcolor{preprocessor}{#endif}
2570     \textcolor{comment}{/*  Can't really do that :-)        */}
2571 \}
\end{DoxyCode}
\hypertarget{macwin_8c_acaa14f6f835a053ff141ee5737853bdd}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+unimplemented@{mac\+\_\+unimplemented}}
\index{mac\+\_\+unimplemented@{mac\+\_\+unimplemented}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+unimplemented}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+\_\+unimplemented (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_acaa14f6f835a053ff141ee5737853bdd}


Definition at line 2561 of file macwin.\+c.


\begin{DoxyCode}
2561                          \{
2562 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aaa7171479989cb2490fe85b2658ad3d9}{\index{macwin.\+c@{macwin.\+c}!mac\+Click\+Menu@{mac\+Click\+Menu}}
\index{mac\+Click\+Menu@{mac\+Click\+Menu}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Click\+Menu}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+Click\+Menu (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ref}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aaa7171479989cb2490fe85b2658ad3d9}


Definition at line 1384 of file macwin.\+c.



References Add\+To\+Key\+Queue(), C\+H\+A\+R\+\_\+\+C\+R, Do\+Scroll\+Bar(), F\+A\+L\+S\+E, Get\+Nh\+Win(), Nh\+Window\+::how, in\+Select, List\+Coordinate\+To\+Item(), List\+Item\+Selected(), P\+I\+C\+K\+\_\+\+N\+O\+N\+E, P\+I\+C\+K\+\_\+\+O\+N\+E, Nh\+Window\+::row\+\_\+height, Nh\+Window\+::scroll\+Bar, Toggle\+Menu\+List\+Item\+Selected(), Toggle\+Menu\+Select(), T\+R\+U\+E, W\+I\+N\+\_\+\+E\+R\+R, and Nh\+Window\+::y\+\_\+size.


\begin{DoxyCode}
1384                                                           \{
1385     Point p;
1386     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin}(theWindow);
1387     Rect wrect;
1388 
1389 
1390     GetWindowBounds(theWindow, kWindowContentRgn, &wrect);
1391     OffsetRect(&wrect, -wrect.left, -wrect.top);
1392     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar} && IsControlVisible(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})) \{
1393         \textcolor{keywordtype}{short} code;
1394         ControlHandle theBar;
1395 
1396         p = theEvent->where;
1397         GlobalToLocal (&p);
1398         code = FindControl (p, theWindow, &theBar);
1399         \textcolor{keywordflow}{if} (code) \{
1400             \hyperlink{macwin_8c_a4c1496eec814dff5b89ec744998dd4f9}{DoScrollBar} (p, code, theBar, aWin);
1401             \textcolor{keywordflow}{return};
1402         \}
1403     \}
1404     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} != \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} && aWin->\hyperlink{structNhWindow_ac6a901247ddc4de0deff8f4d67b716ae}{how} != \hyperlink{wintype_8h_a9e3d317126c3eacb6311e15fedaf717c}{PICK\_NONE}) \{
1405         \textcolor{keywordtype}{short}       currentRow = -1, previousRow = -1;
1406         \textcolor{keywordtype}{short}       previousItem = -1, item = -1;
1407         Boolean     majorSelectState, firstRow = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1408 
1409         \textcolor{keywordflow}{do} \{
1410 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
1411             SystemTask ();
1412 \textcolor{preprocessor}{#endif}
1413             GetMouse (&p);
1414             currentRow = p.v / aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1415             \textcolor{keywordflow}{if} (p.h < wrect.left || p.h > wrect.right ||
1416                 p.v < 0 || p.v > wrect.bottom || currentRow >= aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size}) \{
1417                 \textcolor{keywordflow}{continue};   \textcolor{comment}{/* not in window range */}
1418             \}
1419 
1420             item = \hyperlink{macwin_8c_a28acbc344e6af9634ad2f2190f54870b}{ListCoordinateToItem} (aWin, currentRow);
1421 
1422             \textcolor{keywordflow}{if} (item != previousItem) \{
1423                 \textcolor{comment}{/* Implement typical Mac multiple-selection behavior}
1424 \textcolor{comment}{                 * (ie, not the UI implemented by the Finder)}
1425 \textcolor{comment}{                 */}
1426                 Boolean itemIsSelected = (\hyperlink{macwin_8c_a59d599bb38f8b26971812b83e22bea01}{ListItemSelected} (aWin,item) >= 0);
1427 
1428                 \textcolor{keywordflow}{if} (firstRow) \{
1429                     \textcolor{comment}{/* this is first valid row, so major state is opposite of what this row is */}
1430                     majorSelectState = !itemIsSelected;
1431                     firstRow = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1432                 \}
1433 
1434                 \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_ac6a901247ddc4de0deff8f4d67b716ae}{how} == \hyperlink{wintype_8h_a53377e7b2fddfaf7cc2351dab3b2b139}{PICK\_ONE} && previousItem != -1) \{
1435                     \textcolor{comment}{/* if previous row was selected and we're only selecting one object,}
1436 \textcolor{comment}{                     * deselect previous row!}
1437 \textcolor{comment}{                     */}
1438                     \hyperlink{macwin_8c_a8acf8d63dbb6c0cfe910aa2d86061edd}{ToggleMenuListItemSelected} (aWin, previousItem);
1439                     \hyperlink{macwin_8c_af34b51092e7e57d78e618e84e390a80b}{ToggleMenuSelect} (aWin, previousRow);
1440                     previousItem = -1;
1441                 \}
1442 
1443                 \textcolor{keywordflow}{if} (item == -1)
1444                     \textcolor{keywordflow}{continue};   \textcolor{comment}{/* header line */}
1445                     
1446                 \textcolor{keywordflow}{if} (majorSelectState != itemIsSelected) \{
1447                     \hyperlink{macwin_8c_a8acf8d63dbb6c0cfe910aa2d86061edd}{ToggleMenuListItemSelected} (aWin, item);
1448                     \hyperlink{macwin_8c_af34b51092e7e57d78e618e84e390a80b}{ToggleMenuSelect} (aWin, currentRow);
1449                 \}
1450 
1451                 previousRow     = currentRow;
1452                 previousItem    = item;
1453             \}
1454         \} \textcolor{keywordflow}{while} (StillDown ());
1455 
1456         \textcolor{comment}{/* Dismiss window if only picking one item */}
1457         \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_ac6a901247ddc4de0deff8f4d67b716ae}{how} == \hyperlink{wintype_8h_a53377e7b2fddfaf7cc2351dab3b2b139}{PICK\_ONE})
1458             \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{AddToKeyQueue}(\hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}, 1);
1459     \}
1460 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ad52c584a908d2527bc426ff237f0f4ed}{\index{macwin.\+c@{macwin.\+c}!mac\+Click\+Message@{mac\+Click\+Message}}
\index{mac\+Click\+Message@{mac\+Click\+Message}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Click\+Message}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+Click\+Message (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ad52c584a908d2527bc426ff237f0f4ed}


Definition at line 1497 of file macwin.\+c.



References Add\+To\+Key\+Queue(), frame, mac\+Click\+Text(), topl\+\_\+resp, and topl\+\_\+resp\+\_\+rect().


\begin{DoxyCode}
1497                                                              \{
1498     \textcolor{keywordtype}{int} r\_idx = 0;
1499     Point mouse = theEvent->where;
1500 
1501     GlobalToLocal(&mouse);
1502     \textcolor{keywordflow}{while} (\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}[r\_idx]) \{
1503         Rect \hyperlink{gnmap_8c_aa96506ac11851965d0f25b0c9eb53885}{frame};
1504         \hyperlink{macwin_8c_a3947e529128a451768288e6909513754}{topl\_resp\_rect}(r\_idx, &frame);
1505         InsetRect(&frame, 1, 1);
1506         \textcolor{keywordflow}{if} (PtInRect(mouse, &frame)) \{
1507             Boolean in\_btn = \textcolor{keyword}{true};
1508 
1509             InvertRect(&frame);
1510             \textcolor{keywordflow}{while} (WaitMouseUp()) \{
1511 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
1512                 SystemTask();
1513 \textcolor{preprocessor}{#endif}
1514                 GetMouse(&mouse);
1515                 \textcolor{keywordflow}{if} (PtInRect(mouse, &frame) != in\_btn) \{
1516                     in\_btn = !in\_btn;
1517                     InvertRect(&frame);
1518                 \}
1519             \}
1520             \textcolor{keywordflow}{if} (in\_btn) \{
1521                 InvertRect(&frame);
1522                 \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{AddToKeyQueue} (\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp} [r\_idx], 1);
1523             \}
1524             \textcolor{keywordflow}{return};
1525 
1526         \}
1527         ++r\_idx;
1528     \}
1529 
1530     \hyperlink{macwin_8c_ad6a8d77f69fc0f103587107927cd617a}{macClickText}(theEvent, theWindow);
1531 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a93f410a15fe40420d7fcba67922ceae9}{\index{macwin.\+c@{macwin.\+c}!mac\+Click\+Term@{mac\+Click\+Term}}
\index{mac\+Click\+Term@{mac\+Click\+Term}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Click\+Term}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+Click\+Term (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a93f410a15fe40420d7fcba67922ceae9}


Definition at line 1535 of file macwin.\+c.



References Nh\+Window\+::char\+\_\+width, C\+L\+I\+C\+K\+\_\+1, C\+L\+I\+C\+K\+\_\+2, clicked\+\_\+mod, clicked\+\_\+pos, cursor\+\_\+locked, g\+Clicked\+To\+Move, Get\+Nh\+Win(), nhbell, Nh\+Window\+::row\+\_\+height, topl\+\_\+resp, T\+R\+U\+E, and where.


\begin{DoxyCode}
1535                                                           \{
1536     \hyperlink{structNhWindow}{NhWindow} *nhw = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin}(theWindow);
1537     Point \hyperlink{detect_8c_a8201fc0bfa35306851be2a25ab2d6263}{where} = theEvent->where;
1538 
1539     GlobalToLocal(&where);
1540     where.h = where.h / nhw->\hyperlink{structNhWindow_a6744c3a07c381cf7a485b336d7e30755}{char\_width} + 1;
1541     where.v = where.v / nhw->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1542     \hyperlink{macwin_8c_abd3980d9f9987480d5a371e6d20edf1d}{clicked\_mod} = (theEvent->modifiers & shiftKey) ? \hyperlink{wintype_8h_ac44dad3d5c7ce9d3af01d967ea38e6e9}{CLICK\_2} : 
      \hyperlink{wintype_8h_acaefc3f142237be043fe21977bf19afe}{CLICK\_1};
1543 
1544     \textcolor{keywordflow}{if} (strchr(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}, *click\_to\_cmd(where.h, where.v, \hyperlink{macwin_8c_abd3980d9f9987480d5a371e6d20edf1d}{clicked\_mod})))
1545         \hyperlink{winprocs_8h_af67660f5fad2a702109065ec601ca346}{nhbell}();
1546     \textcolor{keywordflow}{else} \{
1547 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
1548         \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_aae8fab695ceb3dae16c2613b66b31d61}{cursor\_locked})
1549             \textcolor{keywordflow}{while} (WaitMouseUp())
1550                 SystemTask();
1551 \textcolor{preprocessor}{#endif}
1552 
1553         \hyperlink{macwin_8c_aeb1f2a020b1db806b3d6fd269745955c}{gClickedToMove} = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1554         \hyperlink{macwin_8c_af23e841529e6e73bf1d37140d89e55d9}{clicked\_pos} = \hyperlink{detect_8c_a8201fc0bfa35306851be2a25ab2d6263}{where};
1555     \}
1556 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ad6a8d77f69fc0f103587107927cd617a}{\index{macwin.\+c@{macwin.\+c}!mac\+Click\+Text@{mac\+Click\+Text}}
\index{mac\+Click\+Text@{mac\+Click\+Text}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Click\+Text}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+Click\+Text (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ad6a8d77f69fc0f103587107927cd617a}


Definition at line 1479 of file macwin.\+c.



References Do\+Scroll\+Bar(), Get\+Nh\+Win(), and Nh\+Window\+::scroll\+Bar.



Referenced by mac\+Click\+Message().


\begin{DoxyCode}
1479                                                           \{
1480     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (theWindow);
1481 
1482     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar} && IsControlVisible(aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})) \{
1483         \textcolor{keywordtype}{short} code;
1484         Point p = theEvent->where;
1485         ControlHandle theBar;
1486 
1487         GlobalToLocal (&p);
1488         code = FindControl (p, theWindow, &theBar);
1489         \textcolor{keywordflow}{if} (code) \{
1490             \hyperlink{macwin_8c_a4c1496eec814dff5b89ec744998dd4f9}{DoScrollBar} (p, code, theBar, aWin);
1491         \}
1492     \}
1493 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ada7c46a648cd95a211d52998c3042e04}{\index{macwin.\+c@{macwin.\+c}!mac\+Cursor\+Term@{mac\+Cursor\+Term}}
\index{mac\+Cursor\+Term@{mac\+Cursor\+Term}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Cursor\+Term}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+Cursor\+Term (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window, }
\item[{Rgn\+Handle}]{mouse\+Rgn}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ada7c46a648cd95a211d52998c3042e04}


Definition at line 1891 of file macwin.\+c.



References Nh\+Window\+::char\+\_\+width, C\+L\+I\+C\+K\+\_\+1, cursor\+\_\+locked, Get\+Nh\+Win(), iflags, ndir, instance\+\_\+flags\+::num\+\_\+pad, qdarrow, Nh\+Window\+::row\+\_\+height, sdir, and where.


\begin{DoxyCode}
1891                                                                                \{
1892     \textcolor{keywordtype}{char} *dir\_bas, *dir;
1893     CursHandle ch;
1894     GrafPtr gp;
1895     \hyperlink{structNhWindow}{NhWindow} *nhw = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (theWindow);
1896     Rect r = \{0, 0, 1, 1\};
1897 
1898     GetPort (&gp);
1899     SetPortWindowPort(theWindow);
1900 
1901     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_aae8fab695ceb3dae16c2613b66b31d61}{cursor\_locked})
1902         dir = (\textcolor{keywordtype}{char} *)0;
1903     \textcolor{keywordflow}{else} \{
1904         Point \hyperlink{detect_8c_a8201fc0bfa35306851be2a25ab2d6263}{where} = theEvent->where;
1905 
1906         GlobalToLocal (&where);
1907         dir\_bas = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_abf8ead01634763341598a10bd5052f7e}{num\_pad} ? (\textcolor{keywordtype}{char} *) \hyperlink{decl_8h_a03bd381af1df9826fdd1359cb82fbb09}{ndir} : (\textcolor{keywordtype}{char} *) 
      \hyperlink{decl_8h_a0480a8811b9adb2f9de241a136d62326}{sdir};
1908         dir = strchr (dir\_bas, *click\_to\_cmd (where.h / nhw->\hyperlink{structNhWindow_a6744c3a07c381cf7a485b336d7e30755}{char\_width} + 1 ,
1909                             where.v / nhw->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height}, \hyperlink{wintype_8h_acaefc3f142237be043fe21977bf19afe}{CLICK\_1}));
1910     \}
1911     ch = GetCursor (dir ? dir - dir\_bas + 513 : 512);
1912     \textcolor{keywordflow}{if} (ch) \{
1913         HLock ((Handle) ch);
1914         SetCursor (*ch);
1915         HUnlock ((Handle) ch);
1916 
1917     \} \textcolor{keywordflow}{else} \{
1918         SetCursor(&\hyperlink{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{qdarrow});
1919     \}
1920     OffsetRect (&r, theEvent->where.h, theEvent->where.v);
1921     RectRgn (mouseRgn, &r);
1922     SetPort (gp);
1923 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a94291e136a595978c09ac142a4840948}{\index{macwin.\+c@{macwin.\+c}!mac\+Do\+Null@{mac\+Do\+Null}}
\index{mac\+Do\+Null@{mac\+Do\+Null}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Do\+Null}]{\setlength{\rightskip}{0pt plus 5cm}static short mac\+Do\+Null (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a94291e136a595978c09ac142a4840948}


Definition at line 1668 of file macwin.\+c.


\begin{DoxyCode}
1668                                                        \{
1669     \textcolor{keywordflow}{return} 0;
1670 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a0890e06727e3e4f0446968f1d60388bc}{\index{macwin.\+c@{macwin.\+c}!mac\+Key\+Menu@{mac\+Key\+Menu}}
\index{mac\+Key\+Menu@{mac\+Key\+Menu}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Key\+Menu}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+Key\+Menu (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a0890e06727e3e4f0446968f1d60388bc}


Definition at line 1355 of file macwin.\+c.



References Mac\+M\+H\+Menu\+Item\+::accelerator, Add\+To\+Key\+Queue(), C\+H\+A\+R\+\_\+\+C\+R, filter\+\_\+scroll\+\_\+key(), General\+Key(), Get\+Nh\+Win(), Nh\+Window\+::how, Mac\+M\+H\+Menu\+Item\+::line, Nh\+Window\+::menu\+Info, Nh\+Window\+::mi\+Len, P\+I\+C\+K\+\_\+\+A\+N\+Y, Nh\+Window\+::scroll\+Pos, Toggle\+Menu\+List\+Item\+Selected(), Toggle\+Menu\+Select(), and Nh\+Window\+::y\+\_\+size.


\begin{DoxyCode}
1355                                                         \{
1356     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin}(theWindow);
1357     \hyperlink{structMacMHMenuItem}{MacMHMenuItem} *\hyperlink{structmi}{mi};
1358     \textcolor{keywordtype}{int} l, ch = theEvent->message & 0xff;
1359 
1360     \textcolor{keywordflow}{if} (aWin && aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo}) \{
1361         HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
1362         \textcolor{keywordflow}{for} (l = 0, mi = *aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo}; l < aWin->miLen; l++, mi++) \{
1363             \textcolor{keywordflow}{if} (mi->\hyperlink{structMacMHMenuItem_a19ed13b1c2fe005f86a1697cbc08bd7c}{accelerator} == ch) \{
1364                 \hyperlink{macwin_8c_a8acf8d63dbb6c0cfe910aa2d86061edd}{ToggleMenuListItemSelected} (aWin, l);
1365                 \textcolor{keywordflow}{if} (mi->\hyperlink{structMacMHMenuItem_a0e9a0b7017f49c63040969a1912fcaf6}{line} >= aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} && mi->\hyperlink{structMacMHMenuItem_a0e9a0b7017f49c63040969a1912fcaf6}{line} <= aWin->
      \hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size}) \{
1366                     SetPortWindowPort(theWindow);
1367                     \hyperlink{macwin_8c_af34b51092e7e57d78e618e84e390a80b}{ToggleMenuSelect} (aWin, mi->\hyperlink{structMacMHMenuItem_a0e9a0b7017f49c63040969a1912fcaf6}{line} - aWin->
      \hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos});
1368                 \}               
1369                 \textcolor{comment}{/* Dismiss window if only picking one item */}
1370                 \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_ac6a901247ddc4de0deff8f4d67b716ae}{how} != \hyperlink{wintype_8h_a2bd6d317ee7338c416301da3d054dd9f}{PICK\_ANY})
1371                     \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{AddToKeyQueue}(\hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}, 1);
1372                 \textcolor{keywordflow}{break};
1373             \}
1374         \}
1375         HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
1376         \textcolor{comment}{/* add key if didn't find it in menu and not filtered */}
1377         \textcolor{keywordflow}{if} (l == aWin->\hyperlink{structNhWindow_ad3a28bda1cad1fb265f19d598da63cf5}{miLen} && \hyperlink{macwin_8c_a89bc2fc153cc2238c0de103b4bbe3b8d}{filter\_scroll\_key} (ch, aWin))
1378             \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{GeneralKey} (theEvent, theWindow);
1379     \}
1380 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aebe151c232d20a8c35c0525292a9df2e}{\index{macwin.\+c@{macwin.\+c}!mac\+Key\+Text@{mac\+Key\+Text}}
\index{mac\+Key\+Text@{mac\+Key\+Text}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Key\+Text}]{\setlength{\rightskip}{0pt plus 5cm}static void mac\+Key\+Text (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aebe151c232d20a8c35c0525292a9df2e}


Definition at line 1464 of file macwin.\+c.



References Closing\+Window\+Char(), filter\+\_\+scroll\+\_\+key(), General\+Key(), Get\+Nh\+Win(), in\+Select, mac\+\_\+destroy\+\_\+nhwindow(), and W\+I\+N\+\_\+\+E\+R\+R.


\begin{DoxyCode}
1464                                                         \{
1465     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (theWindow);
1466     \textcolor{keywordtype}{char} c = \hyperlink{macwin_8c_a89bc2fc153cc2238c0de103b4bbe3b8d}{filter\_scroll\_key} (theEvent->message & 0xff, aWin);
1467     \textcolor{keywordflow}{if} (c) \{
1468         \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect} == \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} && \hyperlink{macwin_8c_a3712e3ae7c6e1a14c331cd5218b29ecb}{ClosingWindowChar} (c)) \{
1469             HideWindow (theWindow);
1470             \hyperlink{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}{mac\_destroy\_nhwindow} (aWin - \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows});
1471         \} \textcolor{keywordflow}{else} \{
1472             \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{GeneralKey} (theEvent, theWindow);
1473         \}
1474     \}
1475 \}
\end{DoxyCode}
\hypertarget{macwin_8c_aaeef7f3ede28e8da8239c1036862efd1}{\index{macwin.\+c@{macwin.\+c}!mac\+Update\+Menu@{mac\+Update\+Menu}}
\index{mac\+Update\+Menu@{mac\+Update\+Menu}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Update\+Menu}]{\setlength{\rightskip}{0pt plus 5cm}static short mac\+Update\+Menu (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aaeef7f3ede28e8da8239c1036862efd1}


Definition at line 1819 of file macwin.\+c.



References General\+Update(), Get\+Nh\+Win(), Mac\+M\+H\+Menu\+Item\+::line, Nh\+Window\+::menu\+Info, Nh\+Window\+::menu\+Selected, Nh\+Window\+::mi\+Sel\+Len, Nh\+Window\+::scroll\+Pos, and Toggle\+Menu\+Select().


\begin{DoxyCode}
1819                                                            \{
1820     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin} (theWindow);
1821     \textcolor{keywordtype}{int} i, line;
1822     \hyperlink{structMacMHMenuItem}{MacMHMenuItem} *\hyperlink{structmi}{mi};
1823     
1824     \hyperlink{macwin_8c_ac218a718ae77d8381666c7d7c4dc6dee}{GeneralUpdate} (theEvent, theWindow);
1825     HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
1826     HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
1827     \textcolor{keywordflow}{for} (i = 0; i < aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen}; i++) \{
1828         mi = &(*aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo}) [(*aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected}) [i]];
1829         line = mi->\hyperlink{structMacMHMenuItem_a0e9a0b7017f49c63040969a1912fcaf6}{line};
1830         \textcolor{keywordflow}{if} (line > aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} && line <= aWin->y\_size)
1831             \hyperlink{macwin_8c_af34b51092e7e57d78e618e84e390a80b}{ToggleMenuSelect} (aWin, line - aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos});
1832     \}
1833     HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_a89047d040986f9093c06241a64f5c6ee}{menuInfo});
1834     HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
1835     \textcolor{keywordflow}{return} 0;
1836 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a12c44076186c75b4365ad42246792773}{\index{macwin.\+c@{macwin.\+c}!mac\+Update\+Message@{mac\+Update\+Message}}
\index{mac\+Update\+Message@{mac\+Update\+Message}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Update\+Message}]{\setlength{\rightskip}{0pt plus 5cm}static short mac\+Update\+Message (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a12c44076186c75b4365ad42246792773}


Definition at line 1695 of file macwin.\+c.



References C\+H\+A\+R\+\_\+\+A\+N\+Y, Nh\+Window\+::font\+\_\+number, Nh\+Window\+::font\+\_\+size, frame, Get\+Nh\+Win(), in\+\_\+topl\+\_\+mode(), M\+I\+N\+\_\+\+R\+I\+G\+H\+T, name, Nh\+Window\+::row\+\_\+height, Nh\+Window\+::save\+\_\+lin, S\+B\+A\+R\+H\+E\+I\+G\+H\+T, S\+B\+A\+R\+W\+I\+D\+T\+H, Nh\+Window\+::scroll\+Pos, top\+\_\+line, topl\+\_\+def\+\_\+idx, topl\+\_\+resp, topl\+\_\+resp\+\_\+rect(), Nh\+Window\+::window\+Text, Nh\+Window\+::window\+Text\+Len, and Nh\+Window\+::y\+\_\+size.


\begin{DoxyCode}
1696 \{
1697     RgnHandle org\_clip = NewRgn(), clip = NewRgn();
1698     Rect r;
1699     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin}(theWindow);
1700     \textcolor{keywordtype}{int} l;
1701 
1702     \textcolor{keywordflow}{if} (!theEvent)
1703         \textcolor{keywordflow}{return} 0;
1704 
1705     GetClip(org\_clip);
1706     GetWindowBounds(theWindow, kWindowContentRgn, &r);
1707     OffsetRect(&r, -r.left, -r.top);
1708 
1709     DrawControls(theWindow);
1710     DrawGrowIcon(theWindow);
1711 
1712     \textcolor{keywordflow}{for} (l = 0; \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}[l]; l++) \{
1713         StringPtr \hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name};
1714         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} tmp[2];
1715         FontInfo font;
1716         Rect \hyperlink{gnmap_8c_aa96506ac11851965d0f25b0c9eb53885}{frame};
1717         \hyperlink{macwin_8c_a3947e529128a451768288e6909513754}{topl\_resp\_rect}(l, &frame);
1718         \textcolor{keywordflow}{switch} (\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}[l]) \{
1719             \textcolor{keywordflow}{case} \textcolor{charliteral}{'y'}:
1720                 name = \textcolor{stringliteral}{"\(\backslash\)pyes"};
1721                 \textcolor{keywordflow}{break};
1722             \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:
1723                 name = \textcolor{stringliteral}{"\(\backslash\)pno"};
1724                 \textcolor{keywordflow}{break};
1725             \textcolor{keywordflow}{case} \textcolor{charliteral}{'N'}:
1726                 name = \textcolor{stringliteral}{"\(\backslash\)pNone"};
1727                 \textcolor{keywordflow}{break};
1728             \textcolor{keywordflow}{case} \textcolor{charliteral}{'a'}:
1729                 name = \textcolor{stringliteral}{"\(\backslash\)pall"};
1730                 \textcolor{keywordflow}{break};
1731             \textcolor{keywordflow}{case} \textcolor{charliteral}{'q'}:
1732                 name = \textcolor{stringliteral}{"\(\backslash\)pquit"};
1733                 \textcolor{keywordflow}{break};
1734             \textcolor{keywordflow}{case} \hyperlink{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}{CHAR\_ANY}:
1735                 name = \textcolor{stringliteral}{"\(\backslash\)pany key"};
1736                 \textcolor{keywordflow}{break};
1737             \textcolor{keywordflow}{default}:
1738                 tmp[0] = 1;
1739                 tmp[1] = \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}[l];
1740                 name = tmp;
1741                 \textcolor{keywordflow}{break};
1742         \}
1743         TextFont(kFontIDGeneva);
1744         TextSize(9);
1745         GetFontInfo(&font);
1746         MoveTo ((frame.left + frame.right - StringWidth(name)) / 2,
1747             (frame.top + frame.bottom + font.ascent-font.descent-font.leading-1) / 2);
1748         DrawString(name);
1749         PenNormal();
1750         \textcolor{keywordflow}{if} (l == \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx})
1751             PenSize(2, 2);
1752         FrameRoundRect(&frame, 4, 4);
1753     \}
1754 
1755     r.right -= \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
1756     r.bottom -= \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT};
1757     \textcolor{comment}{/* Clip to the portrect - scrollbar/growicon *before* adjusting the rect}
1758 \textcolor{comment}{        to be larger than the size of the window (!) */}
1759     RectRgn(clip, &r);
1760     SectRgn(clip, org\_clip, clip);
1761     \textcolor{keywordflow}{if} (r.right < \hyperlink{macwin_8h_ab9ca6860a72826274d4adcfebcd16fff}{MIN\_RIGHT})
1762         r.right = \hyperlink{macwin_8h_ab9ca6860a72826274d4adcfebcd16fff}{MIN\_RIGHT};
1763     r.top -= aWin->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1764 
1765 \textcolor{preprocessor}{#if 0}
1766     \textcolor{comment}{/* If you enable this band of code (and disable the next band), you will get}
1767 \textcolor{comment}{       fewer flickers but a slower performance while drawing the dot line. */}
1768     \{   RgnHandle dotl\_rgn = NewRgn();
1769         Rect dotl;
1770         dotl.left   = r.left;
1771         dotl.right  = r.right;
1772         dotl.bottom = r.top + aWin->\hyperlink{structNhWindow_a5df57289ac1b5436228829358f8f9f38}{save\_lin} * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1773         dotl.top    = dotl.bottom - 1;
1774         FillRect(&dotl, &qd.gray);
1775         RectRgn(dotl\_rgn, &dotl);
1776         DiffRgn(clip, dotl\_rgn, clip);
1777         DisposeRgn(dotl\_rgn);
1778         SetClip(clip);
1779     \}
1780 \textcolor{preprocessor}{#endif}
1781 
1782     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a434413472f44c8167ec5898d18c84eee}{in\_topl\_mode}()) \{
1783         RgnHandle topl\_rgn = NewRgn();
1784         Rect topl\_r = r;
1785         topl\_r.top += (aWin->\hyperlink{structNhWindow_ace64e7fc7598255924aaa8334766feff}{y\_size} - 1) * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1786         l = (*top\_line)->destRect.right - (*top\_line)->destRect.left;
1787         (*top\_line)->viewRect = topl\_r;
1788         (*top\_line)->destRect = topl\_r;
1789         if (l != topl\_r.right - topl\_r.left)
1790             TECalText(\hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
1791         TEUpdate(&topl\_r, \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
1792         RectRgn(topl\_rgn, &topl\_r);
1793         DiffRgn(clip, topl\_rgn, clip);
1794         DisposeRgn(topl\_rgn);
1795         SetClip(clip);
1796     \}
1797 
1798     DisposeRgn(clip);
1799 
1800     TextFont (aWin->\hyperlink{structNhWindow_a69b70dabcb069d8584b5bdf7acb31a61}{font\_number});
1801     TextSize (aWin->\hyperlink{structNhWindow_a2748f3b69f3d3e42fdaf8171cbbdb367}{font\_size});
1802     HLock (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText});
1803     TETextBox (*aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText}, aWin->\hyperlink{structNhWindow_a5705364a1f7bdbf0d56b1c420c3d5fdc}{windowTextLen}, &r, teJustLeft);
1804     HUnlock (aWin->\hyperlink{structNhWindow_a24bc4dcae5833a3e4a53fd6313380c1f}{windowText});
1805 
1806 \textcolor{preprocessor}{#if !TARGET\_API\_MAC\_CARBON}
1807     r.bottom = r.top + aWin->\hyperlink{structNhWindow_a5df57289ac1b5436228829358f8f9f38}{save\_lin} * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1808     r.top    = r.bottom - 1;
1809     FillRect(&r, (\textcolor{keywordtype}{void} *) &qd.gray);
1810 \textcolor{preprocessor}{#endif}
1811 
1812     SetClip(org\_clip);
1813     DisposeRgn(org\_clip);
1814     \textcolor{keywordflow}{return} 0;
1815 \}
\end{DoxyCode}
\hypertarget{macwin_8c_acf2dad7fc6c7123f690d53eaac73a718}{\index{macwin.\+c@{macwin.\+c}!Move\+Scroll\+Bar@{Move\+Scroll\+Bar}}
\index{Move\+Scroll\+Bar@{Move\+Scroll\+Bar}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Move\+Scroll\+Bar}]{\setlength{\rightskip}{0pt plus 5cm}static pascal void Move\+Scroll\+Bar (
\begin{DoxyParamCaption}
\item[{Control\+Handle}]{the\+Bar, }
\item[{short}]{part}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_acf2dad7fc6c7123f690d53eaac73a718}


Definition at line 1559 of file macwin.\+c.



References Nh\+Window\+::row\+\_\+height, S\+B\+A\+R\+H\+E\+I\+G\+H\+T, S\+B\+A\+R\+W\+I\+D\+T\+H, Nh\+Window\+::scroll\+Pos, W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by filter\+\_\+scroll\+\_\+key(), Init\+Mac(), and mac\+\_\+doprev\+\_\+message().


\begin{DoxyCode}
1559                                                  \{
1560     EventRecord fake;
1561     Rect r;
1562     RgnHandle rgn;
1563     \textcolor{keywordtype}{int} now, amtToScroll;
1564     WindowPtr theWin;
1565     \hyperlink{structNhWindow}{NhWindow} *winToScroll;
1566     
1567     \textcolor{keywordflow}{if} (!part)
1568         \textcolor{keywordflow}{return};
1569 
1570     theWin = GetControlOwner(theBar);
1571     GetWindowBounds(theWin, kWindowContentRgn, &r);
1572     OffsetRect(&r, -r.left, -r.top);
1573     winToScroll = (\hyperlink{structNhWindow}{NhWindow}*)(GetWRefCon(theWin));
1574     now = GetControlValue (theBar);
1575 
1576     \textcolor{keywordflow}{if} (part == kControlPageUpPart || part == kControlPageDownPart) 
1577         amtToScroll = (r.bottom - r.top) / winToScroll->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1578     \textcolor{keywordflow}{else}
1579         amtToScroll = 1;
1580 
1581     if (part == kControlPageUpPart || part == kControlUpButtonPart) \{
1582         \textcolor{keywordtype}{int} bound = GetControlMinimum (theBar);
1583         \textcolor{keywordflow}{if} (now - bound < amtToScroll)
1584             amtToScroll = now - bound;
1585         amtToScroll = -amtToScroll;
1586     \} \textcolor{keywordflow}{else} \{
1587         \textcolor{keywordtype}{int} bound = GetControlMaximum (theBar);
1588         \textcolor{keywordflow}{if} (bound - now < amtToScroll)
1589             amtToScroll = bound - now;
1590     \}
1591     
1592     \textcolor{keywordflow}{if} (!amtToScroll)
1593         \textcolor{keywordflow}{return};
1594 
1595     SetControlValue (theBar, now + amtToScroll);
1596     winToScroll->\hyperlink{structNhWindow_a4c65211aa8af5e5dd5049aaf7c4b7ef3}{scrollPos} = now + amtToScroll;
1597     r.right -= \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};
1598     \textcolor{keywordflow}{if} (winToScroll == \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} + \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE})
1599         r.bottom -= \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT};
1600     rgn = NewRgn ();
1601     ScrollRect (&r, 0, -amtToScroll * winToScroll->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height}, rgn);
1602     \textcolor{keywordflow}{if} (rgn) \{
1603         InvalWindowRgn(theWin, rgn);
1604         BeginUpdate(theWin);
1605     \}
1606     \hyperlink{macwin_8c_ad03b6e633e2d04a0edb8ac4b4722266b}{winUpdateFuncs} [GetWindowKind(theWin) - \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND}] (&fake, theWin);
1607     \textcolor{keywordflow}{if} (rgn) \{
1608         EndUpdate(theWin);
1609         DisposeRgn(rgn);
1610     \}
1611 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a7885971a85f8a1dd8f2471d305352c49}{\index{macwin.\+c@{macwin.\+c}!port\+\_\+help@{port\+\_\+help}}
\index{port\+\_\+help@{port\+\_\+help}!macwin.\+c@{macwin.\+c}}
\subsubsection[{port\+\_\+help}]{\setlength{\rightskip}{0pt plus 5cm}void port\+\_\+help (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a7885971a85f8a1dd8f2471d305352c49}


Definition at line 2555 of file macwin.\+c.



References display\+\_\+file, P\+O\+R\+T\+\_\+\+H\+E\+L\+P, and T\+R\+U\+E.



Referenced by dohelp().


\begin{DoxyCode}
2555              \{
2556     \hyperlink{winprocs_8h_a9a2d6fa35e52cd43166e411ec33926ef}{display\_file} (\hyperlink{amiconf_8h_adea5f27d2fa7b84c0d6458e64f551724}{PORT\_HELP}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
2557 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ae26faf77cc3fdb92b35d8f010f7679b7}{\index{macwin.\+c@{macwin.\+c}!Sane\+Positions@{Sane\+Positions}}
\index{Sane\+Positions@{Sane\+Positions}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Sane\+Positions}]{\setlength{\rightskip}{0pt plus 5cm}int Sane\+Positions (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{macwin_8c_ae26faf77cc3fdb92b35d8f010f7679b7}


Definition at line 482 of file macwin.\+c.



References \+\_\+mt\+\_\+window, B\+A\+S\+E\+\_\+\+W\+I\+N\+D\+O\+W, Draw\+Scrollbar(), height, Nh\+Window\+::its\+\_\+window, k\+Map\+Window, k\+Menu\+Window, k\+Message\+Window, k\+Text\+Window, M\+A\+X\+\_\+\+H\+E\+I\+G\+H\+T, M\+I\+N\+\_\+\+H\+E\+I\+G\+H\+T, M\+I\+N\+\_\+\+W\+I\+D\+T\+H, N\+H\+W\+\_\+\+M\+E\+N\+U, N\+U\+L\+L, N\+U\+M\+\_\+\+M\+A\+C\+W\+I\+N\+D\+O\+W\+S, Retrieve\+Position(), Retrieve\+Size(), S\+B\+A\+R\+H\+E\+I\+G\+H\+T, Nh\+Window\+::scroll\+Bar, small\+\_\+screen, width, W\+I\+N\+\_\+\+B\+A\+S\+E\+\_\+\+K\+I\+N\+D, W\+I\+N\+\_\+\+M\+A\+P, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, and W\+I\+N\+\_\+\+S\+T\+A\+T\+U\+S.



Referenced by Do\+Menu\+Evt().


\begin{DoxyCode}
483 \{
484 \textcolor{preprocessor}{#if TARGET\_API\_MAC\_CARBON}
485     ConstrainWindowToScreen(\hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}, kWindowStructureRgn,
486         kWindowConstrainMoveRegardlessOfFit, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
487 \textcolor{preprocessor}{#else}
488     \textcolor{keywordtype}{short} left, top, \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width}, \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height};
489     \textcolor{keywordtype}{int} ix, numText = 0, numMenu = 0;
490     \textcolor{keywordtype}{int} mbar\_height = GetMBarHeight();
491     BitMap qbitmap;
492     Rect screenArea;
493     WindowPtr theWindow;
494     \hyperlink{structNhWindow}{NhWindow} *nhWin;
495 
496 
497     screenArea = GetQDGlobalsScreenBits(&qbitmap)->bounds;
498     OffsetRect (&screenArea, - screenArea.left, - screenArea.top);
499 
500 \textcolor{comment}{/* Map Window */}
501     height = \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}->portRect.bottom - \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}->portRect.top;
502     width = \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}->portRect.right - \hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}->portRect.left;
503 
504     \textcolor{keywordflow}{if} (!\hyperlink{macwin_8h_a049bd60d33392303a780f0da16ad510d}{RetrievePosition} (\hyperlink{macwin_8h_a4d35107d0f0acca7a354973dd7b7627b}{kMapWindow}, &top, &left)) \{
505         top = mbar\_height + (\hyperlink{macwin_8c_a8a5ea2741f1acdae94edc68d0cd48dff}{small\_screen} ? 2 : 20);
506         left = (screenArea.right - \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width}) / 2;
507     \}
508     MoveWindow (\hyperlink{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\_mt\_window}, left, top, 1);
509 
510 \textcolor{comment}{/* Message Window */}
511     \textcolor{keywordflow}{if} (!\hyperlink{macwin_8h_a049bd60d33392303a780f0da16ad510d}{RetrievePosition} (\hyperlink{macwin_8h_a54757a5fc233594015c43bc1dbde2411}{kMessageWindow}, &top, &left)) \{
512         top += \hyperlink{xpm2img_8c_ad12fc34ce789bce6c8a05d8a17138534}{height};
513         \textcolor{keywordflow}{if} (!\hyperlink{macwin_8c_a8a5ea2741f1acdae94edc68d0cd48dff}{small\_screen})
514             top += 20;
515     \}
516 
517     \textcolor{keywordflow}{if} (!\hyperlink{macwin_8h_aa04da4cc0685c5f5cb177fd01b719907}{RetrieveSize} (\hyperlink{macwin_8h_a54757a5fc233594015c43bc1dbde2411}{kMessageWindow}, top, left, &height, &width)) \{
518         height = screenArea.bottom - top - (\hyperlink{macwin_8c_a8a5ea2741f1acdae94edc68d0cd48dff}{small\_screen} ? 2-
      \hyperlink{macwin_8c_a9a3fdf53278d8956e0299050680962d0}{SBARHEIGHT} : 2);
519         \textcolor{keywordflow}{if} (height > \hyperlink{macwin_8c_a9059fa76eb5e8e86f870405d63e72c4c}{MAX\_HEIGHT}) \{
520             height = \hyperlink{macwin_8c_a9059fa76eb5e8e86f870405d63e72c4c}{MAX\_HEIGHT};
521         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (height < \hyperlink{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{MIN\_HEIGHT}) \{
522             height = \hyperlink{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{MIN\_HEIGHT};
523             width = \hyperlink{macwin_8c_ad3ee0cc681d736cb6d41c4ebb04c0ae4}{MIN\_WIDTH};
524             left = screenArea.right - \hyperlink{xpm2img_8c_a2474a5474cbff19523a51eb1de01cda4}{width};
525             top = screenArea.bottom - \hyperlink{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{MIN\_HEIGHT};
526         \}
527     \}
528 
529 \textcolor{comment}{/* Move these windows */}
530     nhWin = \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} + \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE};
531     theWindow = nhWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
532 
533     MoveWindow (theWindow, left, top, 1);
534     SizeWindow (theWindow, width, height, 1);
535     \textcolor{keywordflow}{if} (nhWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})
536         \hyperlink{macwin_8c_aee163f928c72f988fdd7e30d99c26665}{DrawScrollbar} (nhWin);
537 
538     \textcolor{comment}{/* Handle other windows */}
539     \textcolor{keywordflow}{for} (ix = 0; ix < \hyperlink{macwin_8h_a17b0cb23522b260e4cff93f4c97b02df}{NUM\_MACWINDOWS}; ix ++) \{
540         \textcolor{keywordflow}{if} (ix != \hyperlink{decl_8h_ae0690a38fd295760409995ce03b88329}{WIN\_STATUS} && ix != WIN\_MESSAGE && ix != \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP} && ix != 
      \hyperlink{macwin_8h_ae4953eaaa3eb35f44202570145558c93}{BASE\_WINDOW}) \{
541             theWindow = \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} [ix].\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window};
542             \textcolor{keywordflow}{if} (theWindow && ((WindowPeek) theWindow)->visible) \{
543                 \textcolor{keywordtype}{int} shift;
544                 \textcolor{keywordflow}{if} (((WindowPeek)theWindow)->windowKind == \hyperlink{mactty_8h_ad35d647bd9f45579664218f94df87e13}{WIN\_BASE\_KIND} + 
      \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}) \{
545                     \textcolor{keywordflow}{if} (!\hyperlink{macwin_8h_a049bd60d33392303a780f0da16ad510d}{RetrievePosition} (\hyperlink{macwin_8h_ae64931f46fa0a23ee6ee32ff86d0f614}{kMenuWindow}, &top, &left)) \{
546                         top = mbar\_height * 2;
547                         left = 2;
548                     \}
549                     top += (numMenu * mbar\_height);
550                     numMenu++;
551                     shift = 20;
552                 \} \textcolor{keywordflow}{else} \{
553                     \textcolor{keywordflow}{if} (!\hyperlink{macwin_8h_a049bd60d33392303a780f0da16ad510d}{RetrievePosition} (\hyperlink{macwin_8h_a40128d5a2962f7b7d78087f264ee29f8}{kTextWindow}, &top, &left)) \{
554                         top = mbar\_height * 2;
555                         left = screenArea.right - 3 - 
556                             (theWindow->portRect.right - theWindow->portRect.left);
557                     \}
558                     top += (numText * mbar\_height);
559                     numText++;
560                     shift = -20;
561                 \}
562                 \textcolor{keywordflow}{while} (top > screenArea.bottom - \hyperlink{macwin_8c_a1610a21b358c3531db64b3208fa70e5b}{MIN\_HEIGHT}) \{
563                     top -= screenArea.bottom - mbar\_height * 2;
564                     left += shift;
565                 \}
566                 MoveWindow (theWindow, left, top, 1);
567             \}
568         \}
569     \}
570 \textcolor{preprocessor}{#endif}
571     \textcolor{keywordflow}{return} (0);
572 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a3e3be294227e037d746625d7098c4cd7}{\index{macwin.\+c@{macwin.\+c}!set\+\_\+tty\+\_\+font\+\_\+name@{set\+\_\+tty\+\_\+font\+\_\+name}}
\index{set\+\_\+tty\+\_\+font\+\_\+name@{set\+\_\+tty\+\_\+font\+\_\+name}!macwin.\+c@{macwin.\+c}}
\subsubsection[{set\+\_\+tty\+\_\+font\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}short set\+\_\+tty\+\_\+font\+\_\+name (
\begin{DoxyParamCaption}
\item[{int}]{window\+\_\+type, }
\item[{char $\ast$}]{font\+\_\+name}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a3e3be294227e037d746625d7098c4cd7}


Definition at line 400 of file macwin.\+c.



References C2\+P(), general\+\_\+failure, and N\+H\+W\+\_\+\+T\+E\+X\+T.


\begin{DoxyCode}
400                                                      \{
401     \textcolor{keywordtype}{short} fnum;
402     Str255 new\_font;
403     
404     \textcolor{keywordflow}{if} (window\_type < NHW\_BASE || window\_type > \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT})
405         \textcolor{keywordflow}{return} \hyperlink{mactty_8h_ad89789ce0110f07ae3b0948402ced161}{general\_failure};
406         
407     \hyperlink{macfile_8c_a83774f183f96a11c2fb8314369d23c44}{C2P} (font\_name, new\_font);
408     GetFNum (new\_font, &(fnum));
409     \textcolor{keywordflow}{if} (!fnum)
410         \textcolor{keywordflow}{return} \hyperlink{mactty_8h_ad89789ce0110f07ae3b0948402ced161}{general\_failure};
411     \hyperlink{macwin_8c_a25a6264621fb560911adf73a139510d5}{win\_fonts} [window\_type] = fnum;
412     \textcolor{keywordflow}{return} noErr;
413 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a8acf8d63dbb6c0cfe910aa2d86061edd}{\index{macwin.\+c@{macwin.\+c}!Toggle\+Menu\+List\+Item\+Selected@{Toggle\+Menu\+List\+Item\+Selected}}
\index{Toggle\+Menu\+List\+Item\+Selected@{Toggle\+Menu\+List\+Item\+Selected}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Toggle\+Menu\+List\+Item\+Selected}]{\setlength{\rightskip}{0pt plus 5cm}static void Toggle\+Menu\+List\+Item\+Selected (
\begin{DoxyParamCaption}
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win, }
\item[{short}]{item}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a8acf8d63dbb6c0cfe910aa2d86061edd}


Definition at line 1317 of file macwin.\+c.



References List\+Item\+Selected(), Nh\+Window\+::menu\+Selected, and Nh\+Window\+::mi\+Sel\+Len.



Referenced by mac\+Click\+Menu(), and mac\+Key\+Menu().


\begin{DoxyCode}
1317                                                         \{
1318     \textcolor{keywordtype}{int} i = \hyperlink{macwin_8c_a59d599bb38f8b26971812b83e22bea01}{ListItemSelected} (aWin, item);
1319 
1320     HLock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
1321     \textcolor{keywordflow}{if} (i < 0) \{    \textcolor{comment}{/* not there, so add */}
1322         (*aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected}) [aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen}] = item;
1323         aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen}++;
1324     \}
1325     \textcolor{keywordflow}{else} \{          \textcolor{comment}{/* there, so remove */}
1326         \textcolor{keywordtype}{short} *\hyperlink{structmi}{mi} = &(*aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected})[i];
1327         aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen} --;
1328         memcpy (mi, mi + 1, (aWin->\hyperlink{structNhWindow_acf4c482c6ba7d237118a81148d838c17}{miSelLen} - i)*\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{short}));
1329     \}
1330     HUnlock ((\textcolor{keywordtype}{char}**)aWin->\hyperlink{structNhWindow_af71d68bfa21e395133a3df5ad7d16a5b}{menuSelected});
1331 \}
\end{DoxyCode}
\hypertarget{macwin_8c_af34b51092e7e57d78e618e84e390a80b}{\index{macwin.\+c@{macwin.\+c}!Toggle\+Menu\+Select@{Toggle\+Menu\+Select}}
\index{Toggle\+Menu\+Select@{Toggle\+Menu\+Select}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Toggle\+Menu\+Select}]{\setlength{\rightskip}{0pt plus 5cm}static void Toggle\+Menu\+Select (
\begin{DoxyParamCaption}
\item[{{\bf Nh\+Window} $\ast$}]{a\+Win, }
\item[{int}]{line}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af34b51092e7e57d78e618e84e390a80b}


Definition at line 1280 of file macwin.\+c.



References Nh\+Window\+::its\+\_\+window, Nh\+Window\+::row\+\_\+height, S\+B\+A\+R\+W\+I\+D\+T\+H, and Nh\+Window\+::scroll\+Bar.



Referenced by mac\+Click\+Menu(), mac\+Key\+Menu(), and mac\+Update\+Menu().


\begin{DoxyCode}
1280                                                         \{
1281     Rect r;
1282 
1283 
1284     GetWindowBounds(aWin->\hyperlink{structNhWindow_a68dc7295b79e14f4a78a0040c15888e5}{its\_window}, kWindowContentRgn, &r);
1285     OffsetRect(&r, -r.left, -r.top);
1286     \textcolor{keywordflow}{if} (aWin->\hyperlink{structNhWindow_a37c4c6314ea6315bb4e99c33d432d491}{scrollBar})
1287         r.right -= \hyperlink{macwin_8c_a26d0349161f3ab8698890a7aecdb536e}{SBARWIDTH};          
1288     r.top = line * aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1289     r.bottom = r.top + aWin->\hyperlink{structNhWindow_a2df8c3e9deac0c0d0a5d9793b7470055}{row\_height};
1290 
1291     LMSetHiliteMode((UInt8) (LMGetHiliteMode() & 0x7F));
1292     InvertRect(&r);
1293 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ac80a2afc32246f52037f921db622433b}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+flash\+\_\+resp@{topl\+\_\+flash\+\_\+resp}}
\index{topl\+\_\+flash\+\_\+resp@{topl\+\_\+flash\+\_\+resp}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+flash\+\_\+resp}]{\setlength{\rightskip}{0pt plus 5cm}static void topl\+\_\+flash\+\_\+resp (
\begin{DoxyParamCaption}
\item[{int}]{resp\+\_\+idx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ac80a2afc32246f52037f921db622433b}


Definition at line 963 of file macwin.\+c.



References Delay(), frame, topl\+\_\+resp\+\_\+rect(), and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by topl\+\_\+resp\+\_\+key().


\begin{DoxyCode}
963                               \{
964     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} dont\_care;
965     Rect \hyperlink{gnmap_8c_aa96506ac11851965d0f25b0c9eb53885}{frame};
966     SetPortWindowPort(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window);
967     \hyperlink{macwin_8c_a3947e529128a451768288e6909513754}{topl\_resp\_rect}(resp\_idx, &frame);
968     InsetRect(&frame, 1, 1);
969     InvertRect(&frame);
970     \hyperlink{celib_8c_a9efdce133fda030ebb0c7793ffc03d14}{Delay}(GetDblTime() / 2, &dont\_care);
971     InvertRect(&frame);
972 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ad44c530babce8818eb2c79e0caa3d441}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+key@{topl\+\_\+key}}
\index{topl\+\_\+key@{topl\+\_\+key}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+key}]{\setlength{\rightskip}{0pt plus 5cm}Boolean topl\+\_\+key (
\begin{DoxyParamCaption}
\item[{unsigned char}]{ch, }
\item[{Boolean}]{ext}
\end{DoxyParamCaption}
)}}\label{macwin_8c_ad44c530babce8818eb2c79e0caa3d441}


Definition at line 917 of file macwin.\+c.



References C\+H\+A\+R\+\_\+\+B\+S, C\+H\+A\+R\+\_\+\+C\+R, C\+H\+A\+R\+\_\+\+E\+N\+T\+E\+R, C\+H\+A\+R\+\_\+\+E\+S\+C, C\+H\+A\+R\+\_\+\+L\+F, ext\+\_\+func\+\_\+tab\+::ef\+\_\+txt, extcmdlist, mac\+\_\+doprev\+\_\+message(), strncmpi(), top\+\_\+line, topl\+\_\+query\+\_\+len, and topl\+\_\+replace().



Referenced by topl\+\_\+getlin().


\begin{DoxyCode}
917                                         \{
918     \textcolor{keywordflow}{switch} (ch) \{
919         \textcolor{keywordflow}{case} \hyperlink{mactty_8h_ac763d1de8ee96951064bd7dbb649dfc5}{CHAR\_ESC}:
920             \hyperlink{macwin_8c_a72dd96752c687c8e28444009cfb15b16}{topl\_replace}(\textcolor{stringliteral}{"\(\backslash\)x1b"});
921         \textcolor{keywordflow}{case} \hyperlink{mactty_8h_a1c1ac78fc6a82e6daa73b04926db7dd5}{CHAR\_ENTER}: \textcolor{keywordflow}{case} \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}: \textcolor{keywordflow}{case} \hyperlink{mactty_8h_ab278969e0bc4296056adb7b18aa43227}{CHAR\_LF}:
922             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
923 
924         \textcolor{keywordflow}{case} 0x1f & \textcolor{charliteral}{'P'}:
925             \hyperlink{macwin_8c_ad21f9c724bf74ceb69ba673f4e31fc44}{mac\_doprev\_message}();
926             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
927         \textcolor{keywordflow}{case} \textcolor{stringliteral}{'\(\backslash\)x1e'}\textcolor{comment}{/* up arrow */}:
928             \hyperlink{macwin_8c_a72dd96752c687c8e28444009cfb15b16}{topl\_replace} (\textcolor{stringliteral}{""});
929             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
930         \textcolor{keywordflow}{case} \hyperlink{mactty_8h_a7154bc375ffe132355526d649296cca4}{CHAR\_BS}: \textcolor{keywordflow}{case} \textcolor{stringliteral}{'\(\backslash\)x1c'}\textcolor{comment}{/* left arrow */}:
931             \textcolor{keywordflow}{if} ((*top\_line)->selEnd <= \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len})
932                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
933             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ext) \{
934                 \hyperlink{macwin_8c_a72dd96752c687c8e28444009cfb15b16}{topl\_replace} (\textcolor{stringliteral}{""});
935                 \textcolor{keywordflow}{return} \textcolor{keyword}{true};
936             \}
937         \textcolor{keywordflow}{default}:
938             TEKey(ch, \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
939             \textcolor{keywordflow}{if} (ext) \{
940                 \textcolor{keywordtype}{int} com\_index = -1, oindex = 0;
941                 \textcolor{keywordflow}{while}(\hyperlink{func__tab_8h_af3a00fc8e4e157bae08471bcc66d46d9}{extcmdlist}[oindex].ef\_txt != (\textcolor{keywordtype}{char} *)0) \{
942                     \textcolor{keywordflow}{if}(!\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(*(*top\_line)->hText + \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len},
943                                  \hyperlink{func__tab_8h_af3a00fc8e4e157bae08471bcc66d46d9}{extcmdlist}[oindex].\hyperlink{structext__func__tab_a1c6b81a9ba3a70826ea2f1c2eacc089e}{ef\_txt},
944                                  (*top\_line)->teLength - \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len})) \{
945                         \textcolor{keywordflow}{if}(com\_index == -1) \textcolor{comment}{/* No matches yet*/}
946                             com\_index = oindex;
947                         \textcolor{keywordflow}{else} \textcolor{comment}{/* More than 1 match */} \{
948                             com\_index = -2;
949                             \textcolor{keywordflow}{break};
950                         \}
951                     \}
952                     oindex++;
953                 \}
954                 \textcolor{keywordflow}{if}(com\_index >= 0)
955                     \hyperlink{macwin_8c_a72dd96752c687c8e28444009cfb15b16}{topl\_replace}((\textcolor{keywordtype}{char} *) \hyperlink{func__tab_8h_af3a00fc8e4e157bae08471bcc66d46d9}{extcmdlist}[com\_index].ef\_txt);
956             \}
957             \textcolor{keywordflow}{return} \textcolor{keyword}{true};
958     \}
959 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a72dd96752c687c8e28444009cfb15b16}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+replace@{topl\+\_\+replace}}
\index{topl\+\_\+replace@{topl\+\_\+replace}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+replace}]{\setlength{\rightskip}{0pt plus 5cm}static void topl\+\_\+replace (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{new\+\_\+ans}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a72dd96752c687c8e28444009cfb15b16}


Definition at line 909 of file macwin.\+c.



References top\+\_\+line, topl\+\_\+query\+\_\+len, and topl\+\_\+set\+\_\+select().



Referenced by topl\+\_\+key().


\begin{DoxyCode}
909                             \{
910     \hyperlink{macwin_8c_a10a05e82acedfc4d5c5408e074d0907b}{topl\_set\_select}(\hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len}, (*top\_line)->teLength);
911     TEDelete(\hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
912     TEInsert(new\_ans, strlen(new\_ans), \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
913 \}
\end{DoxyCode}
\hypertarget{macwin_8c_ae1b761401f6b7319c87e65f8e4574bb4}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+resp\+\_\+key@{topl\+\_\+resp\+\_\+key}}
\index{topl\+\_\+resp\+\_\+key@{topl\+\_\+resp\+\_\+key}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+resp\+\_\+key}]{\setlength{\rightskip}{0pt plus 5cm}static char topl\+\_\+resp\+\_\+key (
\begin{DoxyParamCaption}
\item[{char}]{ch}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ae1b761401f6b7319c87e65f8e4574bb4}


Definition at line 1015 of file macwin.\+c.



References C\+H\+A\+R\+\_\+\+A\+N\+Y, C\+H\+A\+R\+\_\+\+B\+L\+A\+N\+K, C\+H\+A\+R\+\_\+\+B\+S, C\+H\+A\+R\+\_\+\+C\+R, C\+H\+A\+R\+\_\+\+E\+N\+T\+E\+R, C\+H\+A\+R\+\_\+\+E\+S\+C, C\+H\+A\+R\+\_\+\+L\+F, mac\+\_\+doprev\+\_\+message(), top\+\_\+line, topl\+\_\+def\+\_\+idx, topl\+\_\+flash\+\_\+resp(), topl\+\_\+query\+\_\+len, topl\+\_\+resp, topl\+\_\+set\+\_\+def(), and topl\+\_\+set\+\_\+select().



Referenced by General\+Key().


\begin{DoxyCode}
1015                        \{
1016     \textcolor{keywordflow}{if} (strlen(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}) > 0) \{
1017         \textcolor{keywordtype}{char} *loc = strchr(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}, ch);
1018 
1019         \textcolor{keywordflow}{if} (!loc) \{
1020             \textcolor{keywordflow}{if} (ch == \textcolor{stringliteral}{'\(\backslash\)x9'}\textcolor{comment}{/* tab */}) \{
1021                 \hyperlink{macwin_8c_a0b7312a2ee061246fa50ea441350cc4f}{topl\_set\_def}(\hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx}<=0 ? strlen(
      \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp})-1 : \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx}-1);
1022                 ch = \textcolor{charliteral}{'\(\backslash\)0'};
1023             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == \hyperlink{mactty_8h_ac763d1de8ee96951064bd7dbb649dfc5}{CHAR\_ESC}) \{
1024                 loc = strchr(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}, \textcolor{charliteral}{'q'});
1025                 \textcolor{keywordflow}{if} (!loc) \{
1026                     loc = strchr(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}, \textcolor{charliteral}{'n'});
1027                     \textcolor{keywordflow}{if} (!loc && \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx} >= 0)
1028                         loc = \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp} + \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx};
1029                 \}
1030             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == (0x1f & \textcolor{charliteral}{'P'})) \{
1031                 \hyperlink{macwin_8c_ad21f9c724bf74ceb69ba673f4e31fc44}{mac\_doprev\_message}();
1032                 ch = \textcolor{charliteral}{'\(\backslash\)0'};
1033             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx} >= 0) \{
1034                 \textcolor{keywordflow}{if} (ch == \hyperlink{mactty_8h_a1c1ac78fc6a82e6daa73b04926db7dd5}{CHAR\_ENTER} || ch == \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR} || ch == 
      \hyperlink{mactty_8h_ab278969e0bc4296056adb7b18aa43227}{CHAR\_LF} ||
1035                      ch == \hyperlink{mactty_8h_af613157a33369740006dac4bab769423}{CHAR\_BLANK} || \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}[
      \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx}] == \hyperlink{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}{CHAR\_ANY})
1036                     loc = \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp} + \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx};
1037 
1038                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (strchr(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}, \textcolor{charliteral}{'#'})) \{
1039                     \textcolor{keywordflow}{if} (digit(ch)) \{
1040                         \hyperlink{macwin_8c_a0b7312a2ee061246fa50ea441350cc4f}{topl\_set\_def}(strchr(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}, \textcolor{charliteral}{'#'}) - 
      \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp});
1041                         TEKey(ch, \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
1042                         ch = \textcolor{charliteral}{'\(\backslash\)0'};
1043 
1044                     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}[topl\_def\_idx] == \textcolor{charliteral}{'#'}) \{
1045                         \textcolor{keywordflow}{if} (ch == \textcolor{stringliteral}{'\(\backslash\)x1e'}\textcolor{comment}{/* up arrow */}) \{
1046                             \hyperlink{macwin_8c_a10a05e82acedfc4d5c5408e074d0907b}{topl\_set\_select}(\hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len}, 
      \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len});
1047                             ch = \textcolor{charliteral}{'\(\backslash\)0'};
1048                         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == \textcolor{stringliteral}{'\(\backslash\)x1d'}\textcolor{comment}{/* right arrow */} ||
1049                                ch == \textcolor{stringliteral}{'\(\backslash\)x1f'}\textcolor{comment}{/* down arrow */} ||
1050                                ch == \hyperlink{mactty_8h_a7154bc375ffe132355526d649296cca4}{CHAR\_BS} || ch == \textcolor{stringliteral}{'\(\backslash\)x1c'}\textcolor{comment}{/* left arrow */} &&
1051                                (*top\_line)->selEnd > \hyperlink{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{topl\_query\_len}) \{
1052                             TEKey(ch, \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
1053                             ch = \textcolor{charliteral}{'\(\backslash\)0'};
1054                         \}
1055                     \}
1056                 \}
1057             \}
1058         \}
1059 
1060         \textcolor{keywordflow}{if} (loc) \{
1061             \hyperlink{macwin_8c_ac80a2afc32246f52037f921db622433b}{topl\_flash\_resp}(loc - \hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp});
1062             \textcolor{keywordflow}{if} (*loc != \hyperlink{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}{CHAR\_ANY})
1063                 ch = *loc;
1064             TEKey(ch, \hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
1065         \}
1066     \}
1067 
1068     \textcolor{keywordflow}{return} ch;
1069 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a3947e529128a451768288e6909513754}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+resp\+\_\+rect@{topl\+\_\+resp\+\_\+rect}}
\index{topl\+\_\+resp\+\_\+rect@{topl\+\_\+resp\+\_\+rect}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+resp\+\_\+rect}]{\setlength{\rightskip}{0pt plus 5cm}static void topl\+\_\+resp\+\_\+rect (
\begin{DoxyParamCaption}
\item[{int}]{resp\+\_\+idx, }
\item[{Rect $\ast$}]{r}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a3947e529128a451768288e6909513754}


Definition at line 830 of file macwin.\+c.



References B\+T\+N\+\_\+\+H, B\+T\+N\+\_\+\+I\+N\+D, B\+T\+N\+\_\+\+W, rect, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by mac\+Click\+Message(), mac\+Update\+Message(), topl\+\_\+flash\+\_\+resp(), topl\+\_\+set\+\_\+def(), and topl\+\_\+set\+\_\+resp().


\begin{DoxyCode}
831 \{
832     Rect \hyperlink{rect_8c_a58a1301fcdb736034a47900ee20578ec}{rect};
833 
834 
835     GetWindowBounds(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window, kWindowContentRgn, &rect);
836     OffsetRect(&rect, -rect.left, -rect.top);
837     r->left   = (\hyperlink{macwin_8c_a20d7f3e3d8c6563910885b4d39ed5b5f}{BTN\_IND} + \hyperlink{macwin_8c_a88518206f114f83cf5c0bb345a44ec4c}{BTN\_W}) * resp\_idx + \hyperlink{macwin_8c_a20d7f3e3d8c6563910885b4d39ed5b5f}{BTN\_IND};
838     r->right  = r->left + \hyperlink{macwin_8c_a88518206f114f83cf5c0bb345a44ec4c}{BTN\_W};
839     r->bottom = rect.bottom - 1;
840     r->top    = r->bottom - \hyperlink{macwin_8c_aafc5be6b9e11a5cf8ef124119f875aa9}{BTN\_H};
841     \textcolor{keywordflow}{return};
842 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a0b7312a2ee061246fa50ea441350cc4f}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+set\+\_\+def@{topl\+\_\+set\+\_\+def}}
\index{topl\+\_\+set\+\_\+def@{topl\+\_\+set\+\_\+def}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+set\+\_\+def}]{\setlength{\rightskip}{0pt plus 5cm}static void topl\+\_\+set\+\_\+def (
\begin{DoxyParamCaption}
\item[{int}]{new\+\_\+def\+\_\+idx}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a0b7312a2ee061246fa50ea441350cc4f}


Definition at line 976 of file macwin.\+c.



References frame, topl\+\_\+def\+\_\+idx, topl\+\_\+resp\+\_\+rect(), and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by topl\+\_\+resp\+\_\+key().


\begin{DoxyCode}
976                               \{
977     Rect \hyperlink{gnmap_8c_aa96506ac11851965d0f25b0c9eb53885}{frame};
978     SetPortWindowPort(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window);
979     \hyperlink{macwin_8c_a3947e529128a451768288e6909513754}{topl\_resp\_rect}(\hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx}, &frame);
980     InvalWindowRect(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window, &frame);
981     \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx} = new\_def\_idx;
982     \hyperlink{macwin_8c_a3947e529128a451768288e6909513754}{topl\_resp\_rect}(new\_def\_idx, &frame);
983     InvalWindowRect(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window, &frame);
984 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a7919e577c7f6fe3391905caaf29b5afb}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+set\+\_\+resp@{topl\+\_\+set\+\_\+resp}}
\index{topl\+\_\+set\+\_\+resp@{topl\+\_\+set\+\_\+resp}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+set\+\_\+resp}]{\setlength{\rightskip}{0pt plus 5cm}void topl\+\_\+set\+\_\+resp (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{resp, }
\item[{char}]{def}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a7919e577c7f6fe3391905caaf29b5afb}


Definition at line 988 of file macwin.\+c.



References B\+T\+N\+\_\+\+I\+N\+D, B\+T\+N\+\_\+\+W, C\+H\+A\+R\+\_\+\+A\+N\+Y, frame, topl\+\_\+def\+\_\+idx, topl\+\_\+resp, topl\+\_\+resp\+\_\+rect(), and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.



Referenced by mac\+\_\+display\+\_\+nhwindow(), and topl\+\_\+yn\+\_\+function().


\begin{DoxyCode}
988                                     \{
989     \textcolor{keywordtype}{char} *loc;
990     Rect \hyperlink{gnmap_8c_aa96506ac11851965d0f25b0c9eb53885}{frame};
991     \textcolor{keywordtype}{int} r\_len, r\_len1;
992 
993     \textcolor{keywordflow}{if} (!resp) \{
994         \textcolor{keyword}{const} \textcolor{keywordtype}{char} any\_str[2] = \{\hyperlink{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}{CHAR\_ANY}, \textcolor{charliteral}{'\(\backslash\)0'}\};
995         resp = (\textcolor{keywordtype}{char} *) any\_str;
996         def = \hyperlink{macwin_8c_aa20c9f373af189c212fd3455e2e38fb1}{CHAR\_ANY};
997     \}
998 
999     SetPortWindowPort(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window);
1000     r\_len1 = strlen(resp);
1001     r\_len  = strlen(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp});
1002     \textcolor{keywordflow}{if} (r\_len < r\_len1)
1003         r\_len = r\_len1;
1004     \hyperlink{macwin_8c_a3947e529128a451768288e6909513754}{topl\_resp\_rect}(0, &frame);
1005     frame.right = (\hyperlink{macwin_8c_a20d7f3e3d8c6563910885b4d39ed5b5f}{BTN\_IND} + \hyperlink{macwin_8c_a88518206f114f83cf5c0bb345a44ec4c}{BTN\_W}) * r\_len;
1006     InvalWindowRect(\hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].its\_window, &frame);
1007 
1008     strcpy(\hyperlink{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{topl\_resp}, resp);
1009     loc = strchr (resp, def);
1010     \hyperlink{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{topl\_def\_idx} = loc ? loc - resp : -1;
1011 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a10a05e82acedfc4d5c5408e074d0907b}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+set\+\_\+select@{topl\+\_\+set\+\_\+select}}
\index{topl\+\_\+set\+\_\+select@{topl\+\_\+set\+\_\+select}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+set\+\_\+select}]{\setlength{\rightskip}{0pt plus 5cm}static void topl\+\_\+set\+\_\+select (
\begin{DoxyParamCaption}
\item[{short}]{sel\+Start, }
\item[{short}]{sel\+End}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a10a05e82acedfc4d5c5408e074d0907b}


Definition at line 900 of file macwin.\+c.



References top\+\_\+line.



Referenced by topl\+\_\+replace(), and topl\+\_\+resp\+\_\+key().


\begin{DoxyCode}
900                                               \{
901     TEDeactivate(\hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
902     (*top\_line)->selStart   = selStart;
903     (*top\_line)->selEnd = selEnd;
904     TEActivate(\hyperlink{macwin_8c_a0a727973e10c680271451ddf652afea4}{top\_line});
905 \}
\end{DoxyCode}
\hypertarget{macwin_8c_afb68fc8b5ce3d977d109edd6130e3803}{\index{macwin.\+c@{macwin.\+c}!trans\+\_\+num\+\_\+keys@{trans\+\_\+num\+\_\+keys}}
\index{trans\+\_\+num\+\_\+keys@{trans\+\_\+num\+\_\+keys}!macwin.\+c@{macwin.\+c}}
\subsubsection[{trans\+\_\+num\+\_\+keys}]{\setlength{\rightskip}{0pt plus 5cm}void trans\+\_\+num\+\_\+keys (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event}
\end{DoxyParamCaption}
)}}\label{macwin_8c_afb68fc8b5ce3d977d109edd6130e3803}


Definition at line 1233 of file macwin.\+c.



References iflags, and instance\+\_\+flags\+::num\+\_\+pad.



Referenced by General\+Key().


\begin{DoxyCode}
1233                                       \{
1234 \textcolor{preprocessor}{#if defined(\_\_SC\_\_) || defined(\_\_MRC\_\_)}
1235 \textcolor{preprocessor}{# pragma unused(theEvent)}
1236 \textcolor{preprocessor}{#endif}
1237 \textcolor{comment}{/* KMH -- Removed this translation.}
1238 \textcolor{comment}{ * Number pad keys should always emit digit characters.}
1239 \textcolor{comment}{ * That's consistent with the default MacOS behavior.}
1240 \textcolor{comment}{ * The number\_pad option controls how digits are interpreted.}
1241 \textcolor{comment}{ */}
1242 \textcolor{preprocessor}{#if 0}
1243     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_abf8ead01634763341598a10bd5052f7e}{num\_pad}) \{
1244         Handle h = GetResource(\textcolor{stringliteral}{'Nump'}, theEvent->modifiers & shiftKey ? 129 : 128);
1245         \textcolor{keywordflow}{if} (h) \{
1246             \textcolor{keywordtype}{short} inkey = (theEvent->message & keyCodeMask), *ab = (\textcolor{keywordtype}{short} *)*h;
1247             \textcolor{keywordtype}{int} i = ab[0];
1248             \textcolor{keywordflow}{for} (; i; i--) \{
1249                 \textcolor{keywordflow}{if} (inkey == (ab[i] & keyCodeMask)) \{
1250                     theEvent->message = ab[i];
1251                     \textcolor{keywordflow}{break};
1252                 \}
1253             \}
1254         \}
1255     \}
1256 \textcolor{preprocessor}{#endif}
1257 \}
\end{DoxyCode}
\hypertarget{macwin_8c_a336b0f4640568ff74f60c3d8b29e8d52}{\index{macwin.\+c@{macwin.\+c}!try\+\_\+key\+\_\+queue@{try\+\_\+key\+\_\+queue}}
\index{try\+\_\+key\+\_\+queue@{try\+\_\+key\+\_\+queue}!macwin.\+c@{macwin.\+c}}
\subsubsection[{try\+\_\+key\+\_\+queue}]{\setlength{\rightskip}{0pt plus 5cm}int try\+\_\+key\+\_\+queue (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{bufp}
\end{DoxyParamCaption}
)}}\label{macwin_8c_a336b0f4640568ff74f60c3d8b29e8d52}


Definition at line 2575 of file macwin.\+c.



References C\+H\+A\+R\+\_\+\+C\+R, C\+H\+A\+R\+\_\+\+L\+F, Get\+From\+Key\+Queue(), and key\+Queue\+Count.



Referenced by get\+\_\+line\+\_\+from\+\_\+key\+\_\+queue(), and queued\+\_\+resp().


\begin{DoxyCode}
2575                            \{
2576     \textcolor{keywordflow}{if} (\hyperlink{macwin_8c_a728ef3789f4108cf6416db82a5962540}{keyQueueCount}) \{
2577         \textcolor{keywordtype}{char} ch;
2578         \textcolor{keywordflow}{for} (ch = \hyperlink{macwin_8c_a71482ac2cd09246722585aa22047f88d}{GetFromKeyQueue}(); ; ch = \hyperlink{macwin_8c_a71482ac2cd09246722585aa22047f88d}{GetFromKeyQueue}()) \{
2579             \textcolor{keywordflow}{if} (ch == \hyperlink{mactty_8h_ab278969e0bc4296056adb7b18aa43227}{CHAR\_LF} || ch == \hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR})
2580                 ch = 0;
2581             *bufp++ = ch;
2582             \textcolor{keywordflow}{if} (ch == 0)
2583                 \textcolor{keywordflow}{break};
2584         \}
2585         \textcolor{keywordflow}{return} 1;
2586     \}
2587     \textcolor{keywordflow}{return} 0;
2588 \}
\end{DoxyCode}
\hypertarget{macwin_8c_af374f1890943ef601ade13cdb87ab3c7}{\index{macwin.\+c@{macwin.\+c}!Window\+Go\+Away@{Window\+Go\+Away}}
\index{Window\+Go\+Away@{Window\+Go\+Away}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Window\+Go\+Away}]{\setlength{\rightskip}{0pt plus 5cm}static void Window\+Go\+Away (
\begin{DoxyParamCaption}
\item[{Event\+Record $\ast$}]{the\+Event, }
\item[{Window\+Ptr}]{the\+Window}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af374f1890943ef601ade13cdb87ab3c7}


Definition at line 1967 of file macwin.\+c.



References Add\+To\+Key\+Queue(), B\+A\+S\+E\+\_\+\+W\+I\+N\+D\+O\+W, C\+H\+A\+R\+\_\+\+C\+R, Get\+Nh\+Win(), iflags, in\+Select, mac\+\_\+destroy\+\_\+nhwindow(), and instance\+\_\+flags\+::window\+\_\+inited.



Referenced by Handle\+Click().


\begin{DoxyCode}
1967                                                           \{
1968     \hyperlink{structNhWindow}{NhWindow} *aWin = \hyperlink{macwin_8c_a904a83c3d4812e55bbb8792df64ac24e}{GetNhWin}(theWindow);
1969 
1970     \textcolor{keywordflow}{if} (!theEvent || TrackGoAway (theWindow, theEvent->where)) \{
1971         \textcolor{keywordflow}{if} (aWin - \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} == \hyperlink{macwin_8h_ae4953eaaa3eb35f44202570145558c93}{BASE\_WINDOW} && !\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a2fc6c78c4c5f6e1d0027ac575135426f}{window\_inited}) \{
1972             \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{AddToKeyQueue} (\textcolor{charliteral}{'\(\backslash\)033'}, 1);
1973         \} \textcolor{keywordflow}{else} \{
1974             HideWindow (theWindow);
1975             \textcolor{keywordflow}{if} (aWin - \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows} != \hyperlink{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{inSelect})
1976                 \hyperlink{macwin_8c_a54c80b6236b8f19952f50bf87ab89fc8}{mac\_destroy\_nhwindow} (aWin - \hyperlink{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{theWindows});
1977             \textcolor{keywordflow}{else}                                \textcolor{comment}{/* if this IS the inSelect window put a close char */}
1978                 \hyperlink{macwin_8c_a1b745fe6130731ce0257f344ede143f6}{AddToKeyQueue} (\hyperlink{mactty_8h_a96f70aecaff003e01fc8bcf2f070c5ef}{CHAR\_CR}, 1);     \textcolor{comment}{/* in queue to exit and maintain
       inSelect */}
1979         \}
1980     \}
1981 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}{\index{macwin.\+c@{macwin.\+c}!\+\_\+mt\+\_\+window@{\+\_\+mt\+\_\+window}}
\index{\+\_\+mt\+\_\+window@{\+\_\+mt\+\_\+window}!macwin.\+c@{macwin.\+c}}
\subsubsection[{\+\_\+mt\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}Window\+Ptr \+\_\+mt\+\_\+window}}\label{macwin_8c_abfbaff06a50aea7b2035a3c443bb63ce}


Definition at line 188 of file mttymain.\+c.



Referenced by Get\+Nh\+Win(), Handle\+Update(), mac\+\_\+clear\+\_\+nhwindow(), mac\+\_\+create\+\_\+nhwindow(), mac\+\_\+curs(), mac\+\_\+destroy\+\_\+nhwindow(), mac\+\_\+display\+\_\+nhwindow(), mac\+\_\+putstr(), and Sane\+Positions().

\hypertarget{macwin_8c_abd3980d9f9987480d5a371e6d20edf1d}{\index{macwin.\+c@{macwin.\+c}!clicked\+\_\+mod@{clicked\+\_\+mod}}
\index{clicked\+\_\+mod@{clicked\+\_\+mod}!macwin.\+c@{macwin.\+c}}
\subsubsection[{clicked\+\_\+mod}]{\setlength{\rightskip}{0pt plus 5cm}int clicked\+\_\+mod\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_abd3980d9f9987480d5a371e6d20edf1d}


Definition at line 67 of file macwin.\+c.



Referenced by mac\+\_\+nh\+\_\+poskey(), and mac\+Click\+Term().

\hypertarget{macwin_8c_af23e841529e6e73bf1d37140d89e55d9}{\index{macwin.\+c@{macwin.\+c}!clicked\+\_\+pos@{clicked\+\_\+pos}}
\index{clicked\+\_\+pos@{clicked\+\_\+pos}!macwin.\+c@{macwin.\+c}}
\subsubsection[{clicked\+\_\+pos}]{\setlength{\rightskip}{0pt plus 5cm}Point clicked\+\_\+pos\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af23e841529e6e73bf1d37140d89e55d9}


Definition at line 66 of file macwin.\+c.



Referenced by mac\+\_\+nh\+\_\+poskey(), and mac\+Click\+Term().

\hypertarget{macwin_8c_aae8fab695ceb3dae16c2613b66b31d61}{\index{macwin.\+c@{macwin.\+c}!cursor\+\_\+locked@{cursor\+\_\+locked}}
\index{cursor\+\_\+locked@{cursor\+\_\+locked}!macwin.\+c@{macwin.\+c}}
\subsubsection[{cursor\+\_\+locked}]{\setlength{\rightskip}{0pt plus 5cm}Boolean cursor\+\_\+locked = false\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aae8fab695ceb3dae16c2613b66b31d61}


Definition at line 68 of file macwin.\+c.



Referenced by lock\+\_\+mouse\+\_\+cursor(), mac\+Click\+Term(), and mac\+Cursor\+Term().

\hypertarget{macwin_8c_aeb1f2a020b1db806b3d6fd269745955c}{\index{macwin.\+c@{macwin.\+c}!g\+Clicked\+To\+Move@{g\+Clicked\+To\+Move}}
\index{g\+Clicked\+To\+Move@{g\+Clicked\+To\+Move}!macwin.\+c@{macwin.\+c}}
\subsubsection[{g\+Clicked\+To\+Move}]{\setlength{\rightskip}{0pt plus 5cm}Boolean g\+Clicked\+To\+Move = 0\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_aeb1f2a020b1db806b3d6fd269745955c}


Definition at line 64 of file macwin.\+c.



Referenced by mac\+\_\+nhgetch(), and mac\+Click\+Term().

\hypertarget{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}{\index{macwin.\+c@{macwin.\+c}!g\+Mouse\+Rgn@{g\+Mouse\+Rgn}}
\index{g\+Mouse\+Rgn@{g\+Mouse\+Rgn}!macwin.\+c@{macwin.\+c}}
\subsubsection[{g\+Mouse\+Rgn}]{\setlength{\rightskip}{0pt plus 5cm}Rgn\+Handle g\+Mouse\+Rgn = (Rgn\+Handle) 0\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ac828225c5945afd9aa0e5194f362dedd}


Definition at line 121 of file macwin.\+c.



Referenced by Do\+Os\+Evt(), Handle\+Click(), Init\+Mac(), mac\+\_\+get\+\_\+nh\+\_\+event(), and mac\+\_\+nhgetch().

\hypertarget{macwin_8c_a595aff229870c361071a3dcfc08a06c2}{\index{macwin.\+c@{macwin.\+c}!in\+Select@{in\+Select}}
\index{in\+Select@{in\+Select}!macwin.\+c@{macwin.\+c}}
\subsubsection[{in\+Select}]{\setlength{\rightskip}{0pt plus 5cm}{\bf winid} in\+Select = {\bf W\+I\+N\+\_\+\+E\+R\+R}\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a595aff229870c361071a3dcfc08a06c2}


Definition at line 53 of file macwin.\+c.



Referenced by Handle\+Click(), mac\+\_\+display\+\_\+nhwindow(), mac\+\_\+select\+\_\+menu(), mac\+Click\+Menu(), mac\+Key\+Text(), and Window\+Go\+Away().

\hypertarget{macwin_8c_a480f08ff9fde6c267fc630f89e58a8ee}{\index{macwin.\+c@{macwin.\+c}!key\+Queue@{key\+Queue}}
\index{key\+Queue@{key\+Queue}!macwin.\+c@{macwin.\+c}}
\subsubsection[{key\+Queue}]{\setlength{\rightskip}{0pt plus 5cm}unsigned char key\+Queue\mbox{[}{\bf Q\+U\+E\+U\+E\+\_\+\+L\+E\+N}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a480f08ff9fde6c267fc630f89e58a8ee}


Definition at line 59 of file macwin.\+c.



Referenced by Add\+To\+Key\+Queue(), and Get\+From\+Key\+Queue().

\hypertarget{macwin_8c_a728ef3789f4108cf6416db82a5962540}{\index{macwin.\+c@{macwin.\+c}!key\+Queue\+Count@{key\+Queue\+Count}}
\index{key\+Queue\+Count@{key\+Queue\+Count}!macwin.\+c@{macwin.\+c}}
\subsubsection[{key\+Queue\+Count}]{\setlength{\rightskip}{0pt plus 5cm}int key\+Queue\+Count = 0\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a728ef3789f4108cf6416db82a5962540}


Definition at line 62 of file macwin.\+c.



Referenced by Add\+To\+Key\+Queue(), Apple\+Event\+Handler(), Get\+From\+Key\+Queue(), Handle\+Key(), mac\+\_\+nhgetch(), and try\+\_\+key\+\_\+queue().

\hypertarget{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}{\index{macwin.\+c@{macwin.\+c}!key\+Queue\+Read@{key\+Queue\+Read}}
\index{key\+Queue\+Read@{key\+Queue\+Read}!macwin.\+c@{macwin.\+c}}
\subsubsection[{key\+Queue\+Read}]{\setlength{\rightskip}{0pt plus 5cm}int key\+Queue\+Read = 0\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_affd601bd68cd158a0c9db4ec615e0cad}


Definition at line 60 of file macwin.\+c.



Referenced by Add\+To\+Key\+Queue(), Apple\+Event\+Handler(), Get\+From\+Key\+Queue(), and Handle\+Key().

\hypertarget{macwin_8c_a3d787c4017654134afe59f396d30561c}{\index{macwin.\+c@{macwin.\+c}!key\+Queue\+Write@{key\+Queue\+Write}}
\index{key\+Queue\+Write@{key\+Queue\+Write}!macwin.\+c@{macwin.\+c}}
\subsubsection[{key\+Queue\+Write}]{\setlength{\rightskip}{0pt plus 5cm}int key\+Queue\+Write = 0\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a3d787c4017654134afe59f396d30561c}


Definition at line 61 of file macwin.\+c.



Referenced by Add\+To\+Key\+Queue(), Apple\+Event\+Handler(), and Handle\+Key().

\hypertarget{macwin_8c_aa72d16131d9b80284c64c6bf72bf2c57}{\index{macwin.\+c@{macwin.\+c}!mac\+\_\+procs@{mac\+\_\+procs}}
\index{mac\+\_\+procs@{mac\+\_\+procs}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+\_\+procs}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf window\+\_\+procs} mac\+\_\+procs}}\label{macwin_8c_aa72d16131d9b80284c64c6bf72bf2c57}


Definition at line 2591 of file macwin.\+c.



Referenced by main().

\hypertarget{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}{\index{macwin.\+c@{macwin.\+c}!mac\+Flags@{mac\+Flags}}
\index{mac\+Flags@{mac\+Flags}!macwin.\+c@{macwin.\+c}}
\subsubsection[{mac\+Flags}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mac\+Flags} mac\+Flags}}\label{macwin_8c_a42b584526971fb7952b7c94ba897b4b1}


Definition at line 127 of file macwin.\+c.



Referenced by ask\+\_\+redraw(), dprintf(), finder\+\_\+file\+\_\+request(), and process\+\_\+openfile().

\hypertarget{macwin_8c_af0969498664406dc90a195f973ab8019}{\index{macwin.\+c@{macwin.\+c}!Move\+Scroll\+U\+P\+P@{Move\+Scroll\+U\+P\+P}}
\index{Move\+Scroll\+U\+P\+P@{Move\+Scroll\+U\+P\+P}!macwin.\+c@{macwin.\+c}}
\subsubsection[{Move\+Scroll\+U\+P\+P}]{\setlength{\rightskip}{0pt plus 5cm}Control\+Action\+U\+P\+P Move\+Scroll\+U\+P\+P\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af0969498664406dc90a195f973ab8019}


Definition at line 70 of file macwin.\+c.



Referenced by Do\+Scroll\+Bar(), and Init\+Mac().

\hypertarget{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}{\index{macwin.\+c@{macwin.\+c}!qdarrow@{qdarrow}}
\index{qdarrow@{qdarrow}!macwin.\+c@{macwin.\+c}}
\subsubsection[{qdarrow}]{\setlength{\rightskip}{0pt plus 5cm}Cursor qdarrow}}\label{macwin_8c_a09a37a2b3a7e306fb59e4c8746c700f2}


Definition at line 21 of file macwin.\+c.



Referenced by Do\+Os\+Evt(), General\+Cursor(), Handle\+Click(), Init\+Mac(), and mac\+Cursor\+Term().

\hypertarget{macwin_8c_a8a5ea2741f1acdae94edc68d0cd48dff}{\index{macwin.\+c@{macwin.\+c}!small\+\_\+screen@{small\+\_\+screen}}
\index{small\+\_\+screen@{small\+\_\+screen}!macwin.\+c@{macwin.\+c}}
\subsubsection[{small\+\_\+screen}]{\setlength{\rightskip}{0pt plus 5cm}Boolean small\+\_\+screen = 0}}\label{macwin_8c_a8a5ea2741f1acdae94edc68d0cd48dff}


Definition at line 132 of file macwin.\+c.



Referenced by \+\_\+mt\+\_\+init\+\_\+stuff(), mac\+\_\+init\+\_\+nhwindows(), and Sane\+Positions().

\hypertarget{macwin_8c_a114fc4587c1401f816a5510dc026eec0}{\index{macwin.\+c@{macwin.\+c}!the\+Windows@{the\+Windows}}
\index{the\+Windows@{the\+Windows}!macwin.\+c@{macwin.\+c}}
\subsubsection[{the\+Windows}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Nh\+Window}$\ast$ the\+Windows = ({\bf Nh\+Window} $\ast$) 0}}\label{macwin_8c_a114fc4587c1401f816a5510dc026eec0}


Definition at line 20 of file macwin.\+c.



Referenced by dprintf(), and Get\+Nh\+Win().

\hypertarget{macwin_8c_a0a727973e10c680271451ddf652afea4}{\index{macwin.\+c@{macwin.\+c}!top\+\_\+line@{top\+\_\+line}}
\index{top\+\_\+line@{top\+\_\+line}!macwin.\+c@{macwin.\+c}}
\subsubsection[{top\+\_\+line}]{\setlength{\rightskip}{0pt plus 5cm}T\+E\+Handle top\+\_\+line = (T\+E\+Handle) nil\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a0a727973e10c680271451ddf652afea4}


Definition at line 38 of file macwin.\+c.



Referenced by enter\+\_\+topl\+\_\+mode(), in\+\_\+topl\+\_\+mode(), mac\+\_\+create\+\_\+nhwindow(), mac\+Update\+Message(), topl\+\_\+key(), topl\+\_\+replace(), topl\+\_\+resp\+\_\+key(), and topl\+\_\+set\+\_\+select().

\hypertarget{macwin_8c_af0ff38517dc10134ca77951dc99617b9}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+def\+\_\+idx@{topl\+\_\+def\+\_\+idx}}
\index{topl\+\_\+def\+\_\+idx@{topl\+\_\+def\+\_\+idx}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+def\+\_\+idx}]{\setlength{\rightskip}{0pt plus 5cm}int topl\+\_\+def\+\_\+idx = -\/1\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af0ff38517dc10134ca77951dc99617b9}


Definition at line 40 of file macwin.\+c.



Referenced by mac\+Update\+Message(), topl\+\_\+resp\+\_\+key(), topl\+\_\+set\+\_\+def(), and topl\+\_\+set\+\_\+resp().

\hypertarget{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+query\+\_\+len@{topl\+\_\+query\+\_\+len}}
\index{topl\+\_\+query\+\_\+len@{topl\+\_\+query\+\_\+len}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+query\+\_\+len}]{\setlength{\rightskip}{0pt plus 5cm}int topl\+\_\+query\+\_\+len\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a80d9b95bc7a5871c406e195e8bb4620f}


Definition at line 39 of file macwin.\+c.



Referenced by enter\+\_\+topl\+\_\+mode(), leave\+\_\+topl\+\_\+mode(), topl\+\_\+key(), topl\+\_\+replace(), and topl\+\_\+resp\+\_\+key().

\hypertarget{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}{\index{macwin.\+c@{macwin.\+c}!topl\+\_\+resp@{topl\+\_\+resp}}
\index{topl\+\_\+resp@{topl\+\_\+resp}!macwin.\+c@{macwin.\+c}}
\subsubsection[{topl\+\_\+resp}]{\setlength{\rightskip}{0pt plus 5cm}char topl\+\_\+resp\mbox{[}10\mbox{]} = \char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ab15a2ea53b7252293b4a14e194de4d94}


Definition at line 41 of file macwin.\+c.



Referenced by mac\+Click\+Message(), mac\+Click\+Term(), mac\+Update\+Message(), topl\+\_\+resp\+\_\+key(), and topl\+\_\+set\+\_\+resp().

\hypertarget{macwin_8c_a25a6264621fb560911adf73a139510d5}{\index{macwin.\+c@{macwin.\+c}!win\+\_\+fonts@{win\+\_\+fonts}}
\index{win\+\_\+fonts@{win\+\_\+fonts}!macwin.\+c@{macwin.\+c}}
\subsubsection[{win\+\_\+fonts}]{\setlength{\rightskip}{0pt plus 5cm}short win\+\_\+fonts\mbox{[}{\bf N\+H\+W\+\_\+\+T\+E\+X\+T}+1\mbox{]}}}\label{macwin_8c_a25a6264621fb560911adf73a139510d5}


Definition at line 283 of file macwin.\+c.

\hypertarget{macwin_8c_af48bdc4029c9e53e722acf002d8d5895}{\index{macwin.\+c@{macwin.\+c}!win\+Click\+Funcs@{win\+Click\+Funcs}}
\index{win\+Click\+Funcs@{win\+Click\+Funcs}!macwin.\+c@{macwin.\+c}}
\subsubsection[{win\+Click\+Funcs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} {\bf Cb\+Func} win\+Click\+Funcs\mbox{[}{\bf N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af48bdc4029c9e53e722acf002d8d5895}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    (\hyperlink{macwin_8c_af3d4ca4610990e5242f4733db2893892}{CbFunc})\hyperlink{macwin_8c_a94291e136a595978c09ac142a4840948}{macDoNull}, \hyperlink{macwin_8c_ad52c584a908d2527bc426ff237f0f4ed}{macClickMessage}, 
      \hyperlink{macwin_8c_a93f410a15fe40420d7fcba67922ceae9}{macClickTerm}, \hyperlink{macwin_8c_a93f410a15fe40420d7fcba67922ceae9}{macClickTerm}, \hyperlink{macwin_8c_aaa7171479989cb2490fe85b2658ad3d9}{macClickMenu},
    \hyperlink{macwin_8c_ad6a8d77f69fc0f103587107927cd617a}{macClickText}
\}
\end{DoxyCode}


Definition at line 170 of file macwin.\+c.

\hypertarget{macwin_8c_af311afb5421858ee15a07e865c9bab06}{\index{macwin.\+c@{macwin.\+c}!win\+Cursor\+Funcs@{win\+Cursor\+Funcs}}
\index{win\+Cursor\+Funcs@{win\+Cursor\+Funcs}!macwin.\+c@{macwin.\+c}}
\subsubsection[{win\+Cursor\+Funcs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} {\bf Cb\+Curs\+Func} win\+Cursor\+Funcs\mbox{[}{\bf N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_af311afb5421858ee15a07e865c9bab06}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    (\hyperlink{macwin_8c_ac8a078b1f188292f30a6051d8ecbe4f6}{CbCursFunc}) \hyperlink{macwin_8c_a94291e136a595978c09ac142a4840948}{macDoNull}, \hyperlink{macwin_8c_aef31a22c2202a39186f7d19e46fd4476}{GeneralCursor}, 
      \hyperlink{macwin_8c_ada7c46a648cd95a211d52998c3042e04}{macCursorTerm}, \hyperlink{macwin_8c_ada7c46a648cd95a211d52998c3042e04}{macCursorTerm},
    \hyperlink{macwin_8c_aef31a22c2202a39186f7d19e46fd4476}{GeneralCursor}, \hyperlink{macwin_8c_aef31a22c2202a39186f7d19e46fd4476}{GeneralCursor}
\}
\end{DoxyCode}


Definition at line 180 of file macwin.\+c.

\hypertarget{macwin_8c_a51ead8f3d77dd2675e0d18ed4d827f19}{\index{macwin.\+c@{macwin.\+c}!win\+Key\+Funcs@{win\+Key\+Funcs}}
\index{win\+Key\+Funcs@{win\+Key\+Funcs}!macwin.\+c@{macwin.\+c}}
\subsubsection[{win\+Key\+Funcs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} {\bf Cb\+Func} win\+Key\+Funcs\mbox{[}{\bf N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_a51ead8f3d77dd2675e0d18ed4d827f19}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{GeneralKey}, \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{GeneralKey}, \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{GeneralKey}, \hyperlink{macwin_8c_a3ab67d001b7dcaab5bb5ef0e88841c4c}{GeneralKey}, 
      \hyperlink{macwin_8c_a0890e06727e3e4f0446968f1d60388bc}{macKeyMenu}, \hyperlink{macwin_8c_aebe151c232d20a8c35c0525292a9df2e}{macKeyText}
\}
\end{DoxyCode}


Definition at line 166 of file macwin.\+c.

\hypertarget{macwin_8c_ad03b6e633e2d04a0edb8ac4b4722266b}{\index{macwin.\+c@{macwin.\+c}!win\+Update\+Funcs@{win\+Update\+Funcs}}
\index{win\+Update\+Funcs@{win\+Update\+Funcs}!macwin.\+c@{macwin.\+c}}
\subsubsection[{win\+Update\+Funcs}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} {\bf Cb\+Up\+Func} win\+Update\+Funcs\mbox{[}{\bf N\+U\+M\+\_\+\+F\+U\+N\+C\+S}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{macwin_8c_ad03b6e633e2d04a0edb8ac4b4722266b}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \hyperlink{macwin_8c_a94291e136a595978c09ac142a4840948}{macDoNull}, \hyperlink{macwin_8c_a12c44076186c75b4365ad42246792773}{macUpdateMessage}, \hyperlink{mactty_8h_a3e14fbe6e806321dd65e663c14c041d2}{image\_tty}, 
      \hyperlink{mactty_8h_a3e14fbe6e806321dd65e663c14c041d2}{image\_tty},
    \hyperlink{macwin_8c_aaeef7f3ede28e8da8239c1036862efd1}{macUpdateMenu}, \hyperlink{macwin_8c_ac218a718ae77d8381666c7d7c4dc6dee}{GeneralUpdate}
\}
\end{DoxyCode}


Definition at line 175 of file macwin.\+c.

