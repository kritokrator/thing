\hypertarget{questpgr_8c}{\section{nethack/src/questpgr.c File Reference}
\label{questpgr_8c}\index{nethack/src/questpgr.\+c@{nethack/src/questpgr.\+c}}
}
{\ttfamily \#include \char`\"{}hack.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dlb.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}qtext.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{questpgr_8c_a6d47cb009ed2a231cb3ba1efde61674c}{Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E}~\char`\"{}quest.\+dat\char`\"{}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{questpgr_8c_aa926b3df654e3802efa2a56892f98683}{F\+D\+E\+C\+L} (\hyperlink{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{Fread},(\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\+\_\+t}, int, int, \hyperlink{dlb_8h_a2c91af84569791b69abdf2b4644b0ddd}{dlb} $\ast$))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} struct \hyperlink{structqtmsg}{qtmsg} $\ast$ \hyperlink{questpgr_8c_ae568c4ae9fc6ebb00014140bbd92c65d}{F\+D\+E\+C\+L} (\hyperlink{questpgr_8c_ae0744857befe36a1f16162f13dd7aba2}{construct\+\_\+qtlist},(long))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_a5f8f4cedfe817c8a0d1a873f4940d6f6}{N\+D\+E\+C\+L} (\hyperlink{questpgr_8c_a30f3a27dfff59fdf152864a7156bde24}{intermed})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_a29a779408a1aa48078d4115dee8380a4}{N\+D\+E\+C\+L} (\hyperlink{questpgr_8c_a1e02821c95441d7362d1b244acca4ed1}{neminame})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_a3efbc088ca8e32dd0f050f9194f0349d}{N\+D\+E\+C\+L} (\hyperlink{questpgr_8c_a41549fc354220b6b792f9609053eae60}{guardname})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_a6962ebe92418b1d3585d55ce83dcf983}{N\+D\+E\+C\+L} (\hyperlink{questpgr_8c_ac002fc525129588df83030587759b88c}{homebase})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} struct \hyperlink{structqtmsg}{qtmsg} $\ast$ \hyperlink{questpgr_8c_ab992c40ab8b0ef1fd1315b2108d866ce}{F\+D\+E\+C\+L} (\hyperlink{questpgr_8c_afca69768d2032e27b71eaabd169c1487}{msg\+\_\+in},(struct \hyperlink{structqtmsg}{qtmsg} $\ast$, int))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{questpgr_8c_a78c91620a81dcd26be76055887b13c84}{F\+D\+E\+C\+L} (\hyperlink{questpgr_8c_a196a93aaf052c2ba3101dd70be4a5747}{convert\+\_\+arg},(\hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{questpgr_8c_a41855456ccc581cf4e2fbb8d1d6be2ed}{N\+D\+E\+C\+L} (\hyperlink{questpgr_8c_aa0dee6e13c17409b4dcd1c0640d334e4}{convert\+\_\+line})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{questpgr_8c_ac27d910c3f27879b895b6528881fd969}{F\+D\+E\+C\+L} (\hyperlink{questpgr_8c_a5cc9a1e04bb7cceabbd9c256389dfa88}{deliver\+\_\+by\+\_\+pline},(struct \hyperlink{structqtmsg}{qtmsg} $\ast$))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{questpgr_8c_a710ba405730679fb3b33331305ca1301}{F\+D\+E\+C\+L} (\hyperlink{questpgr_8c_a3afe77a166a92a0eed50721a99e9987d}{deliver\+\_\+by\+\_\+window},(struct \hyperlink{structqtmsg}{qtmsg} $\ast$, int))
\item 
static void \hyperlink{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{Fread} (\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\+\_\+t} ptr, int \hyperlink{structsize}{size}, int nitems, \hyperlink{dlb_8h_a2c91af84569791b69abdf2b4644b0ddd}{dlb} $\ast$stream)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} struct \hyperlink{structqtmsg}{qtmsg} $\ast$ \hyperlink{questpgr_8c_ae0744857befe36a1f16162f13dd7aba2}{construct\+\_\+qtlist} (long hdr\+\_\+offset)
\item 
void \hyperlink{questpgr_8c_ad26ecae850ce65c43095fe0fe8ab4b43}{load\+\_\+qtlist} ()
\item 
void \hyperlink{questpgr_8c_a8be49a36e9193fb686ac6db367a038f4}{unload\+\_\+qtlist} ()
\item 
short \hyperlink{questpgr_8c_a6c1f68cd1ad98ca016d66c151b88a2af}{quest\+\_\+info} (int typ)
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_aadd9054d0afe03ecc1bdef534b02b44d}{ldrname} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_a30f3a27dfff59fdf152864a7156bde24}{intermed} ()
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{questpgr_8c_a883c5ecd485acd110958e3a233cf9b57}{is\+\_\+quest\+\_\+artifact} (struct \hyperlink{structobj}{obj} $\ast$\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp})
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_a1e02821c95441d7362d1b244acca4ed1}{neminame} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_a41549fc354220b6b792f9609053eae60}{guardname} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{questpgr_8c_ac002fc525129588df83030587759b88c}{homebase} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} struct \hyperlink{structqtmsg}{qtmsg} $\ast$ \hyperlink{questpgr_8c_afca69768d2032e27b71eaabd169c1487}{msg\+\_\+in} (struct \hyperlink{structqtmsg}{qtmsg} $\ast$qtm\+\_\+list, int msgnum)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{questpgr_8c_a196a93aaf052c2ba3101dd70be4a5747}{convert\+\_\+arg} (char c)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{questpgr_8c_aa0dee6e13c17409b4dcd1c0640d334e4}{convert\+\_\+line} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{questpgr_8c_a5cc9a1e04bb7cceabbd9c256389dfa88}{deliver\+\_\+by\+\_\+pline} (struct \hyperlink{structqtmsg}{qtmsg} $\ast$qt\+\_\+msg)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{questpgr_8c_a3afe77a166a92a0eed50721a99e9987d}{deliver\+\_\+by\+\_\+window} (struct \hyperlink{structqtmsg}{qtmsg} $\ast$qt\+\_\+msg, int how)
\item 
void \hyperlink{questpgr_8c_a46ceb90f530db0baf90130da5deb1c6b}{com\+\_\+pager} (int msgnum)
\item 
void \hyperlink{questpgr_8c_a8382da39d72ba0389c82a68081634ab7}{qt\+\_\+pager} (int msgnum)
\item 
struct \hyperlink{structpermonst}{permonst} $\ast$ \hyperlink{questpgr_8c_a57090f6c6e025099a1ce1e0750885cc4}{qt\+\_\+montype} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static char \hyperlink{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}{in\+\_\+line} \mbox{[}80\mbox{]}
\item 
static char \hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\+\_\+buf} \mbox{[}64\mbox{]}
\item 
static char \hyperlink{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}{out\+\_\+line} \mbox{[}128\mbox{]}
\item 
static struct \hyperlink{structqtlists}{qtlists} \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\+\_\+list}
\item 
static \hyperlink{dlb_8h_a2c91af84569791b69abdf2b4644b0ddd}{dlb} $\ast$ \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\+\_\+file}
\item 
static char \hyperlink{questpgr_8c_a0d2e3145707b491c18fd62d7dd92f4a3}{nambuf} \mbox{[}sizeof \hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\+\_\+buf}\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{questpgr_8c_a6d47cb009ed2a231cb3ba1efde61674c}{\index{questpgr.\+c@{questpgr.\+c}!Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E@{Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E}}
\index{Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E@{Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E~\char`\"{}quest.\+dat\char`\"{}}}\label{questpgr_8c_a6d47cb009ed2a231cb3ba1efde61674c}


Definition at line 12 of file questpgr.\+c.



Referenced by load\+\_\+qtlist().



\subsection{Function Documentation}
\hypertarget{questpgr_8c_a46ceb90f530db0baf90130da5deb1c6b}{\index{questpgr.\+c@{questpgr.\+c}!com\+\_\+pager@{com\+\_\+pager}}
\index{com\+\_\+pager@{com\+\_\+pager}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{com\+\_\+pager}]{\setlength{\rightskip}{0pt plus 5cm}void com\+\_\+pager (
\begin{DoxyParamCaption}
\item[{int}]{msgnum}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a46ceb90f530db0baf90130da5deb1c6b}


Definition at line 390 of file questpgr.\+c.



References qtlists\+::common, deliver\+\_\+by\+\_\+pline(), deliver\+\_\+by\+\_\+window(), qtmsg\+::delivery, dlb\+\_\+fseek, msg\+\_\+in(), N\+H\+W\+\_\+\+M\+E\+N\+U, N\+H\+W\+\_\+\+T\+E\+X\+T, qtmsg\+::offset, qt\+\_\+list, and S\+E\+E\+K\+\_\+\+S\+E\+T.



Referenced by chat\+\_\+with\+\_\+leader(), and finish\+\_\+quest().


\begin{DoxyCode}
392 \{
393     \textcolor{keyword}{struct }\hyperlink{structqtmsg}{qtmsg} *qt\_msg;
394 
395     \textcolor{keywordflow}{if} (!(qt\_msg = \hyperlink{questpgr_8c_afca69768d2032e27b71eaabd169c1487}{msg\_in}(\hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a8270da46f3805bf94c58c27ad8ac7694}{common}, \hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum}))) \{
396         impossible(\textcolor{stringliteral}{"com\_pager: message %d not found."}, \hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum});
397         \textcolor{keywordflow}{return};
398     \}
399 
400     (void) \hyperlink{dlb_8h_a3c65d33411ed198b8c061327bdefbc85}{dlb\_fseek}(\hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file}, qt\_msg->\hyperlink{structqtmsg_a422909f4fbac3cf1b6a2890e06d4729a}{offset}, \hyperlink{dlb_8h_a0d112bae8fd35be772185b6ec6bcbe64}{SEEK\_SET});
401     \textcolor{keywordflow}{if} (qt\_msg->\hyperlink{structqtmsg_a3fee396a42086b53958e22f7aea1583d}{delivery} == \textcolor{charliteral}{'p'}) \hyperlink{questpgr_8c_a5cc9a1e04bb7cceabbd9c256389dfa88}{deliver\_by\_pline}(qt\_msg);
402     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum} == 1) \hyperlink{questpgr_8c_a3afe77a166a92a0eed50721a99e9987d}{deliver\_by\_window}(qt\_msg, 
      \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU});
403     \textcolor{keywordflow}{else}             \hyperlink{questpgr_8c_a3afe77a166a92a0eed50721a99e9987d}{deliver\_by\_window}(qt\_msg, \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT});
404     \textcolor{keywordflow}{return};
405 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_ae0744857befe36a1f16162f13dd7aba2}{\index{questpgr.\+c@{questpgr.\+c}!construct\+\_\+qtlist@{construct\+\_\+qtlist}}
\index{construct\+\_\+qtlist@{construct\+\_\+qtlist}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{construct\+\_\+qtlist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} struct {\bf qtmsg}$\ast$ construct\+\_\+qtlist (
\begin{DoxyParamCaption}
\item[{long}]{hdr\+\_\+offset}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_ae0744857befe36a1f16162f13dd7aba2}


Definition at line 69 of file questpgr.\+c.



References alloc(), dlb\+\_\+fseek, Fread(), and S\+E\+E\+K\+\_\+\+S\+E\+T.



Referenced by load\+\_\+qtlist().


\begin{DoxyCode}
71 \{
72     \textcolor{keyword}{struct }\hyperlink{structqtmsg}{qtmsg} *msg\_list;
73     \textcolor{keywordtype}{int} n\_msgs;
74 
75     (void) \hyperlink{dlb_8h_a3c65d33411ed198b8c061327bdefbc85}{dlb\_fseek}(\hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file}, hdr\_offset, \hyperlink{dlb_8h_a0d112bae8fd35be772185b6ec6bcbe64}{SEEK\_SET});
76     \hyperlink{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{Fread}(&n\_msgs, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}), 1, \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file});
77     msg\_list = (\textcolor{keyword}{struct }\hyperlink{structqtmsg}{qtmsg} *)
78         \hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}((\textcolor{keywordtype}{unsigned})(n\_msgs+1)*\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structqtmsg}{qtmsg}));
79 
80     \textcolor{comment}{/*}
81 \textcolor{comment}{     * Load up the list.}
82 \textcolor{comment}{     */}
83     \hyperlink{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{Fread}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t})msg\_list, n\_msgs*\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structqtmsg}{qtmsg}), 1, 
      \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file});
84 
85     msg\_list[n\_msgs].msgnum = -1;
86     \textcolor{keywordflow}{return}(msg\_list);
87 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a196a93aaf052c2ba3101dd70be4a5747}{\index{questpgr.\+c@{questpgr.\+c}!convert\+\_\+arg@{convert\+\_\+arg}}
\index{convert\+\_\+arg@{convert\+\_\+arg}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{convert\+\_\+arg}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void convert\+\_\+arg (
\begin{DoxyParamCaption}
\item[{char}]{c}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a196a93aaf052c2ba3101dd70be4a5747}


Definition at line 226 of file questpgr.\+c.



References A\+\_\+\+L\+A\+W\+F\+U\+L, A\+\_\+\+O\+R\+I\+G\+I\+N\+A\+L, align\+\_\+gname(), align\+\_\+gtitle(), Blind, dungeon\+::dname, dungeons, Role\+Name\+::f, flag\+::female, flags, guardname(), homebase(), intermed(), ldrname(), Role\+Name\+::m, M\+I\+N\+\_\+\+Q\+U\+E\+S\+T\+\_\+\+L\+E\+V\+E\+L, Role\+::name, neminame(), plname, Role\+::questarti, Role\+\_\+switch, Strcpy, align\+::type, u, you\+::ualign, you\+::ualignbase, you\+::ulevel, and urole.



Referenced by convert\+\_\+line().


\begin{DoxyCode}
228 \{
229     \textcolor{keyword}{register} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *str;
230 
231     \textcolor{keywordflow}{switch} (c) \{
232 
233         \textcolor{keywordflow}{case} \textcolor{charliteral}{'p'}:   str = \hyperlink{decl_8h_a362b24d8378ea9e5a611cc50d66e354b}{plname};
234             \textcolor{keywordflow}{break};
235         \textcolor{keywordflow}{case} \textcolor{charliteral}{'c'}:   str = (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female} && \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a9d8f4b8c99abfbf5ca40901e5dcc581a}{f}) ?
236                     \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a9d8f4b8c99abfbf5ca40901e5dcc581a}{f} : \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a264d1ed0d4715edaaad295e8ab4c1002}{m};
237             \textcolor{keywordflow}{break};
238         \textcolor{keywordflow}{case} \textcolor{charliteral}{'r'}:   str = rank\_of(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel}, \hyperlink{you_8h_a4e9c08c02937a7b0216c1ebdd3a3255d}{Role\_switch}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female});
239             \textcolor{keywordflow}{break};
240         \textcolor{keywordflow}{case} \textcolor{charliteral}{'R'}:   str = rank\_of(\hyperlink{quest_8h_a7395352ab0f7cead018562948c5abb59}{MIN\_QUEST\_LEVEL}, \hyperlink{you_8h_a4e9c08c02937a7b0216c1ebdd3a3255d}{Role\_switch},
241                     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female});
242             \textcolor{keywordflow}{break};
243         \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}:   str = (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female}) ? \textcolor{stringliteral}{"sister"} : \textcolor{stringliteral}{"brother"};
244             \textcolor{keywordflow}{break};
245         \textcolor{keywordflow}{case} \textcolor{charliteral}{'S'}:   str = (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female}) ? \textcolor{stringliteral}{"daughter"} : \textcolor{stringliteral}{"son"};
246             \textcolor{keywordflow}{break};
247         \textcolor{keywordflow}{case} \textcolor{charliteral}{'l'}:   str = \hyperlink{questpgr_8c_aadd9054d0afe03ecc1bdef534b02b44d}{ldrname}();
248             \textcolor{keywordflow}{break};
249         \textcolor{keywordflow}{case} \textcolor{charliteral}{'i'}:   str = \hyperlink{questpgr_8c_a30f3a27dfff59fdf152864a7156bde24}{intermed}();
250             \textcolor{keywordflow}{break};
251         \textcolor{keywordflow}{case} \textcolor{charliteral}{'o'}:   str = the(artiname(\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_af3333d55b15fae9edb56c414ecc9ccf3}{questarti}));
252             \textcolor{keywordflow}{break};
253         \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:   str = \hyperlink{questpgr_8c_a1e02821c95441d7362d1b244acca4ed1}{neminame}();
254             \textcolor{keywordflow}{break};
255         \textcolor{keywordflow}{case} \textcolor{charliteral}{'g'}:   str = \hyperlink{questpgr_8c_a41549fc354220b6b792f9609053eae60}{guardname}();
256             \textcolor{keywordflow}{break};
257         \textcolor{keywordflow}{case} \textcolor{charliteral}{'G'}:   str = \hyperlink{pray_8c_a47e91145b4bc062d384a798de405d405}{align\_gtitle}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[
      \hyperlink{you_8h_aadbc53a20604f260f6f2b0db9fe19b1d}{A\_ORIGINAL}]);
258             \textcolor{keywordflow}{break};
259         \textcolor{keywordflow}{case} \textcolor{charliteral}{'H'}:   str = \hyperlink{questpgr_8c_ac002fc525129588df83030587759b88c}{homebase}();
260             \textcolor{keywordflow}{break};
261         \textcolor{keywordflow}{case} \textcolor{charliteral}{'a'}:   str = align\_str(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[\hyperlink{you_8h_aadbc53a20604f260f6f2b0db9fe19b1d}{A\_ORIGINAL}]);
262             \textcolor{keywordflow}{break};
263         \textcolor{keywordflow}{case} \textcolor{charliteral}{'A'}:   str = align\_str(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});
264             \textcolor{keywordflow}{break};
265         \textcolor{keywordflow}{case} \textcolor{charliteral}{'d'}:   str = \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[
      \hyperlink{you_8h_aadbc53a20604f260f6f2b0db9fe19b1d}{A\_ORIGINAL}]);
266             \textcolor{keywordflow}{break};
267         \textcolor{keywordflow}{case} \textcolor{charliteral}{'D'}:   str = \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(\hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL});
268             \textcolor{keywordflow}{break};
269         \textcolor{keywordflow}{case} \textcolor{charliteral}{'C'}:   str = \textcolor{stringliteral}{"chaotic"};
270             \textcolor{keywordflow}{break};
271         \textcolor{keywordflow}{case} \textcolor{charliteral}{'N'}:   str = \textcolor{stringliteral}{"neutral"};
272             \textcolor{keywordflow}{break};
273         \textcolor{keywordflow}{case} \textcolor{charliteral}{'L'}:   str = \textcolor{stringliteral}{"lawful"};
274             \textcolor{keywordflow}{break};
275         \textcolor{keywordflow}{case} \textcolor{charliteral}{'x'}:   str = \hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind} ? \textcolor{stringliteral}{"sense"} : \textcolor{stringliteral}{"see"};
276             \textcolor{keywordflow}{break};
277         \textcolor{keywordflow}{case} \textcolor{charliteral}{'Z'}:   str = \hyperlink{decl_8h_ac5ded4d65e561a90b475dc626c392a18}{dungeons}[0].\hyperlink{structdungeon_a802ae61c0d552cf15d77175a8d5b7c5c}{dname};
278             \textcolor{keywordflow}{break};
279         \textcolor{keywordflow}{case} \textcolor{charliteral}{'%'}:   str = \textcolor{stringliteral}{"%"};
280             \textcolor{keywordflow}{break};
281          \textcolor{keywordflow}{default}:   str = \textcolor{stringliteral}{""};
282             \textcolor{keywordflow}{break};
283     \}
284     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}, str);
285 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_aa0dee6e13c17409b4dcd1c0640d334e4}{\index{questpgr.\+c@{questpgr.\+c}!convert\+\_\+line@{convert\+\_\+line}}
\index{convert\+\_\+line@{convert\+\_\+line}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{convert\+\_\+line}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void convert\+\_\+line (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_aa0dee6e13c17409b4dcd1c0640d334e4}


Definition at line 288 of file questpgr.\+c.



References B\+U\+F\+S\+Z, convert\+\_\+arg(), out\+\_\+line, panic(), Strcat, Strcpy, strncmpi(), and xcrypt().



Referenced by deliver\+\_\+by\+\_\+pline(), and deliver\+\_\+by\+\_\+window().


\begin{DoxyCode}
289 \{
290     \textcolor{keywordtype}{char} *c, *cc;
291     \textcolor{keywordtype}{char} xbuf[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
292 
293     cc = \hyperlink{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}{out\_line};
294     \textcolor{keywordflow}{for} (c = \hyperlink{makedefs_8c_a7c42e69a2e02db9820c27498ee6367c1}{xcrypt}(\hyperlink{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}{in\_line}, xbuf); *c; c++) \{
295 
296         *cc = 0;
297         \textcolor{keywordflow}{switch}(*c) \{
298 
299         \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)r'}:
300         \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)n'}:
301             *(++cc) = 0;
302             \textcolor{keywordflow}{return};
303 
304         \textcolor{keywordflow}{case} \textcolor{charliteral}{'%'}:
305             \textcolor{keywordflow}{if} (*(c+1)) \{
306                 \hyperlink{questpgr_8c_a196a93aaf052c2ba3101dd70be4a5747}{convert\_arg}(*(++c));
307                 \textcolor{keywordflow}{switch} (*(++c)) \{
308 
309                     \textcolor{comment}{/* insert "a"/"an" prefix */}
310                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'A'}: \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(cc, An(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}));
311                     cc += strlen(cc);
312                     \textcolor{keywordflow}{continue}; \textcolor{comment}{/* for */}
313                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'a'}: \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(cc, an(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}));
314                     cc += strlen(cc);
315                     \textcolor{keywordflow}{continue}; \textcolor{comment}{/* for */}
316 
317                     \textcolor{comment}{/* capitalize */}
318                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'C'}: \hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}[0] = highc(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}[0]);
319                     \textcolor{keywordflow}{break};
320 
321                     \textcolor{comment}{/* pluralize */}
322                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'P'}: \hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}[0] = highc(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}[0]);
323                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'p'}: \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}, makeplural(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}));
324                     \textcolor{keywordflow}{break};
325 
326                     \textcolor{comment}{/* append possessive suffix */}
327                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'S'}: \hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}[0] = highc(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}[0]);
328                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'s'}: \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}, s\_suffix(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}));
329                     \textcolor{keywordflow}{break};
330 
331                     \textcolor{comment}{/* strip any "the" prefix */}
332                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'t'}: \textcolor{keywordflow}{if} (!\hyperlink{winmain_8c_a5dba8f2d62f353a6e27760e54500d3f7}{strncmpi}(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}, \textcolor{stringliteral}{"the "}, 4)) \{
333                     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(cc, &\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf}[4]);
334                     cc += strlen(cc);
335                     \textcolor{keywordflow}{continue}; \textcolor{comment}{/* for */}
336                     \}
337                     \textcolor{keywordflow}{break};
338 
339                 \textcolor{keywordflow}{default}: --c;   \textcolor{comment}{/* undo switch increment */}
340                     \textcolor{keywordflow}{break};
341                 \}
342                 \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(cc, \hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf});
343                 cc += strlen(\hyperlink{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{cvt\_buf});
344                 \textcolor{keywordflow}{break};
345             \}   \textcolor{comment}{/* else fall through */}
346 
347         \textcolor{keywordflow}{default}:
348             *cc++ = *c;
349             \textcolor{keywordflow}{break};
350         \}
351     \}
352     \textcolor{keywordflow}{if} (cc >= \hyperlink{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}{out\_line} + \textcolor{keyword}{sizeof} \hyperlink{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}{out\_line})
353         \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"convert\_line: overflow"});
354     *cc = 0;
355     \textcolor{keywordflow}{return};
356 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a5cc9a1e04bb7cceabbd9c256389dfa88}{\index{questpgr.\+c@{questpgr.\+c}!deliver\+\_\+by\+\_\+pline@{deliver\+\_\+by\+\_\+pline}}
\index{deliver\+\_\+by\+\_\+pline@{deliver\+\_\+by\+\_\+pline}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{deliver\+\_\+by\+\_\+pline}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void deliver\+\_\+by\+\_\+pline (
\begin{DoxyParamCaption}
\item[{struct {\bf qtmsg} $\ast$}]{qt\+\_\+msg}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a5cc9a1e04bb7cceabbd9c256389dfa88}


Definition at line 359 of file questpgr.\+c.



References convert\+\_\+line(), dlb\+\_\+fgets, and qtmsg\+::size.



Referenced by com\+\_\+pager(), and qt\+\_\+pager().


\begin{DoxyCode}
361 \{
362     \textcolor{keywordtype}{long}    \hyperlink{structqtmsg_a581321cc38e8c15acbf2310751c3b115}{size};
363 
364     \textcolor{keywordflow}{for} (size = 0; size < qt\_msg->\hyperlink{structqtmsg_a581321cc38e8c15acbf2310751c3b115}{size}; size += (long)strlen(\hyperlink{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}{in\_line})) \{
365         (void) \hyperlink{dlb_8h_a0c5a17bfc873332e8ef26262d8527e91}{dlb\_fgets}(\hyperlink{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}{in\_line}, 80, \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file});
366         \hyperlink{questpgr_8c_aa0dee6e13c17409b4dcd1c0640d334e4}{convert\_line}();
367         pline(\hyperlink{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}{out\_line});
368     \}
369 
370 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a3afe77a166a92a0eed50721a99e9987d}{\index{questpgr.\+c@{questpgr.\+c}!deliver\+\_\+by\+\_\+window@{deliver\+\_\+by\+\_\+window}}
\index{deliver\+\_\+by\+\_\+window@{deliver\+\_\+by\+\_\+window}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{deliver\+\_\+by\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void deliver\+\_\+by\+\_\+window (
\begin{DoxyParamCaption}
\item[{struct {\bf qtmsg} $\ast$}]{qt\+\_\+msg, }
\item[{int}]{how}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a3afe77a166a92a0eed50721a99e9987d}


Definition at line 373 of file questpgr.\+c.



References convert\+\_\+line(), create\+\_\+nhwindow, destroy\+\_\+nhwindow, display\+\_\+nhwindow, dlb\+\_\+fgets, putstr, qtmsg\+::size, and T\+R\+U\+E.



Referenced by com\+\_\+pager(), and qt\+\_\+pager().


\begin{DoxyCode}
376 \{
377     \textcolor{keywordtype}{long}    \hyperlink{structqtmsg_a581321cc38e8c15acbf2310751c3b115}{size};
378     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} datawin = \hyperlink{winprocs_8h_aa13fb35379049d1836397492d10b6b0c}{create\_nhwindow}(how);
379 
380     \textcolor{keywordflow}{for} (size = 0; size < qt\_msg->\hyperlink{structqtmsg_a581321cc38e8c15acbf2310751c3b115}{size}; size += (long)strlen(\hyperlink{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}{in\_line})) \{
381         (void) \hyperlink{dlb_8h_a0c5a17bfc873332e8ef26262d8527e91}{dlb\_fgets}(\hyperlink{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}{in\_line}, 80, \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file});
382         \hyperlink{questpgr_8c_aa0dee6e13c17409b4dcd1c0640d334e4}{convert\_line}();
383         \hyperlink{winprocs_8h_a2ab348888957358569f859127c0bc474}{putstr}(datawin, 0, \hyperlink{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}{out\_line});
384     \}
385     \hyperlink{winprocs_8h_ac8e74d03fbb65b9f5651e63d79bebc60}{display\_nhwindow}(datawin, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
386     \hyperlink{winprocs_8h_a77ac4f50de0eedeaead791812762c6a0}{destroy\_nhwindow}(datawin);
387 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_aa926b3df654e3802efa2a56892f98683}{\index{questpgr.\+c@{questpgr.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf Fread}}]{, }
\item[{({\bf genericptr\+\_\+t}, int, int, {\bf dlb} $\ast$)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_aa926b3df654e3802efa2a56892f98683}
\hypertarget{questpgr_8c_ae568c4ae9fc6ebb00014140bbd92c65d}{\index{questpgr.\+c@{questpgr.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} struct {\bf qtmsg}$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf construct\+\_\+qtlist}}]{, }
\item[{(long)}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_ae568c4ae9fc6ebb00014140bbd92c65d}
\hypertarget{questpgr_8c_ab992c40ab8b0ef1fd1315b2108d866ce}{\index{questpgr.\+c@{questpgr.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} struct {\bf qtmsg}$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf msg\+\_\+in}}]{, }
\item[{(struct {\bf qtmsg} $\ast$, int)}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_ab992c40ab8b0ef1fd1315b2108d866ce}
\hypertarget{questpgr_8c_a78c91620a81dcd26be76055887b13c84}{\index{questpgr.\+c@{questpgr.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf convert\+\_\+arg}}]{, }
\item[{({\bf C\+H\+A\+R\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a78c91620a81dcd26be76055887b13c84}
\hypertarget{questpgr_8c_ac27d910c3f27879b895b6528881fd969}{\index{questpgr.\+c@{questpgr.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf deliver\+\_\+by\+\_\+pline}}]{, }
\item[{(struct {\bf qtmsg} $\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_ac27d910c3f27879b895b6528881fd969}
\hypertarget{questpgr_8c_a710ba405730679fb3b33331305ca1301}{\index{questpgr.\+c@{questpgr.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf deliver\+\_\+by\+\_\+window}}]{, }
\item[{(struct {\bf qtmsg} $\ast$, int)}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a710ba405730679fb3b33331305ca1301}
\hypertarget{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{\index{questpgr.\+c@{questpgr.\+c}!Fread@{Fread}}
\index{Fread@{Fread}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{Fread}]{\setlength{\rightskip}{0pt plus 5cm}static void Fread (
\begin{DoxyParamCaption}
\item[{{\bf genericptr\+\_\+t}}]{ptr, }
\item[{int}]{size, }
\item[{int}]{nitems, }
\item[{{\bf dlb}	$\ast$}]{stream}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}


Definition at line 54 of file questpgr.\+c.



References dlb\+\_\+fread, and panic().



Referenced by construct\+\_\+qtlist(), and load\+\_\+qtlist().


\begin{DoxyCode}
58 \{
59     \textcolor{keywordtype}{int} cnt;
60 
61     \textcolor{keywordflow}{if} ((cnt = \hyperlink{dlb_8h_af592eddf34d2c61fface3d1bd8fae80a}{dlb\_fread}(ptr, \hyperlink{structsize}{size}, nitems, stream)) != nitems) \{
62 
63         \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"PREMATURE EOF ON QUEST TEXT FILE! Expected %d bytes, got %d"},
64             (\hyperlink{structsize}{size} * nitems), (\hyperlink{structsize}{size} * cnt));
65     \}
66 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a41549fc354220b6b792f9609053eae60}{\index{questpgr.\+c@{questpgr.\+c}!guardname@{guardname}}
\index{guardname@{guardname}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{guardname}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} {\bf const} char$\ast$ guardname (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a41549fc354220b6b792f9609053eae60}


Definition at line 199 of file questpgr.\+c.



References Role\+::guardnum, mons, and urole.



Referenced by convert\+\_\+arg().


\begin{DoxyCode}
200 \{
201     \textcolor{keywordtype}{int} i = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a3bd52e2bb34943b6f68757fadf6fe6fb}{guardnum};
202 
203     \textcolor{keywordflow}{return}(\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[i].mname);
204 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_ac002fc525129588df83030587759b88c}{\index{questpgr.\+c@{questpgr.\+c}!homebase@{homebase}}
\index{homebase@{homebase}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{homebase}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} {\bf const} char$\ast$ homebase (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_ac002fc525129588df83030587759b88c}


Definition at line 207 of file questpgr.\+c.



References Role\+::homebase, and urole.



Referenced by convert\+\_\+arg().


\begin{DoxyCode}
208 \{
209     \textcolor{keywordflow}{return}(\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_ace7a79e835912cd60155902cdef2f00c}{homebase});
210 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a30f3a27dfff59fdf152864a7156bde24}{\index{questpgr.\+c@{questpgr.\+c}!intermed@{intermed}}
\index{intermed@{intermed}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{intermed}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} {\bf const} char$\ast$ intermed (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a30f3a27dfff59fdf152864a7156bde24}


Definition at line 175 of file questpgr.\+c.



References Role\+::intermed, and urole.



Referenced by convert\+\_\+arg().


\begin{DoxyCode}
176 \{
177     \textcolor{keywordflow}{return} (\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a25659d9956087171d17d31d3df5366b3}{intermed});
178 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a883c5ecd485acd110958e3a233cf9b57}{\index{questpgr.\+c@{questpgr.\+c}!is\+\_\+quest\+\_\+artifact@{is\+\_\+quest\+\_\+artifact}}
\index{is\+\_\+quest\+\_\+artifact@{is\+\_\+quest\+\_\+artifact}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{is\+\_\+quest\+\_\+artifact}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} is\+\_\+quest\+\_\+artifact (
\begin{DoxyParamCaption}
\item[{struct {\bf obj} $\ast$}]{otmp}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a883c5ecd485acd110958e3a233cf9b57}


Definition at line 181 of file questpgr.\+c.



References Role\+::questarti, and urole.



Referenced by chat\+\_\+with\+\_\+leader(), and resetobjs().


\begin{DoxyCode}
183 \{
184     \textcolor{keywordflow}{return}((\textcolor{keywordtype}{boolean})(otmp->\hyperlink{structobj_af03ce8a6a0ca51e8d8954fb1a1a31fbe}{oartifact} == \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_af3333d55b15fae9edb56c414ecc9ccf3}{questarti}));
185 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_aadd9054d0afe03ecc1bdef534b02b44d}{\index{questpgr.\+c@{questpgr.\+c}!ldrname@{ldrname}}
\index{ldrname@{ldrname}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{ldrname}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ ldrname (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_aadd9054d0afe03ecc1bdef534b02b44d}


Definition at line 164 of file questpgr.\+c.



References Role\+::ldrnum, mons, nambuf, Sprintf, type\+\_\+is\+\_\+pname, and urole.



Referenced by convert\+\_\+arg().


\begin{DoxyCode}
165 \{
166     \textcolor{keywordtype}{int} i = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a0540f9522a3678aa359d4d84ad7c9f28}{ldrnum};
167 
168     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(\hyperlink{questpgr_8c_a0d2e3145707b491c18fd62d7dd92f4a3}{nambuf}, \textcolor{stringliteral}{"%s%s"},
169         \hyperlink{mondata_8h_a431e6a2710b289745d56debf83fafc33}{type\_is\_pname}(&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[i]) ? \textcolor{stringliteral}{""} : \textcolor{stringliteral}{"the "},
170         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[i].mname);
171     \textcolor{keywordflow}{return} \hyperlink{questpgr_8c_a0d2e3145707b491c18fd62d7dd92f4a3}{nambuf};
172 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_ad26ecae850ce65c43095fe0fe8ab4b43}{\index{questpgr.\+c@{questpgr.\+c}!load\+\_\+qtlist@{load\+\_\+qtlist}}
\index{load\+\_\+qtlist@{load\+\_\+qtlist}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{load\+\_\+qtlist}]{\setlength{\rightskip}{0pt plus 5cm}void load\+\_\+qtlist (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_ad26ecae850ce65c43095fe0fe8ab4b43}


Definition at line 90 of file questpgr.\+c.



References qtlists\+::chrole, qtlists\+::common, C\+O\+M\+M\+O\+N\+\_\+\+I\+D, construct\+\_\+qtlist(), dlb\+\_\+fopen, Role\+::filecode, Race\+::filecode, Fread(), L\+E\+N\+\_\+\+H\+D\+R, N\+\_\+\+H\+D\+R, panic(), qt\+\_\+list, Q\+T\+E\+X\+T\+\_\+\+F\+I\+L\+E, R\+D\+B\+M\+O\+D\+E, urace, and urole.



Referenced by dorecover().


\begin{DoxyCode}
91 \{
92 
93     \textcolor{keywordtype}{int} n\_classes, i;
94     \textcolor{keywordtype}{char}    qt\_classes[\hyperlink{qtext_8h_a628fb219d232fb64fcf62191b4bb07e1}{N\_HDR}][\hyperlink{qtext_8h_a82e25eae2ecc30728e4b49766f143ef5}{LEN\_HDR}];
95     \textcolor{keywordtype}{long}    qt\_offsets[\hyperlink{qtext_8h_a628fb219d232fb64fcf62191b4bb07e1}{N\_HDR}];
96 
97     \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file} = \hyperlink{dlb_8h_a46a9ab27d1ae601750baeacc2c0a8d44}{dlb\_fopen}(\hyperlink{questpgr_8c_a6d47cb009ed2a231cb3ba1efde61674c}{QTEXT\_FILE}, \hyperlink{dlb_8h_a79632e8c9d823c787062c20ec123ae24}{RDBMODE});
98     \textcolor{keywordflow}{if} (!\hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file})
99         \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"CANNOT OPEN QUEST TEXT FILE %s."}, \hyperlink{questpgr_8c_a6d47cb009ed2a231cb3ba1efde61674c}{QTEXT\_FILE});
100 
101     \textcolor{comment}{/*}
102 \textcolor{comment}{     * Read in the number of classes, then the ID's & offsets for}
103 \textcolor{comment}{     * each header.}
104 \textcolor{comment}{     */}
105 
106     \hyperlink{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{Fread}(&n\_classes, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}), 1, \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file});
107     \hyperlink{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{Fread}(&qt\_classes[0][0], \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char})*\hyperlink{qtext_8h_a82e25eae2ecc30728e4b49766f143ef5}{LEN\_HDR}, n\_classes, 
      \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file});
108     \hyperlink{questpgr_8c_a9cdac246d6f2d9fb08b6b8e2b1be6050}{Fread}(qt\_offsets, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{long}), n\_classes, \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file});
109 
110     \textcolor{comment}{/*}
111 \textcolor{comment}{     * Now construct the message lists for quick reference later}
112 \textcolor{comment}{     * on when we are actually paging the messages out.}
113 \textcolor{comment}{     */}
114 
115     \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a8270da46f3805bf94c58c27ad8ac7694}{common} = \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a5bd19d1503d304d3b55f89dc26c45f1a}{chrole} = (\textcolor{keyword}{struct }\hyperlink{structqtmsg}{qtmsg} *)0;
116 
117     \textcolor{keywordflow}{for} (i = 0; i < n\_classes; i++) \{
118         \textcolor{keywordflow}{if} (!strncmp(\hyperlink{qtext_8h_a07c566371bc11e305c1d66cca17e4c06}{COMMON\_ID}, qt\_classes[i], \hyperlink{qtext_8h_a82e25eae2ecc30728e4b49766f143ef5}{LEN\_HDR}))
119             \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a8270da46f3805bf94c58c27ad8ac7694}{common} = \hyperlink{questpgr_8c_ae0744857befe36a1f16162f13dd7aba2}{construct\_qtlist}(qt\_offsets[i]);
120         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!strncmp(\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a34fefa6544afd2b36d6deeb9b6fa054f}{filecode}, qt\_classes[i], \hyperlink{qtext_8h_a82e25eae2ecc30728e4b49766f143ef5}{LEN\_HDR}))
121             \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a5bd19d1503d304d3b55f89dc26c45f1a}{chrole} = \hyperlink{questpgr_8c_ae0744857befe36a1f16162f13dd7aba2}{construct\_qtlist}(qt\_offsets[i]);
122 \textcolor{preprocessor}{#if 0   }\textcolor{comment}{/* UNUSED but available */}\textcolor{preprocessor}{}
123         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!strncmp(\hyperlink{you_8h_adaecc633890bd84d5cfceaf4a513bbaa}{urace}.\hyperlink{structRace_a897f9034ff9163ef0ebcc9ebee43e3c3}{filecode}, qt\_classes[i], \hyperlink{qtext_8h_a82e25eae2ecc30728e4b49766f143ef5}{LEN\_HDR}))
124             \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.chrace = \hyperlink{questpgr_8c_ae0744857befe36a1f16162f13dd7aba2}{construct\_qtlist}(qt\_offsets[i]);
125 \textcolor{preprocessor}{#endif}
126     \}
127 
128     \textcolor{keywordflow}{if} (!\hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a8270da46f3805bf94c58c27ad8ac7694}{common} || !\hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a5bd19d1503d304d3b55f89dc26c45f1a}{chrole})
129         impossible(\textcolor{stringliteral}{"load\_qtlist: cannot load quest text."});
130 \textcolor{preprocessor}{#ifdef DEBUG}
131     dump\_qtlist();
132 \textcolor{preprocessor}{#endif}
133     \textcolor{keywordflow}{return}; \textcolor{comment}{/* no ***DON'T*** close the msg\_file */}
134 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_afca69768d2032e27b71eaabd169c1487}{\index{questpgr.\+c@{questpgr.\+c}!msg\+\_\+in@{msg\+\_\+in}}
\index{msg\+\_\+in@{msg\+\_\+in}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{msg\+\_\+in}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} struct {\bf qtmsg}$\ast$ msg\+\_\+in (
\begin{DoxyParamCaption}
\item[{struct {\bf qtmsg} $\ast$}]{qtm\+\_\+list, }
\item[{int}]{msgnum}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_afca69768d2032e27b71eaabd169c1487}


Definition at line 213 of file questpgr.\+c.



References qtmsg\+::msgnum.



Referenced by com\+\_\+pager(), and qt\+\_\+pager().


\begin{DoxyCode}
216 \{
217     \textcolor{keyword}{struct }\hyperlink{structqtmsg}{qtmsg} *qt\_msg;
218 
219     \textcolor{keywordflow}{for} (qt\_msg = qtm\_list; qt\_msg->\hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum} > 0; qt\_msg++)
220         \textcolor{keywordflow}{if} (qt\_msg->\hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum} == \hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum}) \textcolor{keywordflow}{return}(qt\_msg);
221 
222     \textcolor{keywordflow}{return}((\textcolor{keyword}{struct} \hyperlink{structqtmsg}{qtmsg} *)0);
223 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a5f8f4cedfe817c8a0d1a873f4940d6f6}{\index{questpgr.\+c@{questpgr.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} {\bf const} char$\ast$ N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf intermed}}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a5f8f4cedfe817c8a0d1a873f4940d6f6}
\hypertarget{questpgr_8c_a29a779408a1aa48078d4115dee8380a4}{\index{questpgr.\+c@{questpgr.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} {\bf const} char$\ast$ N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf neminame}}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a29a779408a1aa48078d4115dee8380a4}
\hypertarget{questpgr_8c_a3efbc088ca8e32dd0f050f9194f0349d}{\index{questpgr.\+c@{questpgr.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} {\bf const} char$\ast$ N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf guardname}}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a3efbc088ca8e32dd0f050f9194f0349d}
\hypertarget{questpgr_8c_a6962ebe92418b1d3585d55ce83dcf983}{\index{questpgr.\+c@{questpgr.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} {\bf const} char$\ast$ N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf homebase}}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a6962ebe92418b1d3585d55ce83dcf983}
\hypertarget{questpgr_8c_a41855456ccc581cf4e2fbb8d1d6be2ed}{\index{questpgr.\+c@{questpgr.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf convert\+\_\+line}}]{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a41855456ccc581cf4e2fbb8d1d6be2ed}
\hypertarget{questpgr_8c_a1e02821c95441d7362d1b244acca4ed1}{\index{questpgr.\+c@{questpgr.\+c}!neminame@{neminame}}
\index{neminame@{neminame}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{neminame}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} {\bf const} char$\ast$ neminame (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a1e02821c95441d7362d1b244acca4ed1}


Definition at line 188 of file questpgr.\+c.



References mons, nambuf, Role\+::neminum, Sprintf, type\+\_\+is\+\_\+pname, and urole.



Referenced by convert\+\_\+arg().


\begin{DoxyCode}
189 \{
190     \textcolor{keywordtype}{int} i = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aec68a6097bd49a6e67141282f92ad09c}{neminum};
191 
192     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(\hyperlink{questpgr_8c_a0d2e3145707b491c18fd62d7dd92f4a3}{nambuf}, \textcolor{stringliteral}{"%s%s"},
193         \hyperlink{mondata_8h_a431e6a2710b289745d56debf83fafc33}{type\_is\_pname}(&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[i]) ? \textcolor{stringliteral}{""} : \textcolor{stringliteral}{"the "},
194         \hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[i].mname);
195     \textcolor{keywordflow}{return} \hyperlink{questpgr_8c_a0d2e3145707b491c18fd62d7dd92f4a3}{nambuf};
196 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a57090f6c6e025099a1ce1e0750885cc4}{\index{questpgr.\+c@{questpgr.\+c}!qt\+\_\+montype@{qt\+\_\+montype}}
\index{qt\+\_\+montype@{qt\+\_\+montype}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{qt\+\_\+montype}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf permonst}$\ast$ qt\+\_\+montype (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a57090f6c6e025099a1ce1e0750885cc4}


Definition at line 426 of file questpgr.\+c.



References Role\+::enemy1num, Role\+::enemy1sym, Role\+::enemy2num, Role\+::enemy2sym, G\+\_\+\+G\+E\+N\+O\+D, mons, N\+O\+N\+\_\+\+P\+M, and urole.


\begin{DoxyCode}
427 \{
428     \textcolor{keywordtype}{int} qpm;
429 
430     \textcolor{keywordflow}{if} (rn2(5)) \{
431         qpm = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_afd83037707f346bb77d598d7127d91c7}{enemy1num};
432         \textcolor{keywordflow}{if} (qpm != \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM} && rn2(5) && !(\hyperlink{structmvitals}{mvitals}[qpm].mvflags & 
      \hyperlink{monflag_8h_a89b3308e85c121e38c6bef7077e49fd8}{G\_GENOD}))
433             \textcolor{keywordflow}{return} (&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[qpm]);
434         \textcolor{keywordflow}{return} (mkclass(\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_af9435006074321c68acd62a0984e6aa3}{enemy1sym}, 0));
435     \}
436     qpm = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aaf0a9b355748df254a91e298e7fc1d08}{enemy2num};
437     \textcolor{keywordflow}{if} (qpm != \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM} && rn2(5) && !(\hyperlink{structmvitals}{mvitals}[qpm].mvflags & G\_GENOD))
438         \textcolor{keywordflow}{return} (&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[qpm]);
439     \textcolor{keywordflow}{return} (mkclass(\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a9d080791fa1390a00f02d3cd16b63940}{enemy2sym}, 0));
440 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a8382da39d72ba0389c82a68081634ab7}{\index{questpgr.\+c@{questpgr.\+c}!qt\+\_\+pager@{qt\+\_\+pager}}
\index{qt\+\_\+pager@{qt\+\_\+pager}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{qt\+\_\+pager}]{\setlength{\rightskip}{0pt plus 5cm}void qt\+\_\+pager (
\begin{DoxyParamCaption}
\item[{int}]{msgnum}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a8382da39d72ba0389c82a68081634ab7}


Definition at line 408 of file questpgr.\+c.



References qtlists\+::chrole, deliver\+\_\+by\+\_\+pline(), deliver\+\_\+by\+\_\+window(), qtmsg\+::delivery, dlb\+\_\+fseek, msg\+\_\+in(), window\+\_\+procs\+::name, N\+H\+W\+\_\+\+T\+E\+X\+T, qtmsg\+::offset, qt\+\_\+list, S\+E\+E\+K\+\_\+\+S\+E\+T, and windowprocs.



Referenced by artitouch(), chat\+\_\+with\+\_\+guardian(), chat\+\_\+with\+\_\+leader(), chat\+\_\+with\+\_\+nemesis(), finish\+\_\+quest(), leader\+\_\+speaks(), nemdead(), nemesis\+\_\+speaks(), on\+\_\+goal(), on\+\_\+locate(), and on\+\_\+start().


\begin{DoxyCode}
410 \{
411     \textcolor{keyword}{struct }\hyperlink{structqtmsg}{qtmsg} *qt\_msg;
412 
413     \textcolor{keywordflow}{if} (!(qt\_msg = \hyperlink{questpgr_8c_afca69768d2032e27b71eaabd169c1487}{msg\_in}(\hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a5bd19d1503d304d3b55f89dc26c45f1a}{chrole}, \hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum}))) \{
414         impossible(\textcolor{stringliteral}{"qt\_pager: message %d not found."}, \hyperlink{structqtmsg_a14ccc152b3ebd69ecc3b24fe7771c0e2}{msgnum});
415         \textcolor{keywordflow}{return};
416     \}
417 
418     (void) \hyperlink{dlb_8h_a3c65d33411ed198b8c061327bdefbc85}{dlb\_fseek}(\hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file}, qt\_msg->\hyperlink{structqtmsg_a422909f4fbac3cf1b6a2890e06d4729a}{offset}, \hyperlink{dlb_8h_a0d112bae8fd35be772185b6ec6bcbe64}{SEEK\_SET});
419     \textcolor{keywordflow}{if} (qt\_msg->\hyperlink{structqtmsg_a3fee396a42086b53958e22f7aea1583d}{delivery} == \textcolor{charliteral}{'p'} && strcmp(\hyperlink{winprocs_8h_a166c17ce426a1c495296575938a60f9c}{windowprocs}.\hyperlink{structwindow__procs_a3c3f9beba0ac50aabe7ce172f042e917}{name}, \textcolor{stringliteral}{"X11"}))
420         \hyperlink{questpgr_8c_a5cc9a1e04bb7cceabbd9c256389dfa88}{deliver\_by\_pline}(qt\_msg);
421     \textcolor{keywordflow}{else}    \hyperlink{questpgr_8c_a3afe77a166a92a0eed50721a99e9987d}{deliver\_by\_window}(qt\_msg, \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT});
422     \textcolor{keywordflow}{return};
423 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a6c1f68cd1ad98ca016d66c151b88a2af}{\index{questpgr.\+c@{questpgr.\+c}!quest\+\_\+info@{quest\+\_\+info}}
\index{quest\+\_\+info@{quest\+\_\+info}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{quest\+\_\+info}]{\setlength{\rightskip}{0pt plus 5cm}short quest\+\_\+info (
\begin{DoxyParamCaption}
\item[{int}]{typ}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a6c1f68cd1ad98ca016d66c151b88a2af}


Definition at line 150 of file questpgr.\+c.



References Role\+::guardnum, Role\+::ldrnum, M\+S\+\_\+\+G\+U\+A\+R\+D\+I\+A\+N, M\+S\+\_\+\+L\+E\+A\+D\+E\+R, M\+S\+\_\+\+N\+E\+M\+E\+S\+I\+S, Role\+::neminum, Role\+::questarti, and urole.


\begin{DoxyCode}
152 \{
153     \textcolor{keywordflow}{switch} (typ) \{
154         \textcolor{keywordflow}{case} 0:     \textcolor{keywordflow}{return} (\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_af3333d55b15fae9edb56c414ecc9ccf3}{questarti});
155         \textcolor{keywordflow}{case} \hyperlink{monflag_8h_a57dd24aec371766f02747931edfcad46}{MS\_LEADER}:    \textcolor{keywordflow}{return} (\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a0540f9522a3678aa359d4d84ad7c9f28}{ldrnum});
156         \textcolor{keywordflow}{case} \hyperlink{monflag_8h_ad3e95482807ad66e48de9c5e1c865e63}{MS\_NEMESIS}:  \textcolor{keywordflow}{return} (\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aec68a6097bd49a6e67141282f92ad09c}{neminum});
157         \textcolor{keywordflow}{case} \hyperlink{monflag_8h_a1e410cbbb06eda4ed3d5c3aa6e1bf69f}{MS\_GUARDIAN}:    \textcolor{keywordflow}{return} (\hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a3bd52e2bb34943b6f68757fadf6fe6fb}{guardnum});
158         \textcolor{keywordflow}{default}:        impossible(\textcolor{stringliteral}{"quest\_info(%d)"}, typ);
159     \}
160     \textcolor{keywordflow}{return} 0;
161 \}
\end{DoxyCode}
\hypertarget{questpgr_8c_a8be49a36e9193fb686ac6db367a038f4}{\index{questpgr.\+c@{questpgr.\+c}!unload\+\_\+qtlist@{unload\+\_\+qtlist}}
\index{unload\+\_\+qtlist@{unload\+\_\+qtlist}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{unload\+\_\+qtlist}]{\setlength{\rightskip}{0pt plus 5cm}void unload\+\_\+qtlist (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{questpgr_8c_a8be49a36e9193fb686ac6db367a038f4}


Definition at line 138 of file questpgr.\+c.



References qtlists\+::chrole, qtlists\+::common, dlb\+\_\+fclose, free(), and qt\+\_\+list.



Referenced by freedynamicdata().


\begin{DoxyCode}
139 \{
140     \textcolor{keywordflow}{if} (\hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file})
141         (void) \hyperlink{dlb_8h_a882e4d8dcdf2cd3d9eee2b94debe38e1}{dlb\_fclose}(\hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file}),  \hyperlink{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{msg\_file} = 0;
142     \textcolor{keywordflow}{if} (\hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a8270da46f3805bf94c58c27ad8ac7694}{common})
143         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t}) \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a8270da46f3805bf94c58c27ad8ac7694}{common}),  
      \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a8270da46f3805bf94c58c27ad8ac7694}{common} = 0;
144     \textcolor{keywordflow}{if} (\hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a5bd19d1503d304d3b55f89dc26c45f1a}{chrole})
145         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t}) \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a5bd19d1503d304d3b55f89dc26c45f1a}{chrole}),  
      \hyperlink{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{qt\_list}.\hyperlink{structqtlists_a5bd19d1503d304d3b55f89dc26c45f1a}{chrole} = 0;
146     \textcolor{keywordflow}{return};
147 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}{\index{questpgr.\+c@{questpgr.\+c}!cvt\+\_\+buf@{cvt\+\_\+buf}}
\index{cvt\+\_\+buf@{cvt\+\_\+buf}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{cvt\+\_\+buf}]{\setlength{\rightskip}{0pt plus 5cm}char cvt\+\_\+buf\mbox{[}64\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_a11975bb9fed8707a50fa96726e5d00fc}


Definition at line 28 of file questpgr.\+c.

\hypertarget{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}{\index{questpgr.\+c@{questpgr.\+c}!in\+\_\+line@{in\+\_\+line}}
\index{in\+\_\+line@{in\+\_\+line}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{in\+\_\+line}]{\setlength{\rightskip}{0pt plus 5cm}char in\+\_\+line\mbox{[}80\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_aa80f36b0b4cc4e048a27ce0f92bf278c}


Definition at line 28 of file questpgr.\+c.

\hypertarget{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}{\index{questpgr.\+c@{questpgr.\+c}!msg\+\_\+file@{msg\+\_\+file}}
\index{msg\+\_\+file@{msg\+\_\+file}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{msg\+\_\+file}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dlb}$\ast$ msg\+\_\+file\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_a4ac75e471e8089a3f6a54dd4956ad427}


Definition at line 30 of file questpgr.\+c.

\hypertarget{questpgr_8c_a0d2e3145707b491c18fd62d7dd92f4a3}{\index{questpgr.\+c@{questpgr.\+c}!nambuf@{nambuf}}
\index{nambuf@{nambuf}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{nambuf}]{\setlength{\rightskip}{0pt plus 5cm}char nambuf\mbox{[}sizeof {\bf cvt\+\_\+buf}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_a0d2e3145707b491c18fd62d7dd92f4a3}


Definition at line 32 of file questpgr.\+c.



Referenced by damageum(), ldrname(), m\+\_\+dowear\+\_\+type(), neminame(), and use\+\_\+misc().

\hypertarget{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}{\index{questpgr.\+c@{questpgr.\+c}!out\+\_\+line@{out\+\_\+line}}
\index{out\+\_\+line@{out\+\_\+line}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{out\+\_\+line}]{\setlength{\rightskip}{0pt plus 5cm}char out\+\_\+line\mbox{[}128\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_a84ef4b447f46b2e8754dcb46ebdc6274}


Definition at line 28 of file questpgr.\+c.



Referenced by convert\+\_\+line().

\hypertarget{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}{\index{questpgr.\+c@{questpgr.\+c}!qt\+\_\+list@{qt\+\_\+list}}
\index{qt\+\_\+list@{qt\+\_\+list}!questpgr.\+c@{questpgr.\+c}}
\subsubsection[{qt\+\_\+list}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf qtlists} qt\+\_\+list\hspace{0.3cm}{\ttfamily [static]}}}\label{questpgr_8c_ac4d02c4d8c0e648ffaa8fed8118db4c8}


Definition at line 29 of file questpgr.\+c.



Referenced by com\+\_\+pager(), load\+\_\+qtlist(), qt\+\_\+pager(), and unload\+\_\+qtlist().

