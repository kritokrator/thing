\hypertarget{gnbind_8h}{\section{nethack/win/gnome/gnbind.h File Reference}
\label{gnbind_8h}\index{nethack/win/gnome/gnbind.\+h@{nethack/win/gnome/gnbind.\+h}}
}
{\ttfamily \#include $<$gnome.\+h$>$}\\*
{\ttfamily \#include $<$gdk/gdkkeysyms.\+h$>$}\\*
{\ttfamily \#include \char`\"{}gnomeprv.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnmain.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnmap.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnmenu.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnplayer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnsignal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnstatus.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gntext.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnmesg.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnyesno.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnglyph.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gnworn.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structgnome__nhwindow__data}{gnome\+\_\+nhwindow\+\_\+data}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{gnbind_8h_af269a7b9e75b06eb55576655ce6e5530}{M\+A\+X\+W\+I\+N\+D\+O\+W\+S}~15
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structgnome__nhwindow__data}{gnome\+\_\+nhwindow\+\_\+data} \hyperlink{gnbind_8h_af42f1d12b482b433e600f656156e929d}{G\+N\+H\+Win\+Data}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{gnbind_8h_aae69d369747213f015fa314fdf98da05}{gnome\+\_\+init\+\_\+nhwindows} (int $\ast$argc, char $\ast$$\ast$argv)
\item 
void \hyperlink{gnbind_8h_a0963ed88bbc773dc826c90632575df47}{gnome\+\_\+player\+\_\+selection} (void)
\item 
void \hyperlink{gnbind_8h_a810f9975bcdee507bbc83b20e6924bec}{gnome\+\_\+askname} (void)
\item 
void \hyperlink{gnbind_8h_a262494a99227522edbd85f74d4b54f0a}{gnome\+\_\+get\+\_\+nh\+\_\+event} (void)
\item 
void \hyperlink{gnbind_8h_a385497afa56cb18a6a17f8db74cb0b56}{gnome\+\_\+exit\+\_\+nhwindows} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$)
\item 
void \hyperlink{gnbind_8h_abb508e5ad3f389fe21a06e546b1762c6}{gnome\+\_\+suspend\+\_\+nhwindows} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$)
\item 
void \hyperlink{gnbind_8h_a1827109e9ed0badaff4adcaedc0e7fc7}{gnome\+\_\+resume\+\_\+nhwindows} (void)
\item 
\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} \hyperlink{gnbind_8h_aa4695c620a64c85d87e8db57d54dc9af}{gnome\+\_\+create\+\_\+nhwindow} (int \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type})
\item 
void \hyperlink{gnbind_8h_a21d763df47433a2cb4552a0c7bc6125b}{gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id} (int \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type}, \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} i)
\item 
void \hyperlink{gnbind_8h_a790a67c1db832de26e8703b652a0aa78}{gnome\+\_\+clear\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
void \hyperlink{gnbind_8h_aa624862405fee4e8a538867def91d6e1}{gnome\+\_\+display\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, \hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P} block)
\item 
void \hyperlink{gnbind_8h_ae13b22e67317d309970f2acb1528823f}{gnome\+\_\+destroy\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
void \hyperlink{gnbind_8h_a8f50e7be0742e052f4a94583057435d4}{gnome\+\_\+curs} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int x, int y)
\item 
void \hyperlink{gnbind_8h_a2918c2754516338cb3651babdfc224a9}{gnome\+\_\+putstr} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int attr, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$text)
\item 
void \hyperlink{gnbind_8h_acba38046c94ce5f2a812f25fb44b8dd2}{gnome\+\_\+display\+\_\+file} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$\hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename}, \hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P} must\+\_\+exist)
\item 
void \hyperlink{gnbind_8h_abc2103bcebb39bbf24525f05cf530390}{gnome\+\_\+start\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
void \hyperlink{gnbind_8h_ac387d474bd50b3f431b5aeaaacfd46d9}{gnome\+\_\+add\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int glyph, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{wintype_8h_ae29f750de92b8a7c2566957e5863fbed}{A\+N\+Y\+\_\+\+P} $\ast$identifier, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} accelerator, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} group\+\_\+accel, int attr, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str, \hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P} presel)
\item 
void \hyperlink{gnbind_8h_ab12a7241b98a9e76216a3072863360b6}{gnome\+\_\+end\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$prompt)
\item 
int \hyperlink{gnbind_8h_a014d61d5534b0cb3a4825ad26a911387}{gnome\+\_\+select\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int how, \hyperlink{wintype_8h_a56b56557611b7f64f4e6585a1b78c8f9}{M\+E\+N\+U\+\_\+\+I\+T\+E\+M\+\_\+\+P} $\ast$$\ast$selected)
\item 
void \hyperlink{gnbind_8h_a20d1422c08261d20c30586b0abcd8849}{gnome\+\_\+update\+\_\+inventory} (void)
\item 
void \hyperlink{gnbind_8h_a14767e10fc8d7ae257e00fc8780d038c}{gnome\+\_\+mark\+\_\+synch} (void)
\item 
void \hyperlink{gnbind_8h_a04352bc879e9ff9589f36f3726188b0c}{gnome\+\_\+wait\+\_\+synch} (void)
\item 
void \hyperlink{gnbind_8h_a6d2f27c7a6097aeac7ea0a67b15d8a6e}{gnome\+\_\+cliparound} (int x, int y)
\item 
void \hyperlink{gnbind_8h_ab9b173f8fb9704f9e3c4c31820500dd4}{gnome\+\_\+cliparound\+\_\+proper} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int x, int y)
\item 
void \hyperlink{gnbind_8h_ae3db79ba35c4090e0737ea64d0e0f6b0}{gnome\+\_\+print\+\_\+glyph} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, \hyperlink{wingem1_8c_abea04566e20888dd08f477de5f4b9289}{X\+C\+H\+A\+R\+\_\+\+P} x, \hyperlink{wingem1_8c_abea04566e20888dd08f477de5f4b9289}{X\+C\+H\+A\+R\+\_\+\+P} y, int glyph)
\item 
void \hyperlink{gnbind_8h_a11e113687b24906ff548414b96cc7f0b}{gnome\+\_\+raw\+\_\+print} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str)
\item 
void \hyperlink{gnbind_8h_ae6bfc2805a65d36e6e696d8c18d18147}{gnome\+\_\+raw\+\_\+print\+\_\+bold} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str)
\item 
int \hyperlink{gnbind_8h_a2fa42b4a6199ab2be4931fa78830f4df}{gnome\+\_\+nhgetch} (void)
\item 
int \hyperlink{gnbind_8h_a14fd6205fbaa1a79b91b17f6566620e0}{gnome\+\_\+nh\+\_\+poskey} (int $\ast$x, int $\ast$y, int $\ast$mod)
\item 
void \hyperlink{gnbind_8h_a889aae436db64e95d68bf7b57dd21d8f}{gnome\+\_\+nhbell} (void)
\item 
int \hyperlink{gnbind_8h_a38dcf2659936205ac5478f2a2a65c944}{gnome\+\_\+doprev\+\_\+message} (void)
\item 
char \hyperlink{gnbind_8h_a8755ac4eb82aab7372d2baf8d05349fd}{gnome\+\_\+yn\+\_\+function} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$question, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$choices, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} def)
\item 
void \hyperlink{gnbind_8h_a49c59551ff02eff18e7dfbd1577447f3}{gnome\+\_\+getlin} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$question, char $\ast$\hyperlink{lev__lex_8c_ab77a69608c1c09f3f14d24fce44e09ca}{input})
\item 
int \hyperlink{gnbind_8h_a0ccebdfd19a4620982da81e852a1da87}{gnome\+\_\+get\+\_\+ext\+\_\+cmd} (void)
\item 
void \hyperlink{gnbind_8h_a743b5d6d237fc3b825eeee345b05dee5}{gnome\+\_\+number\+\_\+pad} (int \hyperlink{random_8c_a12a8a0122ec9c2b08b4ef888b28f4c15}{state})
\item 
void \hyperlink{gnbind_8h_a78d9125286e6bfcfd0faf7597c98e05f}{gnome\+\_\+delay\+\_\+output} (void)
\item 
void \hyperlink{gnbind_8h_ad8964b91afc2e1d70afc7883d0583807}{gnome\+\_\+start\+\_\+screen} (void)
\item 
void \hyperlink{gnbind_8h_a77fa0d5c1bb7a1df81ef08a89ff7be1c}{gnome\+\_\+end\+\_\+screen} (void)
\item 
void \hyperlink{gnbind_8h_a23f7d450094d68399546084c2efe8050}{gnome\+\_\+outrip} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int how)
\item 
void \hyperlink{gnbind_8h_a58a5c3bc25593158814bfb239ee6bb20}{gnome\+\_\+delete\+\_\+nhwindow\+\_\+by\+\_\+reference} (Gtk\+Widget $\ast$menu\+Win)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{gnbind_8h_af269a7b9e75b06eb55576655ce6e5530}{\index{gnbind.\+h@{gnbind.\+h}!M\+A\+X\+W\+I\+N\+D\+O\+W\+S@{M\+A\+X\+W\+I\+N\+D\+O\+W\+S}}
\index{M\+A\+X\+W\+I\+N\+D\+O\+W\+S@{M\+A\+X\+W\+I\+N\+D\+O\+W\+S}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{M\+A\+X\+W\+I\+N\+D\+O\+W\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+W\+I\+N\+D\+O\+W\+S~15}}\label{gnbind_8h_af269a7b9e75b06eb55576655ce6e5530}


Definition at line 33 of file gnbind.\+h.



\subsection{Typedef Documentation}
\hypertarget{gnbind_8h_af42f1d12b482b433e600f656156e929d}{\index{gnbind.\+h@{gnbind.\+h}!G\+N\+H\+Win\+Data@{G\+N\+H\+Win\+Data}}
\index{G\+N\+H\+Win\+Data@{G\+N\+H\+Win\+Data}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{G\+N\+H\+Win\+Data}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf gnome\+\_\+nhwindow\+\_\+data}  {\bf G\+N\+H\+Win\+Data}}}\label{gnbind_8h_af42f1d12b482b433e600f656156e929d}


\subsection{Function Documentation}
\hypertarget{gnbind_8h_ac387d474bd50b3f431b5aeaaacfd46d9}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+add\+\_\+menu@{gnome\+\_\+add\+\_\+menu}}
\index{gnome\+\_\+add\+\_\+menu@{gnome\+\_\+add\+\_\+menu}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+add\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+add\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{glyph, }
\item[{{\bf const} {\bf A\+N\+Y\+\_\+\+P} $\ast$}]{identifier, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{accelerator, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{group\+\_\+accel, }
\item[{int}]{attr, }
\item[{{\bf const} char $\ast$}]{str, }
\item[{{\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P}}]{presel}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_ac387d474bd50b3f431b5aeaaacfd46d9}


Definition at line 718 of file gnbind.\+c.



References \+\_\+\+G\+Hack\+Menu\+Item\+::accelerator, \+\_\+\+G\+Hack\+Menu\+Item\+::attr, ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+A\+D\+D\+\_\+\+M\+E\+N\+U, \+\_\+\+G\+Hack\+Menu\+Item\+::glyph, \+\_\+\+G\+Hack\+Menu\+Item\+::group\+\_\+accel, \+\_\+\+G\+Hack\+Menu\+Item\+::identifier, N\+U\+L\+L, \+\_\+\+G\+Hack\+Menu\+Item\+::presel, and \+\_\+\+G\+Hack\+Menu\+Item\+::str.


\begin{DoxyCode}
721 \{
722   \hyperlink{struct__GHackMenuItem}{GHackMenuItem} item;
723   item.\hyperlink{struct__GHackMenuItem_acfcd2d3604cfa6ff4083472b493cbfb0}{glyph} =  glyph;
724   item.\hyperlink{struct__GHackMenuItem_a79a3cfa67a108ba6055d4fa6bd081f79}{identifier} = identifier;
725   item.\hyperlink{struct__GHackMenuItem_ab600d7cf5d77e6edfcdb55446defd2e7}{accelerator} = accelerator;
726   item.\hyperlink{struct__GHackMenuItem_a3d933471459a6fa6e6ed39a630081b3c}{group\_accel} = group\_accel;
727   item.\hyperlink{struct__GHackMenuItem_a3200e3f2ba0798dc63e0f7abe98652bd}{attr} = attr;
728   item.\hyperlink{struct__GHackMenuItem_a338f49c097ab2101d16b3acb300ebf41}{str} = str;
729   item.\hyperlink{struct__GHackMenuItem_a0b6f9304a066862ccf1cf77632e4936c}{presel} = presel;
730 
731   \textcolor{keywordflow}{if} (wid != -1 && \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
732     \{
733       gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
734                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87eddaa0c0885c571ee3d26e6dcb5ec9804204}{GHSIG\_ADD\_MENU}],
735                &item);
736     \}
737 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a810f9975bcdee507bbc83b20e6924bec}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+askname@{gnome\+\_\+askname}}
\index{gnome\+\_\+askname@{gnome\+\_\+askname}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+askname}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+askname (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a810f9975bcdee507bbc83b20e6924bec}


Definition at line 342 of file gnbind.\+c.



References ghack\+\_\+ask\+\_\+string\+\_\+dialog(), gnome\+\_\+exit\+\_\+nhwindows(), and plname.


\begin{DoxyCode}
343 \{
344     \textcolor{keywordtype}{int} ret;
345 
346     g\_message(\textcolor{stringliteral}{"Asking name...."});
347 
348     \textcolor{comment}{/* Ask for a name and stuff the response into plname, a nethack global */}
349     ret = \hyperlink{gnaskstr_8c_ab0b5ca2dcaa16377b7f41f09900e4f27}{ghack\_ask\_string\_dialog}(\textcolor{stringliteral}{"What is your name?"}, \textcolor{stringliteral}{"gandalf"}, 
350         \textcolor{stringliteral}{"GnomeHack"}, \hyperlink{decl_8h_a362b24d8378ea9e5a611cc50d66e354b}{plname});
351 
352     \textcolor{comment}{/* Quit if they want to quit... */}
353     \textcolor{keywordflow}{if} (ret==-1)
354       \{
355         \hyperlink{gnbind_8c_a891c9a8412cdad3116588b8d5c8ee53c}{gnome\_exit\_nhwindows}(0);
356       \}
357 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a790a67c1db832de26e8703b652a0aa78}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+clear\+\_\+nhwindow@{gnome\+\_\+clear\+\_\+nhwindow}}
\index{gnome\+\_\+clear\+\_\+nhwindow@{gnome\+\_\+clear\+\_\+nhwindow}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+clear\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+clear\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a790a67c1db832de26e8703b652a0aa78}


Definition at line 483 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+C\+L\+E\+A\+R, and N\+U\+L\+L.


\begin{DoxyCode}
484 \{
485   \textcolor{keywordflow}{if} (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
486     \{
487       gtk\_signal\_emit (GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
488                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87eddae2a1ff06e31ce3810d1aa9025116ee5d}{GHSIG\_CLEAR}]);
489     \}
490 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a6d2f27c7a6097aeac7ea0a67b15d8a6e}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+cliparound@{gnome\+\_\+cliparound}}
\index{gnome\+\_\+cliparound@{gnome\+\_\+cliparound}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+cliparound}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+cliparound (
\begin{DoxyParamCaption}
\item[{int}]{x, }
\item[{int}]{y}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a6d2f27c7a6097aeac7ea0a67b15d8a6e}


Definition at line 833 of file gnbind.\+c.



References gnome\+\_\+cliparound\+\_\+proper(), and W\+I\+N\+\_\+\+M\+A\+P.


\begin{DoxyCode}
834 \{
835   \textcolor{comment}{/* FIXME!!!  winid should be a parameter!!!}
836 \textcolor{comment}{   * Call a function that Does The Right Thing(tm).}
837 \textcolor{comment}{  */}
838     \hyperlink{gnbind_8c_ab9b173f8fb9704f9e3c4c31820500dd4}{gnome\_cliparound\_proper}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP},x,y);
839 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_ab9b173f8fb9704f9e3c4c31820500dd4}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+cliparound\+\_\+proper@{gnome\+\_\+cliparound\+\_\+proper}}
\index{gnome\+\_\+cliparound\+\_\+proper@{gnome\+\_\+cliparound\+\_\+proper}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+cliparound\+\_\+proper}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+cliparound\+\_\+proper (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{x, }
\item[{int}]{y}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_ab9b173f8fb9704f9e3c4c31820500dd4}


Definition at line 841 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+C\+L\+I\+P\+A\+R\+O\+U\+N\+D, and N\+U\+L\+L.



Referenced by gnome\+\_\+cliparound().


\begin{DoxyCode}
842 \{
843     \textcolor{keywordflow}{if} (wid != -1 && \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
844       \{
845     gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
846              \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87edda7ed19358c2a2265810852542cd9b1786}{GHSIG\_CLIPAROUND}],
847              (guint) x, 
848              (guint) y);
849       \}
850 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_aa4695c620a64c85d87e8db57d54dc9af}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+create\+\_\+nhwindow@{gnome\+\_\+create\+\_\+nhwindow}}
\index{gnome\+\_\+create\+\_\+nhwindow@{gnome\+\_\+create\+\_\+nhwindow}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+create\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}{\bf winid} gnome\+\_\+create\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{int}]{type}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_aa4695c620a64c85d87e8db57d54dc9af}


Definition at line 401 of file gnbind.\+c.



References gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id(), M\+A\+X\+W\+I\+N\+D\+O\+W\+S, and N\+U\+L\+L.



Referenced by gnome\+\_\+init\+\_\+nhwindows().


\begin{DoxyCode}
402 \{
403 
404   \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} i = 0;
405 
406 \textcolor{comment}{/* Return the next available winid}
407 \textcolor{comment}{ */}
408 
409   \textcolor{keywordflow}{for} (i=0; i<\hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}; i++)
410       \textcolor{keywordflow}{if} (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].win == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
411           \textcolor{keywordflow}{break};
412   \textcolor{keywordflow}{if} (i == MAXWINDOWS)
413       g\_error (\textcolor{stringliteral}{"ERROR:  No windows available...\(\backslash\)n"});
414   \hyperlink{gnbind_8c_a21d763df47433a2cb4552a0c7bc6125b}{gnome\_create\_nhwindow\_by\_id}( \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type}, i);
415   \textcolor{keywordflow}{return} i;
416 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a21d763df47433a2cb4552a0c7bc6125b}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id@{gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id}}
\index{gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id@{gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id (
\begin{DoxyParamCaption}
\item[{int}]{type, }
\item[{{\bf winid}}]{i}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a21d763df47433a2cb4552a0c7bc6125b}


Definition at line 419 of file gnbind.\+c.



References ghack\+\_\+init\+\_\+map\+\_\+window(), ghack\+\_\+init\+\_\+menu\+\_\+window(), ghack\+\_\+init\+\_\+message\+\_\+window(), ghack\+\_\+init\+\_\+status\+\_\+window(), ghack\+\_\+init\+\_\+text\+\_\+window(), ghack\+\_\+init\+\_\+worn\+\_\+window(), ghack\+\_\+main\+\_\+window\+\_\+add\+\_\+map\+\_\+window(), ghack\+\_\+main\+\_\+window\+\_\+add\+\_\+message\+\_\+window(), ghack\+\_\+main\+\_\+window\+\_\+add\+\_\+status\+\_\+window(), ghack\+\_\+main\+\_\+window\+\_\+add\+\_\+worn\+\_\+window(), N\+H\+W\+\_\+\+M\+A\+P, N\+H\+W\+\_\+\+M\+E\+N\+U, N\+H\+W\+\_\+\+M\+E\+S\+S\+A\+G\+E, N\+H\+W\+\_\+\+S\+T\+A\+T\+U\+S, N\+H\+W\+\_\+\+T\+E\+X\+T, N\+H\+W\+\_\+\+W\+O\+R\+N, gnome\+\_\+nhwindow\+\_\+data\+::type, and gnome\+\_\+nhwindow\+\_\+data\+::win.



Referenced by gnome\+\_\+create\+\_\+nhwindow(), and gnome\+\_\+start\+\_\+menu().


\begin{DoxyCode}
420 \{
421     \textcolor{keywordflow}{switch} (\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type})
422       \{
423       \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP}:
424     \{
425       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{gnmap_8c_a2e955b835762a5bc31a4dc5a5f0037e8}{ghack\_init\_map\_window}( );
426       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP};
427       \hyperlink{gnmain_8c_aa39df8fedb4814b51d7c7d6a972a79ce}{ghack\_main\_window\_add\_map\_window}( 
      \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].win);
428       \textcolor{keywordflow}{break};
429     \}
430       \textcolor{keywordflow}{case} \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}:
431     \{
432       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{gnmesg_8c_af50f0535e6372aee482981ca5c5ceafa}{ghack\_init\_message\_window}( );
433       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE};
434       \hyperlink{gnmain_8c_a98c0f375cbdb1df2c042adb087903700}{ghack\_main\_window\_add\_message\_window}( 
      \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].win);
435       \textcolor{keywordflow}{break}; 
436     \}
437       \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}:
438     \{
439       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{gnstatus_8c_a3cd181358a93514e2460e0efd67284c8}{ghack\_init\_status\_window}( );
440       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = \hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS};
441       \hyperlink{gnmain_8c_a3d8f3ca2364751a88ee9dc0099a6dd5c}{ghack\_main\_window\_add\_status\_window}( 
      \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].win);
442       \textcolor{keywordflow}{break};
443     \}    
444       \textcolor{keywordflow}{case} \hyperlink{winGnome_8h_a302bfa42d8ed2e56d906229501bfb104}{NHW\_WORN}:
445     \{
446       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{gnworn_8c_a7d829985686dbd852bd46dbfe2c463d4}{ghack\_init\_worn\_window}( );
447       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = \hyperlink{winGnome_8h_a302bfa42d8ed2e56d906229501bfb104}{NHW\_WORN};
448       \hyperlink{gnmain_8c_a46980ee77d78c172f9a2cc9d19cdf4a0}{ghack\_main\_window\_add\_worn\_window}(
      \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].win);
449       \textcolor{keywordflow}{break};
450     \}
451       \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}:
452     \{
453       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU};
454       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{gnmenu_8c_ab66946ab422888fce0f0c9fb3670b335}{ghack\_init\_menu\_window}( );
455       \textcolor{keywordflow}{break};
456     \} 
457       \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}:
458     \{
459       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{gntext_8c_af958efca510bd51e9b9bc0dc0f4026d3}{ghack\_init\_text\_window}( );
460       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT};
461       \textcolor{keywordflow}{break};
462     \}
463       \}
464 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a8f50e7be0742e052f4a94583057435d4}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+curs@{gnome\+\_\+curs}}
\index{gnome\+\_\+curs@{gnome\+\_\+curs}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+curs}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+curs (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{x, }
\item[{int}]{y}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a8f50e7be0742e052f4a94583057435d4}


Definition at line 538 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+C\+U\+R\+S, and N\+U\+L\+L.


\begin{DoxyCode}
539 \{
540   \textcolor{keywordflow}{if} (wid != -1 && \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
541     \{
542       gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win), 
543                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87edda8f46e9493e702b6cbc4923ff7a5d9ac1}{GHSIG\_CURS}], x, y);
544     \}
545 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a78d9125286e6bfcfd0faf7597c98e05f}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+delay\+\_\+output@{gnome\+\_\+delay\+\_\+output}}
\index{gnome\+\_\+delay\+\_\+output@{gnome\+\_\+delay\+\_\+output}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+delay\+\_\+output}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+delay\+\_\+output (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a78d9125286e6bfcfd0faf7597c98e05f}


Definition at line 1118 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+D\+E\+L\+A\+Y, N\+U\+L\+L, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.


\begin{DoxyCode}
1119 \{
1120     \textcolor{keywordflow}{if} (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
1121     gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}].win),
1122     \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87eddaab0ef3a2fa1524845a2109b822ac013d}{GHSIG\_DELAY}],
1123     (guint) 50);
1124     \}
1125 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a58a5c3bc25593158814bfb239ee6bb20}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+delete\+\_\+nhwindow\+\_\+by\+\_\+reference@{gnome\+\_\+delete\+\_\+nhwindow\+\_\+by\+\_\+reference}}
\index{gnome\+\_\+delete\+\_\+nhwindow\+\_\+by\+\_\+reference@{gnome\+\_\+delete\+\_\+nhwindow\+\_\+by\+\_\+reference}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+delete\+\_\+nhwindow\+\_\+by\+\_\+reference}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+delete\+\_\+nhwindow\+\_\+by\+\_\+reference (
\begin{DoxyParamCaption}
\item[{Gtk\+Widget $\ast$}]{menu\+Win}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a58a5c3bc25593158814bfb239ee6bb20}


Definition at line 469 of file gnbind.\+c.



References M\+A\+X\+W\+I\+N\+D\+O\+W\+S, N\+U\+L\+L, gnome\+\_\+nhwindow\+\_\+data\+::type, and gnome\+\_\+nhwindow\+\_\+data\+::win.



Referenced by ghack\+\_\+menu\+\_\+destroy().


\begin{DoxyCode}
470 \{
471   \textcolor{keywordtype}{int} i;
472 
473   \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}; i++) \{
474     \textcolor{keywordflow}{if} (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].win == menuWin) \{
475       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
476       \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[i].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = 0;
477       \textcolor{keywordflow}{break};
478     \}
479   \}
480 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_ae13b22e67317d309970f2acb1528823f}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+destroy\+\_\+nhwindow@{gnome\+\_\+destroy\+\_\+nhwindow}}
\index{gnome\+\_\+destroy\+\_\+nhwindow@{gnome\+\_\+destroy\+\_\+nhwindow}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+destroy\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+destroy\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_ae13b22e67317d309970f2acb1528823f}


Definition at line 517 of file gnbind.\+c.



References N\+U\+L\+L, gnome\+\_\+nhwindow\+\_\+data\+::type, gnome\+\_\+nhwindow\+\_\+data\+::win, W\+I\+N\+\_\+\+M\+A\+P, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, and W\+I\+N\+\_\+\+S\+T\+A\+T\+U\+S.


\begin{DoxyCode}
518 \{
519     \textcolor{keywordflow}{if} ((wid == \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}) || 
520         (wid == \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}) || 
521         (wid == \hyperlink{decl_8h_ae0690a38fd295760409995ce03b88329}{WIN\_STATUS})) \{
522     \textcolor{comment}{/* no thanks, I'll do these myself */}
523     \textcolor{keywordflow}{return};
524     \}
525     \textcolor{keywordflow}{if} (wid != -1 && \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
526       \{
527     gtk\_widget\_destroy(\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win);
528     \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].\hyperlink{structgnome__nhwindow__data_a24bf197b2e6d5303bce3716337761b8b}{win} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
529     \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].\hyperlink{structgnome__nhwindow__data_a1c843ec379ac3a244e95783919dec05c}{type} = 0;
530       \}
531 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_acba38046c94ce5f2a812f25fb44b8dd2}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+display\+\_\+file@{gnome\+\_\+display\+\_\+file}}
\index{gnome\+\_\+display\+\_\+file@{gnome\+\_\+display\+\_\+file}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+display\+\_\+file}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+display\+\_\+file (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{filename, }
\item[{{\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P}}]{must\+\_\+exist}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_acba38046c94ce5f2a812f25fb44b8dd2}


Definition at line 586 of file gnbind.\+c.



References alloc(), dlb, dlb\+\_\+fclose, dlb\+\_\+fgets, dlb\+\_\+fopen, F\+A\+L\+S\+E, free(), ghack\+\_\+get\+\_\+main\+\_\+window(), gless, L\+L\+E\+N, N\+U\+L\+L, R\+D\+T\+M\+O\+D\+E, and T\+R\+U\+E.


\begin{DoxyCode}
587 \{
588     \textcolor{comment}{/* Strange -- for some reason it makes us create a new text window}
589 \textcolor{comment}{     * instead of reusing any existing ones -- perhaps we can work out}
590 \textcolor{comment}{     * some way to reuse stuff -- but for now just make and destroy new}
591 \textcolor{comment}{     * ones each time */}
592         
593     \hyperlink{dlb_8h_a2c91af84569791b69abdf2b4644b0ddd}{dlb} *f;
594        
595         f = \hyperlink{dlb_8h_a46a9ab27d1ae601750baeacc2c0a8d44}{dlb\_fopen}(\hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename}, \textcolor{stringliteral}{"r"});
596         \textcolor{keywordflow}{if} (!f) \{
597       \textcolor{keywordflow}{if} (must\_exist) \{
598         GtkWidget *box;
599             \textcolor{keywordtype}{char} message[90];
600             sprintf(message, \textcolor{stringliteral}{"Warning! Could not find file: %s\(\backslash\)n"},\hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename});
601 
602         box = gnome\_message\_box\_new (\_(message),
603             GNOME\_MESSAGE\_BOX\_ERROR,
604             GNOME\_STOCK\_BUTTON\_OK,
605             \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
606         gnome\_dialog\_set\_default( GNOME\_DIALOG(box), 0);
607         gnome\_dialog\_set\_parent (GNOME\_DIALOG (box), 
608             GTK\_WINDOW (\hyperlink{gnmain_8c_a103200f2f57b9258dfa18159191ea650}{ghack\_get\_main\_window} ()) );
609         gtk\_window\_set\_modal( GTK\_WINDOW(box), \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
610         gtk\_widget\_show (box);
611       \}
612         \}
613     \textcolor{keywordflow}{else} \{
614           GtkWidget *txtwin, *\hyperlink{gntext_8c_a6fada5e9e468ba9d7d2d0b24c2a84ca5}{gless}, *frametxt;
615 \textcolor{preprocessor}{#define LLEN 128}
616       \textcolor{keywordtype}{char} line[\hyperlink{gnbind_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN}], *textlines;
617       \textcolor{keywordtype}{int} num\_lines, charcount;
618 
619       txtwin = gnome\_dialog\_new(\textcolor{stringliteral}{"Text Window"}, GNOME\_STOCK\_BUTTON\_OK,
620                     \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
621           gtk\_widget\_set\_usize(GTK\_WIDGET(txtwin), 500, 400);
622           gtk\_window\_set\_policy(GTK\_WINDOW(txtwin), \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
623           gtk\_window\_set\_title(GTK\_WINDOW(txtwin), \textcolor{stringliteral}{"Text Window"});
624       gnome\_dialog\_set\_default( GNOME\_DIALOG(txtwin), 0);
625       gtk\_window\_set\_modal( GTK\_WINDOW(txtwin), \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
626       frametxt = gtk\_frame\_new (\textcolor{stringliteral}{""});
627       gtk\_widget\_show (frametxt);
628 
629       \textcolor{comment}{/*}
630 \textcolor{comment}{       * Count the number of lines and characters in the file.}
631 \textcolor{comment}{       */}
632       num\_lines = 0;
633       charcount = 1;
634       \textcolor{keywordflow}{while} (\hyperlink{dlb_8h_a0c5a17bfc873332e8ef26262d8527e91}{dlb\_fgets}(line, \hyperlink{gnbind_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN}, f)) \{
635         num\_lines++;
636         charcount += strlen(line);
637       \}
638       (void) \hyperlink{dlb_8h_a882e4d8dcdf2cd3d9eee2b94debe38e1}{dlb\_fclose}(f);
639       
640       \textcolor{comment}{/* Ignore empty files */}
641       \textcolor{keywordflow}{if} (num\_lines == 0) \textcolor{keywordflow}{return};
642 
643       \textcolor{comment}{/*}
644 \textcolor{comment}{       * Re-open the file and read the data into a buffer.  }
645 \textcolor{comment}{       */}
646       textlines = (\textcolor{keywordtype}{char} *) \hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) charcount);
647       textlines[0] = \textcolor{charliteral}{'\(\backslash\)0'};
648       f = \hyperlink{dlb_8h_a46a9ab27d1ae601750baeacc2c0a8d44}{dlb\_fopen}( \hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename}, \hyperlink{dlb_8h_a52b55e796a44079bc56afab59e8c0c89}{RDTMODE});
649 
650       \textcolor{keywordflow}{while} (\hyperlink{dlb_8h_a0c5a17bfc873332e8ef26262d8527e91}{dlb\_fgets}(line, \hyperlink{gnbind_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN}, f)) \{
651         (void) strcat(textlines, line);
652       \}
653       (void) \hyperlink{dlb_8h_a882e4d8dcdf2cd3d9eee2b94debe38e1}{dlb\_fclose}(f);
654 
655       gless = gnome\_less\_new ();
656       gnome\_less\_show\_string (GNOME\_LESS (gless), textlines);
657       gtk\_container\_add (GTK\_CONTAINER (frametxt), gless);
658           gtk\_box\_pack\_start(GTK\_BOX (GNOME\_DIALOG (txtwin)->vbox), frametxt,
659                              \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}, 0);
660       gtk\_widget\_show\_all( txtwin);
661       gtk\_window\_set\_modal( GTK\_WINDOW(txtwin), \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
662       gnome\_dialog\_set\_parent (GNOME\_DIALOG (txtwin), 
663           GTK\_WINDOW (\hyperlink{gnmain_8c_a103200f2f57b9258dfa18159191ea650}{ghack\_get\_main\_window} ()) );
664       gnome\_dialog\_run\_and\_close (GNOME\_DIALOG (txtwin));
665       \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(textlines);
666         \}
667 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_aa624862405fee4e8a538867def91d6e1}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+display\+\_\+nhwindow@{gnome\+\_\+display\+\_\+nhwindow}}
\index{gnome\+\_\+display\+\_\+nhwindow@{gnome\+\_\+display\+\_\+nhwindow}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+display\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+display\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{{\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P}}]{block}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_aa624862405fee4e8a538867def91d6e1}


Definition at line 501 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+D\+I\+S\+P\+L\+A\+Y, gnome\+\_\+nhgetch(), N\+H\+W\+\_\+\+M\+A\+P, N\+U\+L\+L, and type.



Referenced by ghack\+\_\+main\+\_\+window\+\_\+update\+\_\+inventory().


\begin{DoxyCode}
502 \{
503   \textcolor{keywordflow}{if} (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
504     \{
505       gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
506                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87edda8f7fb83e9b73ca3cd40d8c06dbc56692}{GHSIG\_DISPLAY}],
507                block);
508       \textcolor{keywordflow}{if} (block && (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP}))
509     (void) \hyperlink{gnbind_8c_a4ca2f7129a1958a4c2ba6850b8a2e7c7}{gnome\_nhgetch}();
510     \}
511 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a38dcf2659936205ac5478f2a2a65c944}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+doprev\+\_\+message@{gnome\+\_\+doprev\+\_\+message}}
\index{gnome\+\_\+doprev\+\_\+message@{gnome\+\_\+doprev\+\_\+message}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+doprev\+\_\+message}]{\setlength{\rightskip}{0pt plus 5cm}int gnome\+\_\+doprev\+\_\+message (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a38dcf2659936205ac5478f2a2a65c944}


Definition at line 995 of file gnbind.\+c.


\begin{DoxyCode}
996 \{
997     \textcolor{comment}{/* Do Nothing.  They can read old messages using the scrollbar. */}
998     \textcolor{keywordflow}{return} 0;
999 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_ab12a7241b98a9e76216a3072863360b6}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+end\+\_\+menu@{gnome\+\_\+end\+\_\+menu}}
\index{gnome\+\_\+end\+\_\+menu@{gnome\+\_\+end\+\_\+menu}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+end\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+end\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{{\bf const} char $\ast$}]{prompt}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_ab12a7241b98a9e76216a3072863360b6}


Definition at line 748 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+E\+N\+D\+\_\+\+M\+E\+N\+U, and N\+U\+L\+L.


\begin{DoxyCode}
749 \{
750     \textcolor{keywordflow}{if} (wid != -1 && \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
751       \{
752     gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
753              \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87edda1c99c97440b3a02a64e8356cc67459e4}{GHSIG\_END\_MENU}],
754              prompt);
755       \}
756 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a77fa0d5c1bb7a1df81ef08a89ff7be1c}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+end\+\_\+screen@{gnome\+\_\+end\+\_\+screen}}
\index{gnome\+\_\+end\+\_\+screen@{gnome\+\_\+end\+\_\+screen}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+end\+\_\+screen}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+end\+\_\+screen (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a77fa0d5c1bb7a1df81ef08a89ff7be1c}


Definition at line 1143 of file gnbind.\+c.


\begin{DoxyCode}
1144 \{
1145     \textcolor{comment}{/* Do Nothing */}
1146 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a385497afa56cb18a6a17f8db74cb0b56}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+exit\+\_\+nhwindows@{gnome\+\_\+exit\+\_\+nhwindows}}
\index{gnome\+\_\+exit\+\_\+nhwindows@{gnome\+\_\+exit\+\_\+nhwindows}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+exit\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+exit\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a385497afa56cb18a6a17f8db74cb0b56}


Definition at line 372 of file gnbind.\+c.



References E\+X\+I\+T\+\_\+\+S\+U\+C\+C\+E\+S\+S, and terminate().



Referenced by ghack\+\_\+quit\+\_\+game(), ghack\+\_\+save\+\_\+game(), gnome\+\_\+askname(), and gnome\+\_\+player\+\_\+selection().


\begin{DoxyCode}
373 \{
374     gtk\_exit (0);
375     \hyperlink{end_8c_a30ebaced48494e6e25f8833532ec17ca}{terminate}(\hyperlink{global_8h_a687984f47d8cce148d1b914d2b79612a}{EXIT\_SUCCESS});
376 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a0ccebdfd19a4620982da81e852a1da87}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+get\+\_\+ext\+\_\+cmd@{gnome\+\_\+get\+\_\+ext\+\_\+cmd}}
\index{gnome\+\_\+get\+\_\+ext\+\_\+cmd@{gnome\+\_\+get\+\_\+ext\+\_\+cmd}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+get\+\_\+ext\+\_\+cmd}]{\setlength{\rightskip}{0pt plus 5cm}int gnome\+\_\+get\+\_\+ext\+\_\+cmd (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a0ccebdfd19a4620982da81e852a1da87}


Definition at line 1098 of file gnbind.\+c.



References ghack\+\_\+menu\+\_\+ext\+\_\+cmd().


\begin{DoxyCode}
1099 \{
1100     \textcolor{keywordflow}{return} \hyperlink{gnmenu_8c_af55fb0471f01d81db97a6743d96f49cd}{ghack\_menu\_ext\_cmd}();
1101 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a262494a99227522edbd85f74d4b54f0a}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+get\+\_\+nh\+\_\+event@{gnome\+\_\+get\+\_\+nh\+\_\+event}}
\index{gnome\+\_\+get\+\_\+nh\+\_\+event@{gnome\+\_\+get\+\_\+nh\+\_\+event}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+get\+\_\+nh\+\_\+event}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+get\+\_\+nh\+\_\+event (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a262494a99227522edbd85f74d4b54f0a}


Definition at line 363 of file gnbind.\+c.


\begin{DoxyCode}
364 \{
365     \textcolor{comment}{/* We handle our own events. */}
366     \textcolor{keywordflow}{return};
367 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a49c59551ff02eff18e7dfbd1577447f3}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+getlin@{gnome\+\_\+getlin}}
\index{gnome\+\_\+getlin@{gnome\+\_\+getlin}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+getlin}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+getlin (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{question, }
\item[{char $\ast$}]{input}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a49c59551ff02eff18e7dfbd1577447f3}


Definition at line 1082 of file gnbind.\+c.



References ghack\+\_\+ask\+\_\+string\+\_\+dialog().


\begin{DoxyCode}
1083 \{
1084     \textcolor{keywordtype}{int} ret;
1085 
1086     ret = \hyperlink{gnaskstr_8c_ab0b5ca2dcaa16377b7f41f09900e4f27}{ghack\_ask\_string\_dialog}(question, \textcolor{stringliteral}{""}, \textcolor{stringliteral}{"nethack"}, 
      \hyperlink{dgn__lex_8c_ab77a69608c1c09f3f14d24fce44e09ca}{input});
1087 
1088     \textcolor{keywordflow}{if} (ret == -1)
1089     \hyperlink{dgn__lex_8c_ab77a69608c1c09f3f14d24fce44e09ca}{input}[0] = 0;
1090 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_aae69d369747213f015fa314fdf98da05}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+init\+\_\+nhwindows@{gnome\+\_\+init\+\_\+nhwindows}}
\index{gnome\+\_\+init\+\_\+nhwindows@{gnome\+\_\+init\+\_\+nhwindows}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+init\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+init\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_aae69d369747213f015fa314fdf98da05}


Definition at line 93 of file gnbind.\+c.



References D\+I\+S\+P\+\_\+\+I\+N\+\_\+\+G\+A\+M\+E, flags, ghack\+\_\+init\+\_\+glyphs(), ghack\+\_\+init\+\_\+main\+\_\+window(), ghack\+\_\+init\+\_\+signals(), gnome\+\_\+create\+\_\+nhwindow(), H\+A\+C\+K\+D\+I\+R, iflags, flag\+::ignintr, N\+H\+W\+\_\+\+W\+O\+R\+N, set\+\_\+option\+\_\+mod\+\_\+status(), T\+R\+U\+E, W\+I\+N\+\_\+\+W\+O\+R\+N, and instance\+\_\+flags\+::window\+\_\+inited.


\begin{DoxyCode}
94 \{
95     \textcolor{comment}{/* Main window */}
96     \hyperlink{gnmain_8c_a44e81e79e254d9469d3dd4d3662c04ab}{ghack\_init\_main\_window}( *argc, argv);
97     \hyperlink{gnsignal_8c_a2c49cff2ef722dfb9425f60d01d59e06}{ghack\_init\_signals}( );
98 
99 \textcolor{preprocessor}{#ifdef HACKDIR}
100     \textcolor{comment}{//if (ghack\_init\_glyphs(HACKDIR "/t32-1024.xpm"))}
101     \textcolor{keywordflow}{if} (\hyperlink{gnglyph_8c_a7f986168bd2f1eea0b0702914e484167}{ghack\_init\_glyphs}(\hyperlink{config_8h_a335c50fb5c054415296fb087f2291268}{HACKDIR} \textcolor{stringliteral}{"/x11tiles"}))
102       g\_error (\textcolor{stringliteral}{"ERROR:  Could not initialize glyphs.\(\backslash\)n"});
103 \textcolor{preprocessor}{#else}
104 \textcolor{preprocessor}{#   error HACKDIR is not defined!}
105 \textcolor{preprocessor}{#endif}
106   
107     \textcolor{comment}{// gnome/gtk is not reentrant}
108     \hyperlink{options_8c_a2b94ffacfcf7ac470a99aec3b2d8686b}{set\_option\_mod\_status}(\textcolor{stringliteral}{"ignintr"}, \hyperlink{hack_8h_a85bddc27e495e22cc80a321be0446fb0}{DISP\_IN\_GAME});
109     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a6d0389cb18cf906c95391a579f9b14dc}{ignintr} = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
110 
111     \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2fc6c78c4c5f6e1d0027ac575135426f}{window\_inited} = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
112 
113     \textcolor{comment}{/* gnome-specific window creation */}
114     \hyperlink{gnbind_8c_a4c5505d2e6ca318d13a0534d1b94660a}{WIN\_WORN} = \hyperlink{gnbind_8c_aa4695c620a64c85d87e8db57d54dc9af}{gnome\_create\_nhwindow}(\hyperlink{winGnome_8h_a302bfa42d8ed2e56d906229501bfb104}{NHW\_WORN});
115 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a14767e10fc8d7ae257e00fc8780d038c}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+mark\+\_\+synch@{gnome\+\_\+mark\+\_\+synch}}
\index{gnome\+\_\+mark\+\_\+synch@{gnome\+\_\+mark\+\_\+synch}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+mark\+\_\+synch}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+mark\+\_\+synch (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a14767e10fc8d7ae257e00fc8780d038c}


Definition at line 812 of file gnbind.\+c.


\begin{DoxyCode}
813 \{
814     \textcolor{comment}{/* Do nothing */}
815 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a14fd6205fbaa1a79b91b17f6566620e0}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+nh\+\_\+poskey@{gnome\+\_\+nh\+\_\+poskey}}
\index{gnome\+\_\+nh\+\_\+poskey@{gnome\+\_\+nh\+\_\+poskey}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+nh\+\_\+poskey}]{\setlength{\rightskip}{0pt plus 5cm}int gnome\+\_\+nh\+\_\+poskey (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{x, }
\item[{int $\ast$}]{y, }
\item[{int $\ast$}]{mod}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a14fd6205fbaa1a79b91b17f6566620e0}


Definition at line 942 of file gnbind.\+c.



References g\+\_\+asking\+Question, g\+\_\+click\+Buffer, g\+\_\+key\+Buffer, g\+\_\+num\+Clicks, g\+\_\+num\+Keys, ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+F\+A\+D\+E\+\_\+\+H\+I\+G\+H\+L\+I\+G\+H\+T, G\+H\+Click\+::mod, W\+I\+N\+\_\+\+S\+T\+A\+T\+U\+S, G\+H\+Click\+::x, and G\+H\+Click\+::y.


\begin{DoxyCode}
943 \{
944     gtk\_signal\_emit (GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[\hyperlink{decl_8h_ae0690a38fd295760409995ce03b88329}{WIN\_STATUS}].win),
945                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87edda7c38950ab5348b77bee3ee73ee52e34e}{GHSIG\_FADE\_HIGHLIGHT}]);
946     
947     \hyperlink{gnsignal_8c_a9b4b4ad8a2bcc37729dadfc43b2a3dbb}{g\_askingQuestion} = 0;
948     \textcolor{comment}{/* Process events until a key or map-click arrives. */}
949     \textcolor{keywordflow}{while} ( \hyperlink{gnsignal_8c_a2013547bc9aa76cbb93127bd9e5970a0}{g\_numKeys} == 0 && \hyperlink{gnsignal_8c_aad0a88fb32227a59f3ac782cf92cb0c9}{g\_numClicks} == 0 )
950     gtk\_main\_iteration();
951     
952     \textcolor{keywordflow}{if} (\hyperlink{gnsignal_8c_a2013547bc9aa76cbb93127bd9e5970a0}{g\_numKeys} > 0) \{
953     \textcolor{keywordtype}{int} key;
954     GList *theFirst;
955     
956     theFirst = g\_list\_first( \hyperlink{gnsignal_8c_a0e6cf81b52e14cf12b108963dde1729f}{g\_keyBuffer});
957     \hyperlink{gnsignal_8c_a0e6cf81b52e14cf12b108963dde1729f}{g\_keyBuffer} = g\_list\_remove\_link(\hyperlink{gnsignal_8c_a0e6cf81b52e14cf12b108963dde1729f}{g\_keyBuffer}, theFirst);
958     key = GPOINTER\_TO\_INT( theFirst->data);
959     g\_list\_free\_1( theFirst);
960     \hyperlink{gnsignal_8c_a2013547bc9aa76cbb93127bd9e5970a0}{g\_numKeys}--;
961     \textcolor{keywordflow}{return} ( key);
962     \}
963     \textcolor{keywordflow}{else} \{
964     \hyperlink{structGHClick}{GHClick} *click;
965     GList *theFirst;
966     
967     theFirst = g\_list\_first( \hyperlink{gnsignal_8c_ae47be96e52c8d9bbb958c91ed24afacc}{g\_clickBuffer});
968     \hyperlink{gnsignal_8c_ae47be96e52c8d9bbb958c91ed24afacc}{g\_clickBuffer} = g\_list\_remove\_link(\hyperlink{gnsignal_8c_ae47be96e52c8d9bbb958c91ed24afacc}{g\_clickBuffer}, theFirst);
969     click = (\hyperlink{structGHClick}{GHClick}*) theFirst->data;
970     *x=click->\hyperlink{structGHClick_ad7461ee00ed3a2f04603eef7429d10f9}{x};
971         *y=click->\hyperlink{structGHClick_a5d3940337259fe197aa857bf98fb09cb}{y};
972         *mod=click->\hyperlink{structGHClick_a46d19be2dfbee76bc7b756be116e0d17}{mod};
973     g\_free( click);
974     g\_list\_free\_1( theFirst);
975     \hyperlink{gnsignal_8c_aad0a88fb32227a59f3ac782cf92cb0c9}{g\_numClicks}--;
976     \textcolor{keywordflow}{return} ( 0);
977     \}
978 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a889aae436db64e95d68bf7b57dd21d8f}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+nhbell@{gnome\+\_\+nhbell}}
\index{gnome\+\_\+nhbell@{gnome\+\_\+nhbell}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+nhbell}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+nhbell (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a889aae436db64e95d68bf7b57dd21d8f}


Definition at line 984 of file gnbind.\+c.



Referenced by gnome\+\_\+yn\+\_\+function().


\begin{DoxyCode}
985 \{
986     \textcolor{comment}{/* FIXME!!! Play a cool GNOME sound instead */}
987     gdk\_beep();
988 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a2fa42b4a6199ab2be4931fa78830f4df}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+nhgetch@{gnome\+\_\+nhgetch}}
\index{gnome\+\_\+nhgetch@{gnome\+\_\+nhgetch}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+nhgetch}]{\setlength{\rightskip}{0pt plus 5cm}int gnome\+\_\+nhgetch (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a2fa42b4a6199ab2be4931fa78830f4df}


Definition at line 906 of file gnbind.\+c.



References g\+\_\+asking\+Question, g\+\_\+key\+Buffer, g\+\_\+num\+Keys, ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+F\+A\+D\+E\+\_\+\+H\+I\+G\+H\+L\+I\+G\+H\+T, and W\+I\+N\+\_\+\+S\+T\+A\+T\+U\+S.



Referenced by gnome\+\_\+display\+\_\+nhwindow(), and gnome\+\_\+yn\+\_\+function().


\begin{DoxyCode}
907 \{
908     \textcolor{keywordtype}{int} key;
909     GList *theFirst;
910     gtk\_signal\_emit (GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[\hyperlink{decl_8h_ae0690a38fd295760409995ce03b88329}{WIN\_STATUS}].win),
911                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87edda7c38950ab5348b77bee3ee73ee52e34e}{GHSIG\_FADE\_HIGHLIGHT}]);
912 
913     \hyperlink{gnsignal_8c_a9b4b4ad8a2bcc37729dadfc43b2a3dbb}{g\_askingQuestion} = 1;
914     \textcolor{comment}{/* Process events until a key press event arrives. */}
915     \textcolor{keywordflow}{while} ( \hyperlink{gnsignal_8c_a2013547bc9aa76cbb93127bd9e5970a0}{g\_numKeys} == 0 ) 
916     gtk\_main\_iteration();
917     
918     theFirst = g\_list\_first( \hyperlink{gnsignal_8c_a0e6cf81b52e14cf12b108963dde1729f}{g\_keyBuffer});
919     \hyperlink{gnsignal_8c_a0e6cf81b52e14cf12b108963dde1729f}{g\_keyBuffer} = g\_list\_remove\_link(\hyperlink{gnsignal_8c_a0e6cf81b52e14cf12b108963dde1729f}{g\_keyBuffer}, theFirst);
920     key = GPOINTER\_TO\_INT( theFirst->data);
921     g\_list\_free\_1( theFirst);
922     \hyperlink{gnsignal_8c_a2013547bc9aa76cbb93127bd9e5970a0}{g\_numKeys}--;
923     \hyperlink{gnsignal_8c_a9b4b4ad8a2bcc37729dadfc43b2a3dbb}{g\_askingQuestion} = 0;
924     \textcolor{keywordflow}{return} ( key);
925 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a743b5d6d237fc3b825eeee345b05dee5}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+number\+\_\+pad@{gnome\+\_\+number\+\_\+pad}}
\index{gnome\+\_\+number\+\_\+pad@{gnome\+\_\+number\+\_\+pad}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+number\+\_\+pad}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+number\+\_\+pad (
\begin{DoxyParamCaption}
\item[{int}]{state}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a743b5d6d237fc3b825eeee345b05dee5}


Definition at line 1108 of file gnbind.\+c.


\begin{DoxyCode}
1109 \{
1110     \textcolor{comment}{/* Do Nothing */}
1111 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a23f7d450094d68399546084c2efe8050}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+outrip@{gnome\+\_\+outrip}}
\index{gnome\+\_\+outrip@{gnome\+\_\+outrip}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+outrip}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+outrip (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{how}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a23f7d450094d68399546084c2efe8050}


Definition at line 1153 of file gnbind.\+c.



References buf, B\+U\+F\+S\+Z, ghack\+\_\+text\+\_\+window\+\_\+rip\+\_\+string(), K\+I\+L\+L\+E\+D\+\_\+\+B\+Y, K\+I\+L\+L\+E\+D\+\_\+\+B\+Y\+\_\+\+A\+N, killed\+\_\+by\+\_\+prefix, killer, killer\+\_\+format, N\+O\+\_\+\+K\+I\+L\+L\+E\+R\+\_\+\+P\+R\+E\+F\+I\+X, plname, Sprintf, Strcat, Strcpy, u, and you\+::ugold.


\begin{DoxyCode}
1154 \{
1155     \textcolor{comment}{/* Follows roughly the same algorithm as genl\_outrip() */}
1156     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
1157     \textcolor{keywordtype}{char} ripString[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}]=\textcolor{stringliteral}{"\(\backslash\)0"};
1158     \textcolor{keyword}{extern} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{end_8c_a1d71c4782ea92771fcdadd8723b4f450}{killed\_by\_prefix}[];
1159     
1160     \textcolor{comment}{/* Put name on stone */}
1161     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(buf, \textcolor{stringliteral}{"%s\(\backslash\)n"}, \hyperlink{decl_8h_a362b24d8378ea9e5a611cc50d66e354b}{plname});
1162     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(ripString, buf);
1163     
1164     \textcolor{comment}{/* Put $ on stone */}
1165     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(buf, \textcolor{stringliteral}{"%ld Au\(\backslash\)n"},
1166 #ifndef GOLDOBJ
1167         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_af666e1fd44c5efe34df9053aef068245}{ugold});
1168 \textcolor{preprocessor}{#else}
1169         done\_money);
1170 \textcolor{preprocessor}{#endif}
1171     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(ripString, buf);
1172 
1173     \textcolor{comment}{/* Put together death description */}
1174     \textcolor{keywordflow}{switch} (\hyperlink{decl_8h_a0a94810d03a0bf68b371c6b1a1a4a905}{killer\_format}) \{
1175         \textcolor{keywordflow}{default}: impossible(\textcolor{stringliteral}{"bad killer format?"});
1176         \textcolor{keywordflow}{case} \hyperlink{decl_8h_af4e54910b730baa32b2dfbe4dd2942c1}{KILLED\_BY\_AN}:
1177             \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(buf, killed\_by\_prefix[how]);
1178             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, an(\hyperlink{decl_8h_af7d2dea3996fe6d20ea8ec329726e8f9}{killer}));
1179             \textcolor{keywordflow}{break};
1180         \textcolor{keywordflow}{case} \hyperlink{decl_8h_a0b77d6f094070ee1d9900156357f6f62}{KILLED\_BY}:
1181             \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(buf, killed\_by\_prefix[how]);
1182             \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(buf, \hyperlink{decl_8h_af7d2dea3996fe6d20ea8ec329726e8f9}{killer});
1183             \textcolor{keywordflow}{break};
1184         \textcolor{keywordflow}{case} \hyperlink{decl_8h_aa2ea21bcf7bdd470bd96936d5b80e0ba}{NO\_KILLER\_PREFIX}:
1185             \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(buf, \hyperlink{decl_8h_af7d2dea3996fe6d20ea8ec329726e8f9}{killer});
1186             \textcolor{keywordflow}{break};
1187     \}
1188     \textcolor{comment}{/* Put death type on stone */}
1189     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(ripString, buf);
1190     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(ripString, \textcolor{stringliteral}{"\(\backslash\)n"});
1191 
1192     \textcolor{comment}{/* Put year on stone */}
1193     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(buf, \textcolor{stringliteral}{"%4d\(\backslash\)n"}, getyear());
1194     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(ripString, buf);
1195 
1196     \hyperlink{gntext_8c_aaa3e2e602ee7d30d3ebf8c83066e3a3e}{ghack\_text\_window\_rip\_string}( ripString);
1197 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a0963ed88bbc773dc826c90632575df47}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+player\+\_\+selection@{gnome\+\_\+player\+\_\+selection}}
\index{gnome\+\_\+player\+\_\+selection@{gnome\+\_\+player\+\_\+selection}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+player\+\_\+selection}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+player\+\_\+selection (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a0963ed88bbc773dc826c90632575df47}


Definition at line 123 of file gnbind.\+c.



References Gender\+::adj, Align\+::adj, aligns, alloc(), clearlocks(), Role\+Name\+::f, flag\+::female, flags, free(), genders, ghack\+\_\+player\+\_\+sel\+\_\+dialog(), gnome\+\_\+exit\+\_\+nhwindows(), flag\+::initalign, flag\+::initgend, flag\+::initrace, flag\+::initrole, Role\+Name\+::m, Role\+::name, Race\+::noun, ok\+\_\+align(), ok\+\_\+gend(), ok\+\_\+race(), ok\+\_\+role(), panic(), pick\+\_\+align(), pick\+\_\+gend(), pick\+\_\+race(), P\+I\+C\+K\+\_\+\+R\+A\+N\+D\+O\+M, pick\+\_\+role(), races, randalign(), randgend(), flag\+::randomall, randrace(), randrole(), rigid\+\_\+role\+\_\+checks(), R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M, roles, validalign(), validgend(), and validrace().


\begin{DoxyCode}
124 \{
125     \textcolor{keywordtype}{int} n, i, sel;
126     \textcolor{keyword}{const} \textcolor{keywordtype}{char}** choices;
127     \textcolor{keywordtype}{int}* pickmap;
128 
129     \textcolor{comment}{/* prevent an unnecessary prompt */}
130     \hyperlink{role_8c_a521efbade09bd358497df48478d916cd}{rigid\_role\_checks}();
131 
132     \textcolor{keywordflow}{if} (!\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall} && \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} < 0) \{
133 
134     \textcolor{comment}{/* select a role */}
135     \textcolor{keywordflow}{for} (n = 0; \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[n].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a264d1ed0d4715edaaad295e8ab4c1002}{m}; n++) \textcolor{keywordflow}{continue};
136     choices = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} **)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char} *) * (n+1));
137     pickmap = (\textcolor{keywordtype}{int}*)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) * (n+1));
138     \textcolor{keywordflow}{for} (;;) \{
139         \textcolor{keywordflow}{for} (n = 0, i = 0; \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a264d1ed0d4715edaaad295e8ab4c1002}{m}; i++) \{
140         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a318d1e9bf43d8ea42709dc462487d4e2}{ok\_role}(i, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
141                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
142             \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} >= 0 && \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female} && 
      \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a9d8f4b8c99abfbf5ca40901e5dcc581a}{f})
143             choices[n] = \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a9d8f4b8c99abfbf5ca40901e5dcc581a}{f};
144             \textcolor{keywordflow}{else}
145             choices[n] = \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a264d1ed0d4715edaaad295e8ab4c1002}{m};
146             pickmap[n++] = i;
147         \}
148         \}
149         \textcolor{keywordflow}{if} (n > 0) \textcolor{keywordflow}{break};
150         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} >= 0) \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = -1;    \textcolor{comment}{/* reset */}
151         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} >= 0) \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = -1;
152         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} >= 0) \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = -1;
153         \textcolor{keywordflow}{else} \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"no available ROLE+race+gender+alignment combinations"});
154     \}
155     choices[n] = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *) 0;
156     \textcolor{keywordflow}{if} (n > 1)
157         sel = \hyperlink{gnplayer_8c_a13a83887b785a38be7c6a34a14e01456}{ghack\_player\_sel\_dialog}(choices,
158         \_(\textcolor{stringliteral}{"Player selection"}), \_(\textcolor{stringliteral}{"Choose one of the following roles:"}));
159     \textcolor{keywordflow}{else} sel = 0;
160     \textcolor{keywordflow}{if} (sel >= 0) sel = pickmap[sel];
161     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sel == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) \{       \textcolor{comment}{/* Quit */}
162         \hyperlink{files_8c_a829000f7fe446d1d26a5c4dbc51643c6}{clearlocks}();
163         \hyperlink{gnbind_8c_a891c9a8412cdad3116588b8d5c8ee53c}{gnome\_exit\_nhwindows}(0);
164     \}
165     \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(choices);
166     \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(pickmap);
167     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} < 0) sel = \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM};
168     \textcolor{keywordflow}{else} sel = \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole};
169   
170     \textcolor{keywordflow}{if} (sel == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{    \textcolor{comment}{/* Random role */}
171     sel = \hyperlink{role_8c_a45a06501725a029f2a6d153cc0018cef}{pick\_role}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
172               \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
173     \textcolor{keywordflow}{if} (sel < 0) sel = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}();
174     \}
175 
176     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = sel;
177 
178     \textcolor{comment}{/* Select a race, if necessary */}
179     \textcolor{comment}{/* force compatibility with role, try for compatibility with}
180 \textcolor{comment}{     * pre-selected gender/alignment */}
181     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} < 0 || !\hyperlink{role_8c_a648c22cd7c57851ea871247be474763b}{validrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace})) \{
182     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall}) \{
183         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = \hyperlink{role_8c_aa6df5e095937cd04b595a860f324c3b6}{pick\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
184                        \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
185         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} < 0) \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = 
      \hyperlink{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{randrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole});
186     \} \textcolor{keywordflow}{else} \{
187         \textcolor{comment}{/* Count the number of valid races */}
188         n = 0;  \textcolor{comment}{/* number valid */}
189         \textcolor{keywordflow}{for} (i = 0; \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++) \{
190         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, i, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}))
191             n++;
192         \}
193         \textcolor{keywordflow}{if} (n == 0) \{
194         \textcolor{keywordflow}{for} (i = 0; \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++) \{
195             \textcolor{keywordflow}{if} (\hyperlink{role_8c_a648c22cd7c57851ea871247be474763b}{validrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, i)) n++;
196         \}
197         \}
198 
199         choices = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} **)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char} *) * (n+1));
200         pickmap = (\textcolor{keywordtype}{int}*)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) * (n + 1));
201         \textcolor{keywordflow}{for} (n = 0, i = 0; \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++) \{
202         \textcolor{keywordflow}{if} (\hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, i, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
203                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
204             choices[n] = \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun};
205             pickmap[n++] = i;
206         \}
207         \}
208         choices[n] = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *) 0;
209         \textcolor{comment}{/* Permit the user to pick, if there is more than one */}
210         \textcolor{keywordflow}{if} (n > 1)
211         sel = \hyperlink{gnplayer_8c_a13a83887b785a38be7c6a34a14e01456}{ghack\_player\_sel\_dialog}(choices, \_(\textcolor{stringliteral}{"Race selection"}),
212             \_(\textcolor{stringliteral}{"Choose one of the following races:"}));
213         \textcolor{keywordflow}{else} sel = 0;
214         \textcolor{keywordflow}{if} (sel >= 0) sel = pickmap[sel];
215         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sel == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) \{ \textcolor{comment}{/* Quit */}
216         \hyperlink{files_8c_a829000f7fe446d1d26a5c4dbc51643c6}{clearlocks}();
217         \hyperlink{gnbind_8c_a891c9a8412cdad3116588b8d5c8ee53c}{gnome\_exit\_nhwindows}(0);
218         \}
219         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = sel;
220         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(choices);
221         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(pickmap);
222     \}
223     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{    \textcolor{comment}{/* Random role */}
224         sel = \hyperlink{role_8c_aa6df5e095937cd04b595a860f324c3b6}{pick\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
225                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
226         \textcolor{keywordflow}{if} (sel < 0) sel = \hyperlink{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{randrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole});
227         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = sel;
228     \}
229     \}
230 
231     \textcolor{comment}{/* Select a gender, if necessary */}
232     \textcolor{comment}{/* force compatibility with role/race, try for compatibility with}
233 \textcolor{comment}{     * pre-selected alignment */}
234     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} < 0 ||
235     !\hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend})) \{
236     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall}) \{
237         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{pick\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
238                        \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
239         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} < 0)
240         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}{randgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
241     \} \textcolor{keywordflow}{else} \{
242         \textcolor{comment}{/* Count the number of valid genders */}
243         n = 0;  \textcolor{comment}{/* number valid */}
244         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
245         \textcolor{keywordflow}{if} (\hyperlink{role_8c_adc510807e3362f828c9c14174f622e9b}{ok\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}))
246             n++;
247         \}
248         \textcolor{keywordflow}{if} (n == 0) \{
249         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
250             \textcolor{keywordflow}{if} (\hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i)) n++;
251         \}
252         \}
253 
254         choices = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} **)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char} *) * (n+1));
255         pickmap = (\textcolor{keywordtype}{int}*)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) * (n + 1));
256         \textcolor{keywordflow}{for} (n = 0, i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
257         \textcolor{keywordflow}{if} (\hyperlink{role_8c_adc510807e3362f828c9c14174f622e9b}{ok\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i,
258                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
259             choices[n] = \hyperlink{you_8h_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].\hyperlink{structGender_aa85b253df7182369faacf4a5ae6f99cb}{adj};
260             pickmap[n++] = i;
261         \}
262         \}
263         choices[n] = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *) 0;
264         \textcolor{comment}{/* Permit the user to pick, if there is more than one */}
265         \textcolor{keywordflow}{if} (n > 1)
266         sel = \hyperlink{gnplayer_8c_a13a83887b785a38be7c6a34a14e01456}{ghack\_player\_sel\_dialog}(choices, \_(\textcolor{stringliteral}{"Gender selection"}),
267             \_(\textcolor{stringliteral}{"Choose one of the following genders:"}));
268         \textcolor{keywordflow}{else} sel = 0;
269         \textcolor{keywordflow}{if} (sel >= 0) sel = pickmap[sel];
270         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sel == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) \{ \textcolor{comment}{/* Quit */}
271         \hyperlink{files_8c_a829000f7fe446d1d26a5c4dbc51643c6}{clearlocks}();
272         \hyperlink{gnbind_8c_a891c9a8412cdad3116588b8d5c8ee53c}{gnome\_exit\_nhwindows}(0);
273         \}
274         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = sel;
275         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(choices);
276         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(pickmap);
277     \}
278     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{    \textcolor{comment}{/* Random gender */}
279         sel = \hyperlink{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{pick\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
280                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
281         \textcolor{keywordflow}{if} (sel < 0) sel = \hyperlink{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}{randgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
282         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = sel;
283     \}
284     \}
285 
286     \textcolor{comment}{/* Select an alignment, if necessary */}
287     \textcolor{comment}{/* force compatibility with role/race/gender */}
288     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} < 0 ||
289     !\hyperlink{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{validalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
290     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall}) \{
291         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{pick\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
292                      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
293         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} < 0)
294         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{randalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
295     \} \textcolor{keywordflow}{else} \{
296         \textcolor{comment}{/* Count the number of valid alignments */}
297         n = 0;  \textcolor{comment}{/* number valid */}
298         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
299         \textcolor{keywordflow}{if} (\hyperlink{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{ok\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, i))
300             n++;
301         \}
302         \textcolor{keywordflow}{if} (n == 0) \{
303         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++)
304             \textcolor{keywordflow}{if} (\hyperlink{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{validalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i)) n++;
305         \}
306 
307         choices = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} **)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char} *) * (n+1));
308         pickmap = (\textcolor{keywordtype}{int}*)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}(\textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}) * (n + 1));
309         \textcolor{keywordflow}{for} (n = 0, i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
310         \textcolor{keywordflow}{if} (\hyperlink{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{ok\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole},
311                  \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, i)) \{
312             choices[n] = \hyperlink{you_8h_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[i].\hyperlink{structAlign_acfb054507e2d5b8e2c368deb54df56bd}{adj};
313             pickmap[n++] = i;
314         \}
315         \}
316         choices[n] = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *) 0;
317         \textcolor{comment}{/* Permit the user to pick, if there is more than one */}
318         \textcolor{keywordflow}{if} (n > 1)
319         sel = \hyperlink{gnplayer_8c_a13a83887b785a38be7c6a34a14e01456}{ghack\_player\_sel\_dialog}(choices, \_(\textcolor{stringliteral}{"Alignment selection"}),
320             \_(\textcolor{stringliteral}{"Choose one of the following alignments:"}));
321         \textcolor{keywordflow}{else} sel = 0;
322         \textcolor{keywordflow}{if} (sel >= 0) sel = pickmap[sel];
323         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (sel == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE}) \{ \textcolor{comment}{/* Quit */}
324         \hyperlink{files_8c_a829000f7fe446d1d26a5c4dbc51643c6}{clearlocks}();
325         \hyperlink{gnbind_8c_a891c9a8412cdad3116588b8d5c8ee53c}{gnome\_exit\_nhwindows}(0);
326         \}
327         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = sel;
328         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(choices);
329         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(pickmap);
330     \}
331     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{
332         sel = \hyperlink{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{pick\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
333                  \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
334         \textcolor{keywordflow}{if} (sel < 0) sel = \hyperlink{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{randalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
335         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = sel;
336     \}
337     \}
338 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_ae3db79ba35c4090e0737ea64d0e0f6b0}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+print\+\_\+glyph@{gnome\+\_\+print\+\_\+glyph}}
\index{gnome\+\_\+print\+\_\+glyph@{gnome\+\_\+print\+\_\+glyph}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+print\+\_\+glyph}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+print\+\_\+glyph (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{{\bf X\+C\+H\+A\+R\+\_\+\+P}}]{x, }
\item[{{\bf X\+C\+H\+A\+R\+\_\+\+P}}]{y, }
\item[{int}]{glyph}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_ae3db79ba35c4090e0737ea64d0e0f6b0}


Definition at line 859 of file gnbind.\+c.



References F\+A\+L\+S\+E, ghack\+\_\+image\+\_\+from\+\_\+glyph(), ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+P\+R\+I\+N\+T\+\_\+\+G\+L\+Y\+P\+H, and N\+U\+L\+L.


\begin{DoxyCode}
860 \{
861     \textcolor{keywordflow}{if} (wid != -1 && \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
862       \{
863     GdkImlibImage *im;
864 
865     im = \hyperlink{gnglyph_8c_a5aa4ed8940364d99bdf5a7545db02a28}{ghack\_image\_from\_glyph}( glyph, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
866 
867     gtk\_signal\_emit (GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
868              \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87edda4a4eb9b5df74d92429314f065cfc4e81}{GHSIG\_PRINT\_GLYPH}],
869              (guint) x,
870              (guint) y,
871              im,
872              \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
873     \}
874 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a2918c2754516338cb3651babdfc224a9}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+putstr@{gnome\+\_\+putstr}}
\index{gnome\+\_\+putstr@{gnome\+\_\+putstr}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+putstr}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+putstr (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{attr, }
\item[{{\bf const} char $\ast$}]{text}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a2918c2754516338cb3651babdfc224a9}


Definition at line 570 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+P\+U\+T\+S\+T\+R, M\+A\+X\+W\+I\+N\+D\+O\+W\+S, and N\+U\+L\+L.



Referenced by gnome\+\_\+yn\+\_\+function().


\begin{DoxyCode}
571 \{
572     \textcolor{keywordflow}{if} ((wid >= 0) && 
573         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
574         (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
575     \{
576       gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
577                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87eddaeb4c598a3d870b09936c029aa4023a20}{GHSIG\_PUTSTR}],
578                (guint) attr,
579                text);
580     \}
581 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a11e113687b24906ff548414b96cc7f0b}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+raw\+\_\+print@{gnome\+\_\+raw\+\_\+print}}
\index{gnome\+\_\+raw\+\_\+print@{gnome\+\_\+raw\+\_\+print}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+raw\+\_\+print}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+raw\+\_\+print (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a11e113687b24906ff548414b96cc7f0b}


Definition at line 885 of file gnbind.\+c.



References tty\+\_\+raw\+\_\+print().


\begin{DoxyCode}
886 \{
887     \hyperlink{gnbind_8c_ade17b129dc3fa809b1ba91579d6b09f9}{tty\_raw\_print}(str);
888 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_ae6bfc2805a65d36e6e696d8c18d18147}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+raw\+\_\+print\+\_\+bold@{gnome\+\_\+raw\+\_\+print\+\_\+bold}}
\index{gnome\+\_\+raw\+\_\+print\+\_\+bold@{gnome\+\_\+raw\+\_\+print\+\_\+bold}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+raw\+\_\+print\+\_\+bold}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+raw\+\_\+print\+\_\+bold (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_ae6bfc2805a65d36e6e696d8c18d18147}


Definition at line 895 of file gnbind.\+c.



References tty\+\_\+raw\+\_\+print\+\_\+bold().


\begin{DoxyCode}
896 \{
897     \hyperlink{gnbind_8c_adf44fabeb8efcceb249aaf0ed7aac48e}{tty\_raw\_print\_bold}(str);
898 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a1827109e9ed0badaff4adcaedc0e7fc7}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+resume\+\_\+nhwindows@{gnome\+\_\+resume\+\_\+nhwindows}}
\index{gnome\+\_\+resume\+\_\+nhwindows@{gnome\+\_\+resume\+\_\+nhwindows}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+resume\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+resume\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a1827109e9ed0badaff4adcaedc0e7fc7}


Definition at line 387 of file gnbind.\+c.


\begin{DoxyCode}
388 \{
389     \textcolor{comment}{/* Do Nothing.  Un-necessary since the GUI will refresh itself. */}
390     \textcolor{keywordflow}{return};
391 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a014d61d5534b0cb3a4825ad26a911387}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+select\+\_\+menu@{gnome\+\_\+select\+\_\+menu}}
\index{gnome\+\_\+select\+\_\+menu@{gnome\+\_\+select\+\_\+menu}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+select\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}int gnome\+\_\+select\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{how, }
\item[{{\bf M\+E\+N\+U\+\_\+\+I\+T\+E\+M\+\_\+\+P} $\ast$$\ast$}]{selected}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a014d61d5534b0cb3a4825ad26a911387}


Definition at line 783 of file gnbind.\+c.



References ghack\+\_\+menu\+\_\+window\+\_\+select\+\_\+menu(), N\+H\+W\+\_\+\+M\+E\+N\+U, N\+U\+L\+L, and type.


\begin{DoxyCode}
784 \{
785     \textcolor{keywordtype}{int} nReturned = -1;
786 
787     \textcolor{keywordflow}{if} (wid != -1 && \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
788         \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU})
789       \{
790     nReturned=\hyperlink{gnmenu_8c_adae68cf5b7a99ed2a8da9823f741e84c}{ghack\_menu\_window\_select\_menu} (
      \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win,
791                        selected, how);
792       \}
793 
794     \textcolor{keywordflow}{return} nReturned;
795 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_abc2103bcebb39bbf24525f05cf530390}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+start\+\_\+menu@{gnome\+\_\+start\+\_\+menu}}
\index{gnome\+\_\+start\+\_\+menu@{gnome\+\_\+start\+\_\+menu}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+start\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+start\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_abc2103bcebb39bbf24525f05cf530390}


Definition at line 674 of file gnbind.\+c.



References ghack\+\_\+signals, G\+H\+S\+I\+G\+\_\+\+S\+T\+A\+R\+T\+\_\+\+M\+E\+N\+U, gnome\+\_\+create\+\_\+nhwindow\+\_\+by\+\_\+id(), N\+U\+L\+L, and type.


\begin{DoxyCode}
675 \{
676   \textcolor{keywordflow}{if} (wid != -1)
677     \{
678       \textcolor{keywordflow}{if} (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} && 
      \hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} != 0)
679     \{
680       \hyperlink{gnbind_8c_a21d763df47433a2cb4552a0c7bc6125b}{gnome\_create\_nhwindow\_by\_id}(\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].
      \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type}, wid);
681     \}
682         gtk\_signal\_emit( GTK\_OBJECT (\hyperlink{gnbind_8c_a7a19e8e89157f75c9b87b271b0927c2d}{gnome\_windowlist}[wid].win),
683                \hyperlink{gnsignal_8h_ae983ec25465bee52ec604cd1414d14c2}{ghack\_signals}[\hyperlink{gnsignal_8h_ac205be2172292384dd687b5471a87eddae326b7186b32812b143683a3dae23ec2}{GHSIG\_START\_MENU}]);
684     \}
685 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_ad8964b91afc2e1d70afc7883d0583807}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+start\+\_\+screen@{gnome\+\_\+start\+\_\+screen}}
\index{gnome\+\_\+start\+\_\+screen@{gnome\+\_\+start\+\_\+screen}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+start\+\_\+screen}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+start\+\_\+screen (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_ad8964b91afc2e1d70afc7883d0583807}


Definition at line 1134 of file gnbind.\+c.


\begin{DoxyCode}
1135 \{
1136     \textcolor{comment}{/* Do Nothing */}
1137 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_abb508e5ad3f389fe21a06e546b1762c6}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+suspend\+\_\+nhwindows@{gnome\+\_\+suspend\+\_\+nhwindows}}
\index{gnome\+\_\+suspend\+\_\+nhwindows@{gnome\+\_\+suspend\+\_\+nhwindows}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+suspend\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+suspend\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_abb508e5ad3f389fe21a06e546b1762c6}


Definition at line 379 of file gnbind.\+c.


\begin{DoxyCode}
380 \{
381     \textcolor{comment}{/* I don't think we need to do anything here... */}
382     \textcolor{keywordflow}{return};
383 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a20d1422c08261d20c30586b0abcd8849}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+update\+\_\+inventory@{gnome\+\_\+update\+\_\+inventory}}
\index{gnome\+\_\+update\+\_\+inventory@{gnome\+\_\+update\+\_\+inventory}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+update\+\_\+inventory}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+update\+\_\+inventory (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a20d1422c08261d20c30586b0abcd8849}


Definition at line 802 of file gnbind.\+c.



References ghack\+\_\+main\+\_\+window\+\_\+update\+\_\+inventory().


\begin{DoxyCode}
803 \{
804     \hyperlink{gnmain_8c_aaf199ff2089b29fd6ec6c3959d393904}{ghack\_main\_window\_update\_inventory}();
805 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a04352bc879e9ff9589f36f3726188b0c}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+wait\+\_\+synch@{gnome\+\_\+wait\+\_\+synch}}
\index{gnome\+\_\+wait\+\_\+synch@{gnome\+\_\+wait\+\_\+synch}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+wait\+\_\+synch}]{\setlength{\rightskip}{0pt plus 5cm}void gnome\+\_\+wait\+\_\+synch (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a04352bc879e9ff9589f36f3726188b0c}


Definition at line 823 of file gnbind.\+c.


\begin{DoxyCode}
824 \{
825     \textcolor{comment}{/* Do nothing */}
826 \}
\end{DoxyCode}
\hypertarget{gnbind_8h_a8755ac4eb82aab7372d2baf8d05349fd}{\index{gnbind.\+h@{gnbind.\+h}!gnome\+\_\+yn\+\_\+function@{gnome\+\_\+yn\+\_\+function}}
\index{gnome\+\_\+yn\+\_\+function@{gnome\+\_\+yn\+\_\+function}!gnbind.\+h@{gnbind.\+h}}
\subsubsection[{gnome\+\_\+yn\+\_\+function}]{\setlength{\rightskip}{0pt plus 5cm}char gnome\+\_\+yn\+\_\+function (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{question, }
\item[{{\bf const} char $\ast$}]{choices, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{def}
\end{DoxyParamCaption}
)}}\label{gnbind_8h_a8755ac4eb82aab7372d2baf8d05349fd}


Definition at line 1020 of file gnbind.\+c.



References A\+T\+R\+\_\+\+B\+O\+L\+D, B\+U\+F\+S\+Z, eos(), ghack\+\_\+get\+\_\+main\+\_\+window(), ghack\+\_\+yes\+\_\+no\+\_\+dialog(), gnome\+\_\+nhbell(), gnome\+\_\+nhgetch(), gnome\+\_\+putstr(), index(), N\+U\+L\+L, Q\+B\+U\+F\+S\+Z, Strcpy, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, and yn\+\_\+esc\+\_\+map.


\begin{DoxyCode}
1022 \{
1023     \textcolor{keywordtype}{int} ch;
1024     \textcolor{keywordtype}{int} result=-1;
1025     \textcolor{keywordtype}{char} message[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
1026     \textcolor{keywordtype}{char} \hyperlink{winX_8c_a7dd015f980e8d798c219b645465751c6}{yn\_esc\_map}=\textcolor{charliteral}{'\(\backslash\)033'};
1027     GtkWidget *mainWnd = \hyperlink{gnmain_8c_a103200f2f57b9258dfa18159191ea650}{ghack\_get\_main\_window}();
1028     
1029     
1030     \textcolor{keywordflow}{if} (choices) \{
1031     \textcolor{keywordtype}{char} *cb, choicebuf[\hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ}];
1032     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(choicebuf, choices);
1033     \textcolor{keywordflow}{if} ((cb = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choicebuf, \textcolor{charliteral}{'\(\backslash\)033'})) != 0) \{
1034         \textcolor{comment}{/* anything beyond <esc> is hidden */}
1035         *cb = \textcolor{charliteral}{'\(\backslash\)0'};
1036     \}
1037     sprintf(message, \textcolor{stringliteral}{"%s [%s] "}, question, choicebuf);
1038     \textcolor{keywordflow}{if} (def) sprintf(\hyperlink{makedefs_8c_a72563303ed4b67f2a7dd9f2d15a01558}{eos}(message), \textcolor{stringliteral}{"(%c) "}, def);
1039     \textcolor{comment}{/* escape maps to 'q' or 'n' or default, in that order */}
1040     yn\_esc\_map = (\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices, \textcolor{charliteral}{'q'}) ? \textcolor{charliteral}{'q'} :
1041          (\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices, \textcolor{charliteral}{'n'}) ? \textcolor{charliteral}{'n'} : def));
1042     \} \textcolor{keywordflow}{else} \{
1043     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(message, question);
1044     \}
1045     
1046     
1047     \hyperlink{gnbind_8c_a2918c2754516338cb3651babdfc224a9}{gnome\_putstr}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, message);
1048     \textcolor{keywordflow}{if} (mainWnd != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} && choices && !\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices,ch)) \{
1049     \textcolor{keywordflow}{return}(\hyperlink{gnyesno_8c_a72732aadd967eccf19cfca0de90eef65}{ghack\_yes\_no\_dialog}( question, choices, def));
1050     \}
1051 
1052     \textcolor{comment}{/* Only here if main window is not present */}
1053     \textcolor{keywordflow}{while} (result<0) \{
1054     ch=\hyperlink{gnbind_8c_a4ca2f7129a1958a4c2ba6850b8a2e7c7}{gnome\_nhgetch}();
1055     \textcolor{keywordflow}{if} (ch==\textcolor{charliteral}{'\(\backslash\)033'}) \{
1056         result=\hyperlink{winX_8c_a7dd015f980e8d798c219b645465751c6}{yn\_esc\_map};
1057     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choices && !\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices,ch)) \{
1058         \textcolor{comment}{/* FYI: ch==-115 is for KP\_ENTER */}
1059         \textcolor{keywordflow}{if} (def && (ch==\textcolor{charliteral}{' '} || ch==\textcolor{charliteral}{'\(\backslash\)r'} || ch==\textcolor{charliteral}{'\(\backslash\)n'} || ch==-115)) \{
1060         result=def;
1061         \} \textcolor{keywordflow}{else} \{
1062         \hyperlink{gnbind_8c_a29d58d80d641be50e49871883c0677cf}{gnome\_nhbell}();
1063         \textcolor{comment}{/* and try again... */}
1064         \}
1065     \} \textcolor{keywordflow}{else} \{
1066         result=ch;
1067     \}
1068     \}
1069     \textcolor{keywordflow}{return} result;
1070 \}
\end{DoxyCode}
