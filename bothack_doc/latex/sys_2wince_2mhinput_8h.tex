\hypertarget{sys_2wince_2mhinput_8h}{\section{nethack/sys/wince/mhinput.h File Reference}
\label{sys_2wince_2mhinput_8h}\index{nethack/sys/wince/mhinput.\+h@{nethack/sys/wince/mhinput.\+h}}
}
{\ttfamily \#include \char`\"{}win\+M\+S.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmswin__event}{mswin\+\_\+event}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{sys_2wince_2mhinput_8h_aa21ee5bbaf0dc20461decbe3869878e0}{N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R}~1
\item 
\#define \hyperlink{sys_2wince_2mhinput_8h_aefbe332d9b3e2ce9643ecb71acda73d0}{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E}~2
\item 
\#define \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D}(c)~\{ \hyperlink{sys_2wince_2mhinput_8h_ad05e332b757b5a550f8ee0712c312df0}{M\+S\+N\+H\+Event} e; \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{e.\+type}=\hyperlink{win_2win32_2mhinput_8h_aa21ee5bbaf0dc20461decbe3869878e0}{N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R}; e.\+kbd.\+ch=(c); \hyperlink{win_2win32_2mhinput_8h_a6451673461ccca559a98ec2897fa816f}{mswin\+\_\+input\+\_\+push}(\&e); \}
\item 
\#define \hyperlink{sys_2wince_2mhinput_8h_a4281e55aeaf5f2a99315390737e7f546}{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+S}(\+\_\+mod, \+\_\+x, \+\_\+y)~\{ \hyperlink{sys_2wince_2mhinput_8h_ad05e332b757b5a550f8ee0712c312df0}{M\+S\+N\+H\+Event} e; \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{e.\+type}=\hyperlink{win_2win32_2mhinput_8h_aefbe332d9b3e2ce9643ecb71acda73d0}{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E}; e.\+ms.\+mod = (\+\_\+mod); e.\+ms.\+x=(\+\_\+x); e.\+ms.\+y=(\+\_\+y); \hyperlink{win_2win32_2mhinput_8h_a6451673461ccca559a98ec2897fa816f}{mswin\+\_\+input\+\_\+push}(\&e); \}
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structmswin__event}{mswin\+\_\+event} \hyperlink{sys_2wince_2mhinput_8h_ad05e332b757b5a550f8ee0712c312df0}{M\+S\+N\+H\+Event}
\item 
typedef struct \hyperlink{structmswin__event}{mswin\+\_\+event} $\ast$ \hyperlink{sys_2wince_2mhinput_8h_a2be931f11df9b15b3ea440814f59a90e}{P\+M\+S\+N\+H\+Event}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{sys_2wince_2mhinput_8h_abc3c9f12d2e8d7ca529bac1215f79672}{mswin\+\_\+nh\+\_\+input\+\_\+init} ()
\item 
int \hyperlink{sys_2wince_2mhinput_8h_ac3f8f3ca6bf373418ca678c94249d550}{mswin\+\_\+have\+\_\+input} ()
\item 
void \hyperlink{sys_2wince_2mhinput_8h_a6451673461ccca559a98ec2897fa816f}{mswin\+\_\+input\+\_\+push} (\hyperlink{sys_2wince_2mhinput_8h_a2be931f11df9b15b3ea440814f59a90e}{P\+M\+S\+N\+H\+Event} event)
\item 
\hyperlink{sys_2wince_2mhinput_8h_a2be931f11df9b15b3ea440814f59a90e}{P\+M\+S\+N\+H\+Event} \hyperlink{sys_2wince_2mhinput_8h_a956ca789dfd164267928c8d98e3ee13b}{mswin\+\_\+input\+\_\+pop} ()
\item 
\hyperlink{sys_2wince_2mhinput_8h_a2be931f11df9b15b3ea440814f59a90e}{P\+M\+S\+N\+H\+Event} \hyperlink{sys_2wince_2mhinput_8h_a42004895384555ed9b5ab193dd45d7f6}{mswin\+\_\+input\+\_\+peek} ()
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{sys_2wince_2mhinput_8h_aa21ee5bbaf0dc20461decbe3869878e0}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R@{N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R}}
\index{N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R@{N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R~1}}\label{sys_2wince_2mhinput_8h_aa21ee5bbaf0dc20461decbe3869878e0}


Definition at line 10 of file mhinput.\+h.



Referenced by mswin\+\_\+nhgetch(), and N\+H\+Menu\+List\+Wnd\+Proc().

\hypertarget{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D@{N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D}}
\index{N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D@{N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D(
\begin{DoxyParamCaption}
\item[{}]{c}
\end{DoxyParamCaption}
)~\{ {\bf M\+S\+N\+H\+Event} e; {\bf e.\+type}={\bf N\+H\+E\+V\+E\+N\+T\+\_\+\+C\+H\+A\+R}; e.\+kbd.\+ch=(c); {\bf mswin\+\_\+input\+\_\+push}(\&e); \}}}\label{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}


Definition at line 26 of file mhinput.\+h.



Referenced by Main\+Wnd\+Proc(), and Push\+Nethack\+Command().

\hypertarget{sys_2wince_2mhinput_8h_aefbe332d9b3e2ce9643ecb71acda73d0}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E@{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E}}
\index{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E@{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E~2}}\label{sys_2wince_2mhinput_8h_aefbe332d9b3e2ce9643ecb71acda73d0}


Definition at line 11 of file mhinput.\+h.



Referenced by mswin\+\_\+nh\+\_\+poskey().

\hypertarget{sys_2wince_2mhinput_8h_a4281e55aeaf5f2a99315390737e7f546}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+S@{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+S}}
\index{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+S@{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+S}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+S(
\begin{DoxyParamCaption}
\item[{}]{\+\_\+mod, }
\item[{}]{\+\_\+x, }
\item[{}]{\+\_\+y}
\end{DoxyParamCaption}
)~\{ {\bf M\+S\+N\+H\+Event} e; {\bf e.\+type}={\bf N\+H\+E\+V\+E\+N\+T\+\_\+\+M\+O\+U\+S\+E}; e.\+ms.\+mod = (\+\_\+mod); e.\+ms.\+x=(\+\_\+x); e.\+ms.\+y=(\+\_\+y); {\bf mswin\+\_\+input\+\_\+push}(\&e); \}}}\label{sys_2wince_2mhinput_8h_a4281e55aeaf5f2a99315390737e7f546}


Definition at line 27 of file mhinput.\+h.



Referenced by Main\+Wnd\+Proc(), and Map\+Wnd\+Proc().



\subsection{Typedef Documentation}
\hypertarget{sys_2wince_2mhinput_8h_ad05e332b757b5a550f8ee0712c312df0}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!M\+S\+N\+H\+Event@{M\+S\+N\+H\+Event}}
\index{M\+S\+N\+H\+Event@{M\+S\+N\+H\+Event}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{M\+S\+N\+H\+Event}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf mswin\+\_\+event}  {\bf M\+S\+N\+H\+Event}}}\label{sys_2wince_2mhinput_8h_ad05e332b757b5a550f8ee0712c312df0}
\hypertarget{sys_2wince_2mhinput_8h_a2be931f11df9b15b3ea440814f59a90e}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!P\+M\+S\+N\+H\+Event@{P\+M\+S\+N\+H\+Event}}
\index{P\+M\+S\+N\+H\+Event@{P\+M\+S\+N\+H\+Event}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{P\+M\+S\+N\+H\+Event}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf mswin\+\_\+event} $\ast$ {\bf P\+M\+S\+N\+H\+Event}}}\label{sys_2wince_2mhinput_8h_a2be931f11df9b15b3ea440814f59a90e}


\subsection{Function Documentation}
\hypertarget{sys_2wince_2mhinput_8h_ac3f8f3ca6bf373418ca678c94249d550}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!mswin\+\_\+have\+\_\+input@{mswin\+\_\+have\+\_\+input}}
\index{mswin\+\_\+have\+\_\+input@{mswin\+\_\+have\+\_\+input}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{mswin\+\_\+have\+\_\+input}]{\setlength{\rightskip}{0pt plus 5cm}int mswin\+\_\+have\+\_\+input (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mhinput_8h_ac3f8f3ca6bf373418ca678c94249d550}


Definition at line 34 of file mhinput.\+c.


\begin{DoxyCode}
35 \{
36     \textcolor{keywordflow}{return} (\hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos}!=\hyperlink{sys_2wince_2mhinput_8c_a68923bc237dfa76e1e684e2fa424d44f}{nhi\_write\_pos});
37 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mhinput_8h_a42004895384555ed9b5ab193dd45d7f6}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!mswin\+\_\+input\+\_\+peek@{mswin\+\_\+input\+\_\+peek}}
\index{mswin\+\_\+input\+\_\+peek@{mswin\+\_\+input\+\_\+peek}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{mswin\+\_\+input\+\_\+peek}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+M\+S\+N\+H\+Event} mswin\+\_\+input\+\_\+peek (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mhinput_8h_a42004895384555ed9b5ab193dd45d7f6}


Definition at line 73 of file mhinput.\+c.


\begin{DoxyCode}
74 \{
75     \hyperlink{structmswin__event}{PMSNHEvent} retval;
76 
77     \textcolor{keywordflow}{if}( !\hyperlink{sys_2wince_2mhinput_8c_a40aae562b9b775768f3de2e84ee56c16}{nhi\_init\_input} ) \hyperlink{sys_2wince_2mhinput_8c_abc3c9f12d2e8d7ca529bac1215f79672}{mswin\_nh\_input\_init}();
78 
79     \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos}!=\hyperlink{sys_2wince_2mhinput_8c_a68923bc237dfa76e1e684e2fa424d44f}{nhi\_write\_pos} ) \{
80         retval = &\hyperlink{sys_2wince_2mhinput_8c_ad151f90bc213f7e47b38b579c3339a9d}{nhi\_input\_buffer}[\hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos}];
81     \} \textcolor{keywordflow}{else} \{
82         retval = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
83     \}
84     \textcolor{keywordflow}{return} retval;
85 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mhinput_8h_a956ca789dfd164267928c8d98e3ee13b}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!mswin\+\_\+input\+\_\+pop@{mswin\+\_\+input\+\_\+pop}}
\index{mswin\+\_\+input\+\_\+pop@{mswin\+\_\+input\+\_\+pop}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{mswin\+\_\+input\+\_\+pop}]{\setlength{\rightskip}{0pt plus 5cm}{\bf P\+M\+S\+N\+H\+Event} mswin\+\_\+input\+\_\+pop (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mhinput_8h_a956ca789dfd164267928c8d98e3ee13b}


Definition at line 56 of file mhinput.\+c.


\begin{DoxyCode}
57 \{
58     \hyperlink{structmswin__event}{PMSNHEvent} retval;
59 
60     \textcolor{keywordflow}{if}( !\hyperlink{sys_2wince_2mhinput_8c_a40aae562b9b775768f3de2e84ee56c16}{nhi\_init\_input} ) \hyperlink{sys_2wince_2mhinput_8c_abc3c9f12d2e8d7ca529bac1215f79672}{mswin\_nh\_input\_init}();
61 
62     \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos}!=\hyperlink{sys_2wince_2mhinput_8c_a68923bc237dfa76e1e684e2fa424d44f}{nhi\_write\_pos} ) \{
63         retval = &\hyperlink{sys_2wince_2mhinput_8c_ad151f90bc213f7e47b38b579c3339a9d}{nhi\_input\_buffer}[\hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos}];
64         \hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos} = (\hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos}+1) % 
      \hyperlink{sys_2wince_2mhinput_8c_a3c7a9438fc899e1e20bfdb5a99e8c8c7}{NH\_INPUT\_BUFFER\_SIZE};
65     \} \textcolor{keywordflow}{else} \{
66         retval = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
67     \}
68 
69     \textcolor{keywordflow}{return} retval;
70 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mhinput_8h_a6451673461ccca559a98ec2897fa816f}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!mswin\+\_\+input\+\_\+push@{mswin\+\_\+input\+\_\+push}}
\index{mswin\+\_\+input\+\_\+push@{mswin\+\_\+input\+\_\+push}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{mswin\+\_\+input\+\_\+push}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+input\+\_\+push (
\begin{DoxyParamCaption}
\item[{{\bf P\+M\+S\+N\+H\+Event}}]{event}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mhinput_8h_a6451673461ccca559a98ec2897fa816f}


Definition at line 40 of file mhinput.\+c.


\begin{DoxyCode}
41 \{
42     \textcolor{keywordtype}{int} new\_write\_pos;
43 
44     \textcolor{keywordflow}{if}( !\hyperlink{sys_2wince_2mhinput_8c_a40aae562b9b775768f3de2e84ee56c16}{nhi\_init\_input} ) \hyperlink{sys_2wince_2mhinput_8c_abc3c9f12d2e8d7ca529bac1215f79672}{mswin\_nh\_input\_init}();
45 
46     new\_write\_pos = (\hyperlink{sys_2wince_2mhinput_8c_a68923bc237dfa76e1e684e2fa424d44f}{nhi\_write\_pos}+1) % \hyperlink{sys_2wince_2mhinput_8c_a3c7a9438fc899e1e20bfdb5a99e8c8c7}{NH\_INPUT\_BUFFER\_SIZE};
47     
48     \textcolor{keywordflow}{if}(new\_write\_pos!=\hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos}) \{
49         memcpy(\hyperlink{sys_2wince_2mhinput_8c_ad151f90bc213f7e47b38b579c3339a9d}{nhi\_input\_buffer}+\hyperlink{sys_2wince_2mhinput_8c_a68923bc237dfa76e1e684e2fa424d44f}{nhi\_write\_pos}, event, \textcolor{keyword}{sizeof}(*event));
50         \hyperlink{sys_2wince_2mhinput_8c_a68923bc237dfa76e1e684e2fa424d44f}{nhi\_write\_pos} = new\_write\_pos;
51     \}
52 
53 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mhinput_8h_abc3c9f12d2e8d7ca529bac1215f79672}{\index{sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}!mswin\+\_\+nh\+\_\+input\+\_\+init@{mswin\+\_\+nh\+\_\+input\+\_\+init}}
\index{mswin\+\_\+nh\+\_\+input\+\_\+init@{mswin\+\_\+nh\+\_\+input\+\_\+init}!sys/wince/mhinput.\+h@{sys/wince/mhinput.\+h}}
\subsubsection[{mswin\+\_\+nh\+\_\+input\+\_\+init}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+nh\+\_\+input\+\_\+init (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mhinput_8h_abc3c9f12d2e8d7ca529bac1215f79672}


Definition at line 22 of file mhinput.\+c.


\begin{DoxyCode}
23 \{
24     \textcolor{keywordflow}{if}( !\hyperlink{sys_2wince_2mhinput_8c_a40aae562b9b775768f3de2e84ee56c16}{nhi\_init\_input} ) \{
25         \hyperlink{sys_2wince_2mhinput_8c_a40aae562b9b775768f3de2e84ee56c16}{nhi\_init\_input} = 1;
26 
27         ZeroMemory( \hyperlink{sys_2wince_2mhinput_8c_ad151f90bc213f7e47b38b579c3339a9d}{nhi\_input\_buffer}, \textcolor{keyword}{sizeof}(\hyperlink{sys_2wince_2mhinput_8c_ad151f90bc213f7e47b38b579c3339a9d}{nhi\_input\_buffer}) );
28         \hyperlink{sys_2wince_2mhinput_8c_a46fe5f4b7be1ee06d52dc6fe8d24fc3b}{nhi\_read\_pos} = 0;
29         \hyperlink{sys_2wince_2mhinput_8c_a68923bc237dfa76e1e684e2fa424d44f}{nhi\_write\_pos} = 0;
30     \}
31 \}
\end{DoxyCode}
