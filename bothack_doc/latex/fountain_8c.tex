\hypertarget{fountain_8c}{\section{nethack/src/fountain.c File Reference}
\label{fountain_8c}\index{nethack/src/fountain.\+c@{nethack/src/fountain.\+c}}
}
{\ttfamily \#include \char`\"{}hack.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{fountain_8c_ac3d631e0c7178b90d3ae0ecdb0e8fade}{N\+D\+E\+C\+L} (\hyperlink{fountain_8c_a8949d295ed87e5c12f674ecd5400aaad}{dowatersnakes})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{fountain_8c_a31c5922a867597b30d87f82ffa70e610}{N\+D\+E\+C\+L} (\hyperlink{fountain_8c_ab7be178fb559972fc3c0f14a8e01601d}{dowaterdemon})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{fountain_8c_ab9b723b95c7dd2884faba6806787063c}{N\+D\+E\+C\+L} (\hyperlink{fountain_8c_a2e5d8a652d34b5845baedc6273a025f5}{dowaternymph})
\item 
\hyperlink{hack_8h_ac0f6cfba4138e5e6a773d15a80ea82ff}{S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} void \hyperlink{fountain_8c_a4a5f3236626483a589f7e22ea2781be4}{F\+D\+E\+C\+L} (\hyperlink{fountain_8c_a88258773f7cd89f706671e1904c00ad6}{gush},(int, int, \hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\+\_\+t}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{fountain_8c_a4ed4900a8872cba9f5be8463510bb901}{N\+D\+E\+C\+L} (\hyperlink{fountain_8c_ae5302d7cd5581ba1c26eb1d1050e46b3}{dofindgem})
\item 
void \hyperlink{fountain_8c_a3e9f8883cf01a0c007d7f0de3febd20e}{floating\+\_\+above} (char $\ast$\hyperlink{detect_8c_a951a98f1e2d69ca61adcd53c0f8faca3}{what}) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{fountain_8c_a8949d295ed87e5c12f674ecd5400aaad}{dowatersnakes} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{fountain_8c_ab7be178fb559972fc3c0f14a8e01601d}{dowaterdemon} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{fountain_8c_a2e5d8a652d34b5845baedc6273a025f5}{dowaternymph} ()
\item 
void \hyperlink{fountain_8c_a5bc383bfecee10022f1ebf514645523e}{dogushforth} (int drinking)
\item 
\hyperlink{hack_8h_ac0f6cfba4138e5e6a773d15a80ea82ff}{S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} void \hyperlink{fountain_8c_a88258773f7cd89f706671e1904c00ad6}{gush} (int x, int y, \hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\+\_\+t} poolcnt)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{fountain_8c_ae5302d7cd5581ba1c26eb1d1050e46b3}{dofindgem} ()
\item 
void \hyperlink{fountain_8c_a74a1cb51a838306797546abd6ffde74c}{dryup} (\hyperlink{global_8h_a2043b7d01ce89f4ee2fa6c345a752d32}{xchar} x, \hyperlink{global_8h_a2043b7d01ce89f4ee2fa6c345a752d32}{xchar} y, \hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} isyou)
\item 
void \hyperlink{fountain_8c_a916bffbab99be2acb2c78e2880ce5a07}{drinkfountain} ()
\item 
void \hyperlink{fountain_8c_ae12d3c2ec4395d1206904cc3681c4195}{dipfountain} (struct \hyperlink{structobj}{obj} $\ast$\hyperlink{structobj}{obj})
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{fountain_8c_ae12d3c2ec4395d1206904cc3681c4195}{\index{fountain.\+c@{fountain.\+c}!dipfountain@{dipfountain}}
\index{dipfountain@{dipfountain}!fountain.\+c@{fountain.\+c}}
\subsubsection[{dipfountain}]{\setlength{\rightskip}{0pt plus 5cm}void dipfountain (
\begin{DoxyParamCaption}
\item[{struct {\bf obj} $\ast$}]{obj}
\end{DoxyParamCaption}
)}}\label{fountain_8c_ae12d3c2ec4395d1206904cc3681c4195}


Definition at line 351 of file fountain.\+c.



References A\+\_\+\+L\+A\+W\+F\+U\+L, A\+\_\+\+W\+I\+S, A\+R\+M, Blind, C\+L\+E\+A\+R\+\_\+\+F\+O\+U\+N\+T\+A\+I\+N\+\_\+\+L\+O\+O\+T\+E\+D, C\+O\+I\+N\+\_\+\+C\+L\+A\+S\+S, dofindgem(), dogushforth(), dowaterdemon(), dowaternymph(), dowatersnakes(), dryup(), F\+A\+L\+S\+E, dlevel\+\_\+t\+::flags, floating\+\_\+above(), F\+O\+U\+N\+T\+A\+I\+N\+\_\+\+I\+S\+\_\+\+L\+O\+O\+T\+E\+D, invent, level, Levitation, levl, min, newsym(), levelflags\+::nfountains, obj\+::nobj, objects, objclass\+::oc\+\_\+cost, obj\+::oclass, otmp, obj\+::otyp, obj\+::quan, R\+O\+O\+M, S\+E\+T\+\_\+\+F\+O\+U\+N\+T\+A\+I\+N\+\_\+\+L\+O\+O\+T\+E\+D, T\+R\+U\+E, align\+::type, u, you\+::ualign, you\+::ugold, you\+::ulevel, update\+\_\+inventory, you\+::ux, you\+::uy, and you\+::uz.


\begin{DoxyCode}
353 \{
354     \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a3dbdc08291ccd1d6de010d72e4b180fb}{Levitation}) \{
355         \hyperlink{fountain_8c_a3e9f8883cf01a0c007d7f0de3febd20e}{floating\_above}(\textcolor{stringliteral}{"fountain"});
356         \textcolor{keywordflow}{return};
357     \}
358 
359     \textcolor{comment}{/* Don't grant Excalibur when there's more than one object.  */}
360     \textcolor{comment}{/* (quantity could be > 1 if merged daggers got polymorphed) */}
361     \textcolor{keywordflow}{if} (obj->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == LONG\_SWORD && obj->\hyperlink{structobj_ad08c0ed1a746fbb52377ecd7e4220578}{quan} == 1L
362         && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} >= 5 && !rn2(6)
363         && !obj->\hyperlink{structobj_af03ce8a6a0ca51e8d8954fb1a1a31fbe}{oartifact}
364         && !exist\_artifact(LONG\_SWORD, artiname(ART\_EXCALIBUR))) \{
365 
366         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL}) \{
367             \textcolor{comment}{/* Ha!  Trying to cheat her. */}
368             pline(\textcolor{stringliteral}{"A freezing mist rises from the water and envelopes the sword."});
369             pline\_The(\textcolor{stringliteral}{"fountain disappears!"});
370             curse(obj);
371             \textcolor{keywordflow}{if} (obj->\hyperlink{structobj_a14fc8dc59e9073bfbf1e170875a98448}{spe} > -6 && !rn2(3)) obj->\hyperlink{structobj_a14fc8dc59e9073bfbf1e170875a98448}{spe}--;
372             obj->oerodeproof = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
373             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
374         \} \textcolor{keywordflow}{else} \{
375             \textcolor{comment}{/* The lady of the lake acts! - Eric Backus */}
376             \textcolor{comment}{/* Be *REAL* nice */}
377       pline(\textcolor{stringliteral}{"From the murky depths, a hand reaches up to bless the sword."});
378             pline(\textcolor{stringliteral}{"As the hand retreats, the fountain disappears!"});
379             obj = oname(obj, artiname(ART\_EXCALIBUR));
380             discover\_artifact(ART\_EXCALIBUR);
381             bless(obj);
382             obj->oeroded = obj->oeroded2 = 0;
383             obj->oerodeproof = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
384             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
385         \}
386         \hyperlink{winprocs_8h_a12feb374290012aafc2340c5ba15f7e8}{update\_inventory}();
387         \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].typ = \hyperlink{rm_8h_ae635489e987ae17a3bf884376cc2fe34}{ROOM};
388         \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].looted = 0;
389         \hyperlink{display_8c_a185c6ad6e4c5a6be26a371b9aa17c32e}{newsym}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
390         \hyperlink{rm_8h_a721c99bfa099c4225215ba102e91fa39}{level}.\hyperlink{structdlevel__t_ad52c01d015e2456cdae3300848115916}{flags}.\hyperlink{structlevelflags_a7f3dc00cbb7517b44e77ef3156d05521}{nfountains}--;
391         \textcolor{keywordflow}{if}(in\_town(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}))
392             (void) angry\_guards(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
393         \textcolor{keywordflow}{return};
394     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (get\_wet(obj) && !rn2(2))
395         \textcolor{keywordflow}{return};
396 
397     \textcolor{comment}{/* Acid and water don't mix */}
398     \textcolor{keywordflow}{if} (obj->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == POT\_ACID) \{
399         useup(obj);
400         \textcolor{keywordflow}{return};
401     \}
402 
403     \textcolor{keywordflow}{switch} (rnd(30)) \{
404         \textcolor{keywordflow}{case} 16: \textcolor{comment}{/* Curse the item */}
405             curse(obj);
406             \textcolor{keywordflow}{break};
407         \textcolor{keywordflow}{case} 17:
408         \textcolor{keywordflow}{case} 18:
409         \textcolor{keywordflow}{case} 19:
410         \textcolor{keywordflow}{case} 20: \textcolor{comment}{/* Uncurse the item */}
411             \textcolor{keywordflow}{if}(obj->cursed) \{
412                 \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
413                 pline\_The(\textcolor{stringliteral}{"water glows for a moment."});
414                 uncurse(obj);
415             \} \textcolor{keywordflow}{else} \{
416                 pline(\textcolor{stringliteral}{"A feeling of loss comes over you."});
417             \}
418             \textcolor{keywordflow}{break};
419         \textcolor{keywordflow}{case} 21: \textcolor{comment}{/* Water Demon */}
420             \hyperlink{fountain_8c_ab7be178fb559972fc3c0f14a8e01601d}{dowaterdemon}();
421             \textcolor{keywordflow}{break};
422         \textcolor{keywordflow}{case} 22: \textcolor{comment}{/* Water Nymph */}
423             \hyperlink{fountain_8c_a2e5d8a652d34b5845baedc6273a025f5}{dowaternymph}();
424             \textcolor{keywordflow}{break};
425         \textcolor{keywordflow}{case} 23: \textcolor{comment}{/* an Endless Stream of Snakes */}
426             \hyperlink{fountain_8c_a8949d295ed87e5c12f674ecd5400aaad}{dowatersnakes}();
427             \textcolor{keywordflow}{break};
428         \textcolor{keywordflow}{case} 24: \textcolor{comment}{/* Find a gem */}
429             \textcolor{keywordflow}{if} (!\hyperlink{rm_8h_ab3c88a774daeac84b7c73892a21496b2}{FOUNTAIN\_IS\_LOOTED}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy})) \{
430                 \hyperlink{fountain_8c_ae5302d7cd5581ba1c26eb1d1050e46b3}{dofindgem}();
431                 \textcolor{keywordflow}{break};
432             \}
433         \textcolor{keywordflow}{case} 25: \textcolor{comment}{/* Water gushes forth */}
434             \hyperlink{fountain_8c_a5bc383bfecee10022f1ebf514645523e}{dogushforth}(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
435             \textcolor{keywordflow}{break};
436         \textcolor{keywordflow}{case} 26: \textcolor{comment}{/* Strange feeling */}
437             pline(\textcolor{stringliteral}{"A strange tingling runs up your %s."},
438                             body\_part(\hyperlink{hack_8h_ac3b52e3cce0aee40e79cc75cdf46019d}{ARM}));
439             \textcolor{keywordflow}{break};
440         \textcolor{keywordflow}{case} 27: \textcolor{comment}{/* Strange feeling */}
441             You\_feel(\textcolor{stringliteral}{"a sudden chill."});
442             \textcolor{keywordflow}{break};
443         \textcolor{keywordflow}{case} 28: \textcolor{comment}{/* Strange feeling */}
444             pline(\textcolor{stringliteral}{"An urge to take a bath overwhelms you."});
445 \textcolor{preprocessor}{#ifndef GOLDOBJ}
446             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_af666e1fd44c5efe34df9053aef068245}{ugold} > 10) \{
447                 \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_af666e1fd44c5efe34df9053aef068245}{ugold} -= somegold() / 10;
448                 You(\textcolor{stringliteral}{"lost some of your gold in the fountain!"});
449                 \hyperlink{rm_8h_a59d83dc45e257637baf3a6a70aa603fd}{CLEAR\_FOUNTAIN\_LOOTED}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
450                 exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
451             \}
452 \textcolor{preprocessor}{#else}
453             \{
454                 \textcolor{keywordtype}{long} money = money\_cnt(\hyperlink{decl_8h_a65d03deeacf265a14fa3af961820b33f}{invent});
455                 \textcolor{keyword}{struct }obj *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
456                             \textcolor{keywordflow}{if} (money > 10) \{
457                 \textcolor{comment}{/* Amount to loose.  Might get rounded up as fountains don't pay change... */}
458                     money = somegold(money) / 10; 
459                     \textcolor{keywordflow}{for} (otmp = \hyperlink{decl_8h_a65d03deeacf265a14fa3af961820b33f}{invent}; otmp && money > 0; otmp = otmp->
      \hyperlink{structobj_ad1c5d790528ee1d8349ef302994789d8}{nobj}) \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a716ba3ee00602dede9ea5c68c74d45bd}{oclass} == \hyperlink{objclass_8h_a2999621925083659147349e261e4cb3d}{COIN\_CLASS}) \{
460                     \textcolor{keywordtype}{int} denomination = \hyperlink{objclass_8h_a6fc960ca847bc1bef7559abb7bf29209}{objects}[otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp}].\hyperlink{structobjclass_aaf9cdc5c158d5ee7aad87728dcaa31cf}{oc\_cost};
461                     \textcolor{keywordtype}{long} coin\_loss = (money + denomination - 1) / denomination;
462                                     coin\_loss = \hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min}(coin\_loss, otmp->\hyperlink{structobj_ad08c0ed1a746fbb52377ecd7e4220578}{quan});
463                     otmp->\hyperlink{structobj_ad08c0ed1a746fbb52377ecd7e4220578}{quan} -= coin\_loss;
464                     money -= coin\_loss * denomination;                
465                     \textcolor{keywordflow}{if} (!otmp->\hyperlink{structobj_ad08c0ed1a746fbb52377ecd7e4220578}{quan}) delobj(otmp);
466                 \}
467                     You(\textcolor{stringliteral}{"lost some of your money in the fountain!"});
468                 \hyperlink{rm_8h_a59d83dc45e257637baf3a6a70aa603fd}{CLEAR\_FOUNTAIN\_LOOTED}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
469                     exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
470                             \}
471             \}
472 \textcolor{preprocessor}{#endif}
473             \textcolor{keywordflow}{break};
474         \textcolor{keywordflow}{case} 29: \textcolor{comment}{/* You see coins */}
475 
476         \textcolor{comment}{/* We make fountains have more coins the closer you are to the}
477 \textcolor{comment}{         * surface.  After all, there will have been more people going}
478 \textcolor{comment}{         * by.  Just like a shopping mall!  Chris Woodbury  */}
479 
480             \textcolor{keywordflow}{if} (\hyperlink{rm_8h_ab3c88a774daeac84b7c73892a21496b2}{FOUNTAIN\_IS\_LOOTED}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy})) \textcolor{keywordflow}{break};
481             \hyperlink{rm_8h_a6121c5464c62968bcdfa44cf2475ad05}{SET\_FOUNTAIN\_LOOTED}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
482             (void) mkgold((\textcolor{keywordtype}{long})
483             (rnd((dunlevs\_in\_dungeon(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz})-dunlev(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz})+1)*2)+5),
484             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
485             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
486         pline(\textcolor{stringliteral}{"Far below you, you see coins glistening in the water."});
487             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
488             \hyperlink{display_8c_a185c6ad6e4c5a6be26a371b9aa17c32e}{newsym}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
489             \textcolor{keywordflow}{break};
490     \}
491     \hyperlink{winprocs_8h_a12feb374290012aafc2340c5ba15f7e8}{update\_inventory}();
492     \hyperlink{fountain_8c_a74a1cb51a838306797546abd6ffde74c}{dryup}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
493 \}
\end{DoxyCode}
\hypertarget{fountain_8c_ae5302d7cd5581ba1c26eb1d1050e46b3}{\index{fountain.\+c@{fountain.\+c}!dofindgem@{dofindgem}}
\index{dofindgem@{dofindgem}!fountain.\+c@{fountain.\+c}}
\subsubsection[{dofindgem}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void dofindgem (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_ae5302d7cd5581ba1c26eb1d1050e46b3}


Definition at line 137 of file fountain.\+c.



References A\+\_\+\+W\+I\+S, Blind, F\+A\+L\+S\+E, newsym(), S\+E\+T\+\_\+\+F\+O\+U\+N\+T\+A\+I\+N\+\_\+\+L\+O\+O\+T\+E\+D, T\+R\+U\+E, u, you\+::ux, and you\+::uy.



Referenced by dipfountain(), and drinkfountain().


\begin{DoxyCode}
138 \{
139     \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind}) You(\textcolor{stringliteral}{"spot a gem in the sparkling waters!"});
140     \textcolor{keywordflow}{else} You\_feel(\textcolor{stringliteral}{"a gem here!"});
141     (void) mksobj\_at(rnd\_class(DILITHIUM\_CRYSTAL, LUCKSTONE-1),
142              \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
143     \hyperlink{rm_8h_a6121c5464c62968bcdfa44cf2475ad05}{SET\_FOUNTAIN\_LOOTED}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
144     \hyperlink{display_8c_a185c6ad6e4c5a6be26a371b9aa17c32e}{newsym}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
145     exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});         \textcolor{comment}{/* a discovery! */}
146 \}
\end{DoxyCode}
\hypertarget{fountain_8c_a5bc383bfecee10022f1ebf514645523e}{\index{fountain.\+c@{fountain.\+c}!dogushforth@{dogushforth}}
\index{dogushforth@{dogushforth}!fountain.\+c@{fountain.\+c}}
\subsubsection[{dogushforth}]{\setlength{\rightskip}{0pt plus 5cm}void dogushforth (
\begin{DoxyParamCaption}
\item[{int}]{drinking}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a5bc383bfecee10022f1ebf514645523e}


Definition at line 90 of file fountain.\+c.



References do\+\_\+clear\+\_\+area(), gush(), u, you\+::ux, and you\+::uy.



Referenced by dipfountain(), and drinkfountain().


\begin{DoxyCode}
92 \{
93     \textcolor{keywordtype}{int} madepool = 0;
94 
95     \hyperlink{vision_8c_a1fafbadf4ed6faed2c37e05893ba273e}{do\_clear\_area}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, 7, \hyperlink{fountain_8c_a88258773f7cd89f706671e1904c00ad6}{gush}, (\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t})&madepool);
96     \textcolor{keywordflow}{if} (!madepool) \{
97         \textcolor{keywordflow}{if} (drinking)
98         Your(\textcolor{stringliteral}{"thirst is quenched."});
99         \textcolor{keywordflow}{else}
100         pline(\textcolor{stringliteral}{"Water sprays all over you."});
101     \}
102 \}
\end{DoxyCode}
\hypertarget{fountain_8c_ab7be178fb559972fc3c0f14a8e01601d}{\index{fountain.\+c@{fountain.\+c}!dowaterdemon@{dowaterdemon}}
\index{dowaterdemon@{dowaterdemon}!fountain.\+c@{fountain.\+c}}
\subsubsection[{dowaterdemon}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void dowaterdemon (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_ab7be178fb559972fc3c0f14a8e01601d}


Definition at line 44 of file fountain.\+c.



References Blind, G\+\_\+\+G\+O\+N\+E, mhe, mhis, mons, monst\+::mx, monst\+::my, N\+O\+\_\+\+M\+M\+\_\+\+F\+L\+A\+G\+S, u, you\+::ux, and you\+::uy.



Referenced by dipfountain(), and drinkfountain().


\begin{DoxyCode}
45 \{
46     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp;
47 
48     \textcolor{keywordflow}{if}(!(\hyperlink{structmvitals}{mvitals}[PM\_WATER\_DEMON].mvflags & \hyperlink{monflag_8h_ad600313e20617adbf44819cf9707971a}{G\_GONE})) \{
49     \textcolor{keywordflow}{if}((mtmp = makemon(&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[PM\_WATER\_DEMON],\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{hack_8h_ae449582f467baa0da531a6ea116a18f2}{NO\_MM\_FLAGS}))) \{
50         \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
51         You(\textcolor{stringliteral}{"unleash %s!"}, a\_monnam(mtmp));
52         \textcolor{keywordflow}{else}
53         You\_feel(\textcolor{stringliteral}{"the presence of evil."});
54 
55     \textcolor{comment}{/* Give those on low levels a (slightly) better chance of survival */}
56         \textcolor{keywordflow}{if} (rnd(100) > (80 + level\_difficulty())) \{
57         pline(\textcolor{stringliteral}{"Grateful for %s release, %s grants you a wish!"},
58               \hyperlink{you_8h_aa53b72a15dda33a02f28703fbc551090}{mhis}(mtmp), \hyperlink{you_8h_a02ab05651821bbe8851d8459a27553e3}{mhe}(mtmp));
59         makewish();
60         mongone(mtmp);
61         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (t\_at(mtmp->\hyperlink{structmonst_a9bc20171e986845daccff8aafd8b5194}{mx}, mtmp->\hyperlink{structmonst_a0b969d9b6af5b55393f6acfe508c6f08}{my}))
62         (void) mintrap(mtmp);
63     \}
64     \} \textcolor{keywordflow}{else}
65     pline\_The(\textcolor{stringliteral}{"fountain bubbles furiously for a moment, then calms."});
66 \}
\end{DoxyCode}
\hypertarget{fountain_8c_a2e5d8a652d34b5845baedc6273a025f5}{\index{fountain.\+c@{fountain.\+c}!dowaternymph@{dowaternymph}}
\index{dowaternymph@{dowaternymph}!fountain.\+c@{fountain.\+c}}
\subsubsection[{dowaternymph}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void dowaternymph (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a2e5d8a652d34b5845baedc6273a025f5}


Definition at line 69 of file fountain.\+c.



References Blind, G\+\_\+\+G\+O\+N\+E, mons, monst\+::mx, monst\+::my, N\+O\+\_\+\+M\+M\+\_\+\+F\+L\+A\+G\+S, u, you\+::ux, and you\+::uy.



Referenced by dipfountain(), and drinkfountain().


\begin{DoxyCode}
70 \{
71     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp;
72 
73     \textcolor{keywordflow}{if}(!(\hyperlink{structmvitals}{mvitals}[PM\_WATER\_NYMPH].mvflags & \hyperlink{monflag_8h_ad600313e20617adbf44819cf9707971a}{G\_GONE}) &&
74        (mtmp = makemon(&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[PM\_WATER\_NYMPH],\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{hack_8h_ae449582f467baa0da531a6ea116a18f2}{NO\_MM\_FLAGS}))) \{
75         \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
76            You(\textcolor{stringliteral}{"attract %s!"}, a\_monnam(mtmp));
77         \textcolor{keywordflow}{else}
78            You\_hear(\textcolor{stringliteral}{"a seductive voice."});
79         mtmp->msleeping = 0;
80         \textcolor{keywordflow}{if} (t\_at(mtmp->\hyperlink{structmonst_a9bc20171e986845daccff8aafd8b5194}{mx}, mtmp->\hyperlink{structmonst_a0b969d9b6af5b55393f6acfe508c6f08}{my}))
81             (void) mintrap(mtmp);
82     \} \textcolor{keywordflow}{else}
83         \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
84            pline(\textcolor{stringliteral}{"A large bubble rises to the surface and pops."});
85         \textcolor{keywordflow}{else}
86            You\_hear(\textcolor{stringliteral}{"a loud pop."});
87 \}
\end{DoxyCode}
\hypertarget{fountain_8c_a8949d295ed87e5c12f674ecd5400aaad}{\index{fountain.\+c@{fountain.\+c}!dowatersnakes@{dowatersnakes}}
\index{dowatersnakes@{dowatersnakes}!fountain.\+c@{fountain.\+c}}
\subsubsection[{dowatersnakes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void dowatersnakes (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a8949d295ed87e5c12f674ecd5400aaad}


Definition at line 23 of file fountain.\+c.



References Blind, G\+\_\+\+G\+O\+N\+E, Hallucination, mons, monst\+::mx, monst\+::my, N\+O\+\_\+\+M\+M\+\_\+\+F\+L\+A\+G\+S, rn1, something, u, you\+::ux, and you\+::uy.



Referenced by dipfountain(), and drinkfountain().


\begin{DoxyCode}
24 \{
25     \textcolor{keyword}{register} \textcolor{keywordtype}{int} num = \hyperlink{hack_8h_af107ca092682647f298989038020f9c8}{rn1}(5,2);
26     \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp;
27 
28     \textcolor{keywordflow}{if} (!(\hyperlink{structmvitals}{mvitals}[PM\_WATER\_MOCCASIN].mvflags & \hyperlink{monflag_8h_ad600313e20617adbf44819cf9707971a}{G\_GONE})) \{
29     \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
30         pline(\textcolor{stringliteral}{"An endless stream of %s pours forth!"},
31           \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ? makeplural(rndmonnam()) : \textcolor{stringliteral}{"snakes"});
32     \textcolor{keywordflow}{else}
33         You\_hear(\textcolor{stringliteral}{"%s hissing!"}, \hyperlink{decl_8h_aa5c50bde0d16d15a08d32d8df49a80ae}{something});
34     \textcolor{keywordflow}{while}(num-- > 0)
35         \textcolor{keywordflow}{if}((mtmp = makemon(&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[PM\_WATER\_MOCCASIN],
36             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{hack_8h_ae449582f467baa0da531a6ea116a18f2}{NO\_MM\_FLAGS})) && t\_at(mtmp->\hyperlink{structmonst_a9bc20171e986845daccff8aafd8b5194}{mx}, mtmp->
      \hyperlink{structmonst_a0b969d9b6af5b55393f6acfe508c6f08}{my}))
37         (void) mintrap(mtmp);
38     \} \textcolor{keywordflow}{else}
39     pline\_The(\textcolor{stringliteral}{"fountain bubbles furiously for a moment, then calms."});
40 \}
\end{DoxyCode}
\hypertarget{fountain_8c_a916bffbab99be2acb2c78e2880ce5a07}{\index{fountain.\+c@{fountain.\+c}!drinkfountain@{drinkfountain}}
\index{drinkfountain@{drinkfountain}!fountain.\+c@{fountain.\+c}}
\subsubsection[{drinkfountain}]{\setlength{\rightskip}{0pt plus 5cm}void drinkfountain (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a916bffbab99be2acb2c78e2880ce5a07}


Definition at line 195 of file fountain.\+c.



References A\+\_\+\+C\+O\+N, A\+\_\+\+M\+A\+X, A\+\_\+\+W\+I\+S, A\+B\+A\+S\+E, A\+M\+A\+X, Blind, flag\+::botl, D\+E\+A\+D\+M\+O\+N\+S\+T\+E\+R, display\+\_\+nhwindow, dofindgem(), dogushforth(), dowaterdemon(), dowaternymph(), dowatersnakes(), dryup(), F\+A\+L\+S\+E, flags, floating\+\_\+above(), fmon, F\+O\+U\+N\+T\+A\+I\+N\+\_\+\+I\+S\+\_\+\+L\+O\+O\+T\+E\+D, F\+R\+O\+M\+O\+U\+T\+S\+I\+D\+E, H\+See\+\_\+invisible, invent, Invisible, K\+I\+L\+L\+E\+D\+\_\+\+B\+Y, K\+I\+L\+L\+E\+D\+\_\+\+B\+Y\+\_\+\+A\+N, Levitation, levl, monster\+\_\+detect(), newsym(), monst\+::nmon, obj\+::nobj, Poison\+\_\+resistance, rn1, T\+R\+U\+E, u, you\+::uhunger, you\+::uluck, you\+::ux, you\+::uy, and W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E.


\begin{DoxyCode}
196 \{
197     \textcolor{comment}{/* What happens when you drink from a fountain? */}
198     \textcolor{keyword}{register} \textcolor{keywordtype}{boolean} mgkftn = (\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].blessedftn == 1);
199     \textcolor{keyword}{register} \textcolor{keywordtype}{int} fate = rnd(30);
200 
201     \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a3dbdc08291ccd1d6de010d72e4b180fb}{Levitation}) \{
202         \hyperlink{fountain_8c_a3e9f8883cf01a0c007d7f0de3febd20e}{floating\_above}(\textcolor{stringliteral}{"fountain"});
203         \textcolor{keywordflow}{return};
204     \}
205 
206     \textcolor{keywordflow}{if} (mgkftn && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} >= 0 && fate >= 10) \{
207         \textcolor{keywordtype}{int} i, ii, littleluck = (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 4);
208 
209         pline(\textcolor{stringliteral}{"Wow!  This makes you feel great!"});
210         \textcolor{comment}{/* blessed restore ability */}
211         \textcolor{keywordflow}{for} (ii = 0; ii < \hyperlink{attrib_8h_a8f8289cfc29e0bb2a2626262bfeedf21}{A\_MAX}; ii++)
212             \textcolor{keywordflow}{if} (\hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(ii) < \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(ii)) \{
213             \hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(ii) = \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(ii);
214             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
215             \}
216         \textcolor{comment}{/* gain ability, blessed if "natural" luck is high */}
217         i = rn2(A\_MAX);     \textcolor{comment}{/* start at a random attribute */}
218         \textcolor{keywordflow}{for} (ii = 0; ii < \hyperlink{attrib_8h_a8f8289cfc29e0bb2a2626262bfeedf21}{A\_MAX}; ii++) \{
219             \textcolor{keywordflow}{if} (adjattrib(i, 1, littleluck ? -1 : 0) && littleluck)
220             \textcolor{keywordflow}{break};
221             \textcolor{keywordflow}{if} (++i >= A\_MAX) i = 0;
222         \}
223         \hyperlink{winprocs_8h_ac8e74d03fbb65b9f5651e63d79bebc60}{display\_nhwindow}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
224         pline(\textcolor{stringliteral}{"A wisp of vapor escapes the fountain..."});
225         exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
226         \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].blessedftn = 0;
227         \textcolor{keywordflow}{return};
228     \}
229 
230     \textcolor{keywordflow}{if} (fate < 10) \{
231         pline\_The(\textcolor{stringliteral}{"cool draught refreshes you."});
232         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a66fb9624339df35ac2f9f08fdccde6c9}{uhunger} += rnd(10); \textcolor{comment}{/* don't choke on water */}
233         newuhs(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
234         \textcolor{keywordflow}{if}(mgkftn) \textcolor{keywordflow}{return};
235     \} \textcolor{keywordflow}{else} \{
236         \textcolor{keywordflow}{switch} (fate) \{
237 
238         \textcolor{keywordflow}{case} 19: \textcolor{comment}{/* Self-knowledge */}
239 
240             You\_feel(\textcolor{stringliteral}{"self-knowledgeable..."});
241             \hyperlink{winprocs_8h_ac8e74d03fbb65b9f5651e63d79bebc60}{display\_nhwindow}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
242             enlightenment(0);
243             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
244             pline\_The(\textcolor{stringliteral}{"feeling subsides."});
245             \textcolor{keywordflow}{break};
246 
247         \textcolor{keywordflow}{case} 20: \textcolor{comment}{/* Foul water */}
248 
249             pline\_The(\textcolor{stringliteral}{"water is foul!  You gag and vomit."});
250             morehungry(\hyperlink{hack_8h_af107ca092682647f298989038020f9c8}{rn1}(20, 11));
251             vomit();
252             \textcolor{keywordflow}{break};
253 
254         \textcolor{keywordflow}{case} 21: \textcolor{comment}{/* Poisonous */}
255 
256             pline\_The(\textcolor{stringliteral}{"water is contaminated!"});
257             \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a234b31b7e1eb0c71ea67cdaca939c730}{Poison\_resistance}) \{
258                pline(
259                   \textcolor{stringliteral}{"Perhaps it is runoff from the nearby %s farm."},
260                  fruitname(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}));
261                losehp(rnd(4),\textcolor{stringliteral}{"unrefrigerated sip of juice"},
262                 \hyperlink{decl_8h_af4e54910b730baa32b2dfbe4dd2942c1}{KILLED\_BY\_AN});
263                \textcolor{keywordflow}{break};
264             \}
265             losestr(\hyperlink{hack_8h_af107ca092682647f298989038020f9c8}{rn1}(4,3));
266             losehp(rnd(10),\textcolor{stringliteral}{"contaminated water"}, \hyperlink{decl_8h_a0b77d6f094070ee1d9900156357f6f62}{KILLED\_BY});
267             exercise(\hyperlink{attrib_8h_a82a29f9d3d2390f61fc68b2a352b5da3}{A\_CON}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
268             \textcolor{keywordflow}{break};
269 
270         \textcolor{keywordflow}{case} 22: \textcolor{comment}{/* Fountain of snakes! */}
271 
272             \hyperlink{fountain_8c_a8949d295ed87e5c12f674ecd5400aaad}{dowatersnakes}();
273             \textcolor{keywordflow}{break};
274 
275         \textcolor{keywordflow}{case} 23: \textcolor{comment}{/* Water demon */}
276             \hyperlink{fountain_8c_ab7be178fb559972fc3c0f14a8e01601d}{dowaterdemon}();
277             \textcolor{keywordflow}{break};
278 
279         \textcolor{keywordflow}{case} 24: \textcolor{comment}{/* Curse an item */} \{
280             \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{structobj}{obj};
281 
282             pline(\textcolor{stringliteral}{"This water's no good!"});
283             morehungry(\hyperlink{hack_8h_af107ca092682647f298989038020f9c8}{rn1}(20, 11));
284             exercise(\hyperlink{attrib_8h_a82a29f9d3d2390f61fc68b2a352b5da3}{A\_CON}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
285             \textcolor{keywordflow}{for}(obj = \hyperlink{decl_8h_a65d03deeacf265a14fa3af961820b33f}{invent}; obj ; obj = obj->\hyperlink{structobj_ad1c5d790528ee1d8349ef302994789d8}{nobj})
286                 \textcolor{keywordflow}{if} (!rn2(5))    curse(obj);
287             \textcolor{keywordflow}{break};
288             \}
289 
290         \textcolor{keywordflow}{case} 25: \textcolor{comment}{/* See invisible */}
291 
292             \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind}) \{
293                 \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a3a091215989ce11abb81f94308b01b6d}{Invisible}) \{
294                 You(\textcolor{stringliteral}{"feel transparent."});
295                 \} \textcolor{keywordflow}{else} \{
296                     You(\textcolor{stringliteral}{"feel very self-conscious."});
297                     pline(\textcolor{stringliteral}{"Then it passes."});
298                 \}
299             \} \textcolor{keywordflow}{else} \{
300                You(\textcolor{stringliteral}{"see an image of someone stalking you."});
301                pline(\textcolor{stringliteral}{"But it disappears."});
302             \}
303             \hyperlink{youprop_8h_ac915b788238a9c9cff86a6fd8c18e952}{HSee\_invisible} |= \hyperlink{prop_8h_a60f99f5b0a818807c38aa14da2d7a6d1}{FROMOUTSIDE};
304             \hyperlink{display_8c_a185c6ad6e4c5a6be26a371b9aa17c32e}{newsym}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
305             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
306             \textcolor{keywordflow}{break};
307 
308         \textcolor{keywordflow}{case} 26: \textcolor{comment}{/* See Monsters */}
309 
310             (void) \hyperlink{detect_8c_a24bcd3e85852ee1ee1088447f7273755}{monster\_detect}((\textcolor{keyword}{struct} obj *)0, 0);
311             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
312             \textcolor{keywordflow}{break};
313 
314         \textcolor{keywordflow}{case} 27: \textcolor{comment}{/* Find a gem in the sparkling waters. */}
315 
316             \textcolor{keywordflow}{if} (!\hyperlink{rm_8h_ab3c88a774daeac84b7c73892a21496b2}{FOUNTAIN\_IS\_LOOTED}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy})) \{
317                 \hyperlink{fountain_8c_ae5302d7cd5581ba1c26eb1d1050e46b3}{dofindgem}();
318                 \textcolor{keywordflow}{break};
319             \}
320 
321         \textcolor{keywordflow}{case} 28: \textcolor{comment}{/* Water Nymph */}
322 
323             \hyperlink{fountain_8c_a2e5d8a652d34b5845baedc6273a025f5}{dowaternymph}();
324             \textcolor{keywordflow}{break};
325 
326         \textcolor{keywordflow}{case} 29: \textcolor{comment}{/* Scare */} \{
327             \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp;
328 
329             pline(\textcolor{stringliteral}{"This water gives you bad breath!"});
330             \textcolor{keywordflow}{for}(mtmp = \hyperlink{rm_8h_a9b7eba07f916406d6d62f5f82d273e40}{fmon}; mtmp; mtmp = mtmp->\hyperlink{structmonst_a4c4bcdcf3c4ec4a85313ade9f9c27b72}{nmon})
331                 \textcolor{keywordflow}{if}(!\hyperlink{monst_8h_a87ebcb12436dc12747fed36e83561249}{DEADMONSTER}(mtmp))
332                 monflee(mtmp, 0, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
333             \}
334             \textcolor{keywordflow}{break};
335 
336         \textcolor{keywordflow}{case} 30: \textcolor{comment}{/* Gushing forth in this room */}
337 
338             \hyperlink{fountain_8c_a5bc383bfecee10022f1ebf514645523e}{dogushforth}(\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
339             \textcolor{keywordflow}{break};
340 
341         \textcolor{keywordflow}{default}:
342 
343             pline(\textcolor{stringliteral}{"This tepid water is tasteless."});
344             \textcolor{keywordflow}{break};
345         \}
346     \}
347     \hyperlink{fountain_8c_a74a1cb51a838306797546abd6ffde74c}{dryup}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
348 \}
\end{DoxyCode}
\hypertarget{fountain_8c_a74a1cb51a838306797546abd6ffde74c}{\index{fountain.\+c@{fountain.\+c}!dryup@{dryup}}
\index{dryup@{dryup}!fountain.\+c@{fountain.\+c}}
\subsubsection[{dryup}]{\setlength{\rightskip}{0pt plus 5cm}void dryup (
\begin{DoxyParamCaption}
\item[{{\bf xchar}}]{x, }
\item[{{\bf xchar}}]{y, }
\item[{{\bf boolean}}]{isyou}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a74a1cb51a838306797546abd6ffde74c}


Definition at line 149 of file fountain.\+c.



References cansee, couldsee, monst\+::data, D\+E\+A\+D\+M\+O\+N\+S\+T\+E\+R, F\+A\+L\+S\+E, dlevel\+\_\+t\+::flags, fmon, F\+O\+U\+N\+T\+A\+I\+N\+\_\+\+I\+S\+\_\+\+W\+A\+R\+N\+E\+D, I\+S\+\_\+\+F\+O\+U\+N\+T\+A\+I\+N, level, levl, mons, monst\+::mx, monst\+::my, newsym(), levelflags\+::nfountains, monst\+::nmon, R\+O\+O\+M, S\+E\+T\+\_\+\+F\+O\+U\+N\+T\+A\+I\+N\+\_\+\+W\+A\+R\+N\+E\+D, wizard, and yn.



Referenced by dipfountain(), and drinkfountain().


\begin{DoxyCode}
152 \{
153     \textcolor{keywordflow}{if} (\hyperlink{rm_8h_a1aefc98edf94ce50323577f944dca10e}{IS\_FOUNTAIN}(\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[x][y].typ) &&
154         (!rn2(3) || \hyperlink{rm_8h_aa3856f826f815cd7090556bae71e6ef4}{FOUNTAIN\_IS\_WARNED}(x,y))) \{
155         \textcolor{keywordflow}{if}(isyou && in\_town(x, y) && !\hyperlink{rm_8h_aa3856f826f815cd7090556bae71e6ef4}{FOUNTAIN\_IS\_WARNED}(x,y)) \{
156             \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp;
157             \hyperlink{rm_8h_a84066a93d181977e3677254e2f037256}{SET\_FOUNTAIN\_WARNED}(x,y);
158             \textcolor{comment}{/* Warn about future fountain use. */}
159             \textcolor{keywordflow}{for}(mtmp = \hyperlink{rm_8h_a9b7eba07f916406d6d62f5f82d273e40}{fmon}; mtmp; mtmp = mtmp->\hyperlink{structmonst_a4c4bcdcf3c4ec4a85313ade9f9c27b72}{nmon}) \{
160                 \textcolor{keywordflow}{if} (\hyperlink{monst_8h_a87ebcb12436dc12747fed36e83561249}{DEADMONSTER}(mtmp)) \textcolor{keywordflow}{continue};
161                 \textcolor{keywordflow}{if} ((mtmp->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data} == &\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[PM\_WATCHMAN] ||
162                 mtmp->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data} == &\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[PM\_WATCH\_CAPTAIN]) &&
163                    \hyperlink{vision_8h_abe44ac4ddfdaed9498f4b1a9afc10ebd}{couldsee}(mtmp->\hyperlink{structmonst_a9bc20171e986845daccff8aafd8b5194}{mx}, mtmp->\hyperlink{structmonst_a0b969d9b6af5b55393f6acfe508c6f08}{my}) &&
164                    mtmp->mpeaceful) \{
165                 pline(\textcolor{stringliteral}{"%s yells:"}, Amonnam(mtmp));
166                 verbalize(\textcolor{stringliteral}{"Hey, stop using that fountain!"});
167                 \textcolor{keywordflow}{break};
168                 \}
169             \}
170             \textcolor{comment}{/* You can see or hear this effect */}
171             \textcolor{keywordflow}{if}(!mtmp) pline\_The(\textcolor{stringliteral}{"flow reduces to a trickle."});
172             \textcolor{keywordflow}{return};
173         \}
174 \textcolor{preprocessor}{#ifdef WIZARD}
175         \textcolor{keywordflow}{if} (isyou && \hyperlink{flag_8h_a5f48dc2f029e22c05489fb20a491db4b}{wizard}) \{
176             \textcolor{keywordflow}{if} (\hyperlink{hack_8h_a22ffd7fa35549db318337a497c38a1ae}{yn}(\textcolor{stringliteral}{"Dry up fountain?"}) == \textcolor{charliteral}{'n'})
177                 \textcolor{keywordflow}{return};
178         \}
179 \textcolor{preprocessor}{#endif}
180         \textcolor{comment}{/* replace the fountain with ordinary floor */}
181         \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[x][y].typ = \hyperlink{rm_8h_ae635489e987ae17a3bf884376cc2fe34}{ROOM};
182         \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[x][y].looted = 0;
183         \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[x][y].blessedftn = 0;
184         \textcolor{keywordflow}{if} (\hyperlink{vision_8h_a857efc720262bc13a9e4b4bcbb079b5c}{cansee}(x,y)) pline\_The(\textcolor{stringliteral}{"fountain dries up!"});
185         \textcolor{comment}{/* The location is seen if the hero/monster is invisible */}
186         \textcolor{comment}{/* or felt if the hero is blind.             */}
187         \hyperlink{display_8c_a185c6ad6e4c5a6be26a371b9aa17c32e}{newsym}(x, y);
188         \hyperlink{rm_8h_a721c99bfa099c4225215ba102e91fa39}{level}.\hyperlink{structdlevel__t_ad52c01d015e2456cdae3300848115916}{flags}.\hyperlink{structlevelflags_a7f3dc00cbb7517b44e77ef3156d05521}{nfountains}--;
189         \textcolor{keywordflow}{if}(isyou && in\_town(x, y))
190             (void) angry\_guards(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
191     \}
192 \}
\end{DoxyCode}
\hypertarget{fountain_8c_a4a5f3236626483a589f7e22ea2781be4}{\index{fountain.\+c@{fountain.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!fountain.\+c@{fountain.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf gush}}]{, }
\item[{(int, int, {\bf genericptr\+\_\+t})}]{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a4a5f3236626483a589f7e22ea2781be4}
\hypertarget{fountain_8c_a3e9f8883cf01a0c007d7f0de3febd20e}{\index{fountain.\+c@{fountain.\+c}!floating\+\_\+above@{floating\+\_\+above}}
\index{floating\+\_\+above@{floating\+\_\+above}!fountain.\+c@{fountain.\+c}}
\subsubsection[{floating\+\_\+above}]{\setlength{\rightskip}{0pt plus 5cm}void floating\+\_\+above (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{what}
\end{DoxyParamCaption}
) const}}\label{fountain_8c_a3e9f8883cf01a0c007d7f0de3febd20e}


Definition at line 16 of file fountain.\+c.



Referenced by dipfountain(), and drinkfountain().


\begin{DoxyCode}
18 \{
19     You(\textcolor{stringliteral}{"are floating high above the %s."}, \hyperlink{detect_8c_a951a98f1e2d69ca61adcd53c0f8faca3}{what});
20 \}
\end{DoxyCode}
\hypertarget{fountain_8c_a88258773f7cd89f706671e1904c00ad6}{\index{fountain.\+c@{fountain.\+c}!gush@{gush}}
\index{gush@{gush}!fountain.\+c@{fountain.\+c}}
\subsubsection[{gush}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} void gush (
\begin{DoxyParamCaption}
\item[{int}]{x, }
\item[{int}]{y, }
\item[{{\bf genericptr\+\_\+t}}]{poolcnt}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a88258773f7cd89f706671e1904c00ad6}


Definition at line 105 of file fountain.\+c.



References F\+A\+L\+S\+E, level, levl, m\+\_\+at, newsym(), dlevel\+\_\+t\+::objects, P\+O\+O\+L, R\+O\+O\+M, T\+R\+U\+E, u, you\+::ux, you\+::uy, trap\+::x, and trap\+::y.



Referenced by dogushforth().


\begin{DoxyCode}
108 \{
109     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp;
110     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structtrap}{trap} *ttmp;
111 
112     \textcolor{keywordflow}{if} (((\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}+\hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y})%2) || (\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x} == \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux} && \hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y} == \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}) ||
113         (rn2(1 + distmin(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}, \hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y})))  ||
114         (\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}][\hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y}].typ != \hyperlink{rm_8h_ae635489e987ae17a3bf884376cc2fe34}{ROOM}) ||
115         (sobj\_at(BOULDER, \hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}, \hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y})) || nexttodoor(\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}, \hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y}))
116         \textcolor{keywordflow}{return};
117 
118     \textcolor{keywordflow}{if} ((ttmp = t\_at(\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}, \hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y})) != 0 && !delfloortrap(ttmp))
119         \textcolor{keywordflow}{return};
120 
121     \textcolor{keywordflow}{if} (!((*(\textcolor{keywordtype}{int} *)poolcnt)++))
122         pline(\textcolor{stringliteral}{"Water gushes forth from the overflowing fountain!"});
123 
124     \textcolor{comment}{/* Put a pool at x, y */}
125     \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}][\hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y}].typ = \hyperlink{rm_8h_abf0d5c9a865c02bf5cc94e5d5755997c}{POOL};
126     \textcolor{comment}{/* No kelp! */}
127     del\_engr\_at(\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}, \hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y});
128     water\_damage(\hyperlink{rm_8h_a721c99bfa099c4225215ba102e91fa39}{level}.\hyperlink{structdlevel__t_ac128f805d01d7746b499596dd3b92a53}{objects}[\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}][\hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y}], \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
129 
130     \textcolor{keywordflow}{if} ((mtmp = \hyperlink{rm_8h_a4d8dddf3df3fad65478980d2c8cbf53c}{m\_at}(\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x}, \hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y})) != 0)
131         (void) minliquid(mtmp);
132     \textcolor{keywordflow}{else}
133         \hyperlink{display_8c_a185c6ad6e4c5a6be26a371b9aa17c32e}{newsym}(\hyperlink{structtrap_aed25254cf556e3eae09dd98576d98d45}{x},\hyperlink{structtrap_a3c7f72724bfcd0c4acb2a05ee75064df}{y});
134 \}
\end{DoxyCode}
\hypertarget{fountain_8c_ac3d631e0c7178b90d3ae0ecdb0e8fade}{\index{fountain.\+c@{fountain.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!fountain.\+c@{fountain.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf dowatersnakes}}]{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_ac3d631e0c7178b90d3ae0ecdb0e8fade}
\hypertarget{fountain_8c_a31c5922a867597b30d87f82ffa70e610}{\index{fountain.\+c@{fountain.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!fountain.\+c@{fountain.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf dowaterdemon}}]{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a31c5922a867597b30d87f82ffa70e610}
\hypertarget{fountain_8c_ab9b723b95c7dd2884faba6806787063c}{\index{fountain.\+c@{fountain.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!fountain.\+c@{fountain.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf dowaternymph}}]{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_ab9b723b95c7dd2884faba6806787063c}
\hypertarget{fountain_8c_a4ed4900a8872cba9f5be8463510bb901}{\index{fountain.\+c@{fountain.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!fountain.\+c@{fountain.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf dofindgem}}]{}
\end{DoxyParamCaption}
)}}\label{fountain_8c_a4ed4900a8872cba9f5be8463510bb901}
