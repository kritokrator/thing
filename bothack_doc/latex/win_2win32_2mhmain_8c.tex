\hypertarget{win_2win32_2mhmain_8c}{\section{nethack/win/win32/mhmain.c File Reference}
\label{win_2win32_2mhmain_8c}\index{nethack/win/win32/mhmain.\+c@{nethack/win/win32/mhmain.\+c}}
}
{\ttfamily \#include \char`\"{}win\+M\+S.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}patchlevel.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}resource.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmsg.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhinput.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmain.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmenu.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhstatus.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmsgwnd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmap.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmswin__nethack__main__window}{mswin\+\_\+nethack\+\_\+main\+\_\+window}
\item 
struct \hyperlink{structt__menu2mapmode}{t\+\_\+menu2mapmode}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{S\+T\+A\+T\+E\+O\+N}(x)~((Get\+Key\+State(x) \& 0x\+F\+F\+F\+E) != 0)
\item 
\#define \hyperlink{win_2win32_2mhmain_8c_ada07eeb20e82b8e339eac363078ee9e1}{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R}(x)~((iflags.\+num\+\_\+pad ? \hyperlink{win_2win32_2mhmain_8c_a86f0ea2b713bbcceb744e6163f54f07e}{numpad} \+: \hyperlink{win_2win32_2mhmain_8c_ac413d600dbe43b9ad35c2d8ec2023aa8}{keypad})\mbox{[}x\mbox{]}\mbox{[}0\mbox{]})
\item 
\#define \hyperlink{win_2win32_2mhmain_8c_a3f6ec54b20f6ba484019fb8ccd202e45}{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T}(x)~((iflags.\+num\+\_\+pad ? \hyperlink{win_2win32_2mhmain_8c_a86f0ea2b713bbcceb744e6163f54f07e}{numpad} \+: \hyperlink{win_2win32_2mhmain_8c_ac413d600dbe43b9ad35c2d8ec2023aa8}{keypad})\mbox{[}x\mbox{]}\mbox{[}1\mbox{]})
\item 
\#define \hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{K\+E\+Y\+T\+A\+B\+L\+E}(x)~(\hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{S\+T\+A\+T\+E\+O\+N}(V\+K\+\_\+\+S\+H\+I\+F\+T) ? \hyperlink{win_2win32_2mhmain_8c_a3f6ec54b20f6ba484019fb8ccd202e45}{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T}(x) \+: \hyperlink{win_2win32_2mhmain_8c_ada07eeb20e82b8e339eac363078ee9e1}{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R}(x))
\item 
\#define \hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N}(mode)
\item 
\#define \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I}(mode)~((mode)!=\hyperlink{winprocs_8h_a4e5a5df8a98a429b268f73636dbce5ab}{M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S} \&\& (mode)!=\hyperlink{winprocs_8h_aa30c90d80b3ba942295337a9dc1f9c1e}{M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N})
\item 
\#define \hyperlink{win_2win32_2mhmain_8c_a12b912304be99d77d3ced491de6a894a}{S\+C\+A\+N\+L\+O}~0x02
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \\*
\hyperlink{structmswin__nethack__main__window}{mswin\+\_\+nethack\+\_\+main\+\_\+window} \hyperlink{win_2win32_2mhmain_8c_acbd92e20c7455740993208f1415f1daf}{N\+H\+Main\+Window}
\item 
typedef struct \\*
\hyperlink{structmswin__nethack__main__window}{mswin\+\_\+nethack\+\_\+main\+\_\+window} $\ast$ \hyperlink{win_2win32_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}{P\+N\+H\+Main\+Window}
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85}{K\+E\+Y\+\_\+\+I\+N\+D\+E\+X\+E\+S} \{ \\*
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}{K\+E\+Y\+\_\+\+N\+W}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}{K\+E\+Y\+\_\+\+N}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}{K\+E\+Y\+\_\+\+N\+E}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}, 
\\*
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}{K\+E\+Y\+\_\+\+W}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}{K\+E\+Y\+\_\+\+E}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}{K\+E\+Y\+\_\+\+P\+L\+U\+S}, 
\\*
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}{K\+E\+Y\+\_\+\+S\+W}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}{K\+E\+Y\+\_\+\+S}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}{K\+E\+Y\+\_\+\+S\+E}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}{K\+E\+Y\+\_\+\+I\+N\+V}, 
\\*
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}, 
\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}{K\+E\+Y\+\_\+\+L\+A\+S\+T}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}{K\+E\+Y\+\_\+\+N\+W}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}{K\+E\+Y\+\_\+\+N}, 
\\*
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}{K\+E\+Y\+\_\+\+N\+E}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}{K\+E\+Y\+\_\+\+W}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}, 
\\*
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}{K\+E\+Y\+\_\+\+E}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}{K\+E\+Y\+\_\+\+P\+L\+U\+S}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}{K\+E\+Y\+\_\+\+S\+W}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}{K\+E\+Y\+\_\+\+S}, 
\\*
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}{K\+E\+Y\+\_\+\+S\+E}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}{K\+E\+Y\+\_\+\+I\+N\+V}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}, 
\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}{K\+E\+Y\+\_\+\+L\+A\+S\+T}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{win_2win32_2mhmain_8c_aa8dac0e3fd8f58d00bd35922c3a8e22f}{mswin\+\_\+display\+\_\+splash\+\_\+window} (B\+O\+O\+L)
\item 
L\+R\+E\+S\+U\+L\+T C\+A\+L\+L\+B\+A\+C\+K \hyperlink{win_2win32_2mhmain_8c_ad47c6125b2d6b8a79fc223151a134374}{Main\+Wnd\+Proc} (H\+W\+N\+D, \hyperlink{def__os2_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+N\+T}, W\+P\+A\+R\+A\+M, L\+P\+A\+R\+A\+M)
\item 
L\+R\+E\+S\+U\+L\+T C\+A\+L\+L\+B\+A\+C\+K \hyperlink{win_2win32_2mhmain_8c_aee70230094fee9e66472d36c7a394eb9}{About} (H\+W\+N\+D, \hyperlink{def__os2_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+N\+T}, W\+P\+A\+R\+A\+M, L\+P\+A\+R\+A\+M)
\item 
static L\+R\+E\+S\+U\+L\+T \hyperlink{win_2win32_2mhmain_8c_a47cc120b59e6a2e15d36f899dc27e7ef}{on\+W\+M\+Command} (H\+W\+N\+D h\+Wnd, W\+P\+A\+R\+A\+M w\+Param, L\+P\+A\+R\+A\+M l\+Param)
\item 
static void \hyperlink{win_2win32_2mhmain_8c_ab1f0aceef05a1dec643246c7cbf5353c}{on\+M\+S\+N\+H\+Command} (H\+W\+N\+D h\+Wnd, W\+P\+A\+R\+A\+M w\+Param, L\+P\+A\+R\+A\+M l\+Param)
\item 
static void \hyperlink{win_2win32_2mhmain_8c_a9ab5db93efdb5960c0f5ada184783123}{register\+\_\+main\+\_\+window\+\_\+class} (void)
\item 
static int \hyperlink{win_2win32_2mhmain_8c_aa90e5e171a7a48a3b70238f66266d48b}{menuid2mapmode} (int menuid)
\item 
static int \hyperlink{win_2win32_2mhmain_8c_aa6cf3a08d2d7d27ecea1da33853c3981}{mapmode2menuid} (int map\+\_\+mode)
\item 
H\+W\+N\+D \hyperlink{win_2win32_2mhmain_8c_af914e5694d808942cfff9fc0d3fbe44d}{mswin\+\_\+init\+\_\+main\+\_\+window} ()
\item 
void \hyperlink{win_2win32_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\+\_\+layout\+\_\+main\+\_\+window} (H\+W\+N\+D changed\+\_\+child)
\item 
void \hyperlink{win_2win32_2mhmain_8c_ad6c64e328f57f06fcf1376b40e676bf3}{mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode} ()
\item 
void \hyperlink{win_2win32_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\+\_\+select\+\_\+map\+\_\+mode} (int mode)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static T\+C\+H\+A\+R \hyperlink{win_2win32_2mhmain_8c_a7ca9b3ace892ddc7646eb64d69b562df}{sz\+Main\+Window\+Class} \mbox{[}$\,$\mbox{]} = T\+E\+X\+T(\char`\"{}M\+S\+N\+H\+Main\+Wnd\+Class\char`\"{})
\item 
static T\+C\+H\+A\+R \hyperlink{win_2win32_2mhmain_8c_a0255997040d96a52f933b0c0d4bd8e01}{sz\+Title} \mbox{[}\hyperlink{win_2win32_2winMS_8h_a2b68559d692760680c326428841254d1}{M\+A\+X\+\_\+\+L\+O\+A\+D\+S\+T\+R\+I\+N\+G}\mbox{]}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} unsigned char \hyperlink{win_2win32_2mhmain_8c_ac413d600dbe43b9ad35c2d8ec2023aa8}{keypad} \mbox{[}\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}{K\+E\+Y\+\_\+\+L\+A\+S\+T}\mbox{]}\mbox{[}3\mbox{]}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} unsigned char \hyperlink{win_2win32_2mhmain_8c_a86f0ea2b713bbcceb744e6163f54f07e}{numpad} \mbox{[}\hyperlink{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}{K\+E\+Y\+\_\+\+L\+A\+S\+T}\mbox{]}\mbox{[}3\mbox{]}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{win_2win32_2mhmain_8c_a4792b79f0c18a4fa992b56a11f8effda}{extendedlist} = \char`\"{}acdefijlmnopqrstuvw?2\char`\"{}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char \hyperlink{win_2win32_2mhmain_8c_a1cd30cdd299f7e004657c44e103777b2}{scanmap} \mbox{[}$\,$\mbox{]}
\item 
static struct \hyperlink{structt__menu2mapmode}{t\+\_\+menu2mapmode} \hyperlink{win_2win32_2mhmain_8c_a326f2e6939feb673f0664319d66e02dd}{\+\_\+menu2mapmode} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I@{I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I}}
\index{I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I@{I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I(
\begin{DoxyParamCaption}
\item[{}]{mode}
\end{DoxyParamCaption}
)~((mode)!={\bf M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S} \&\& (mode)!={\bf M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N})}}\label{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}


Definition at line 159 of file mhmain.\+c.



Referenced by Main\+Wnd\+Proc(), mswin\+\_\+select\+\_\+map\+\_\+mode(), and on\+W\+M\+Command().

\hypertarget{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N@{I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N}}
\index{I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N@{I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N(
\begin{DoxyParamCaption}
\item[{}]{mode}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}
{\bfseries Value\+:}
\begin{DoxyCode}
((mode)==\hyperlink{winprocs_8h_af4e337dbae61232212774e90a30d6506}{MAP\_MODE\_ASCII\_FIT\_TO\_SCREEN} || \(\backslash\)
                              (mode)==\hyperlink{winprocs_8h_aa30c90d80b3ba942295337a9dc1f9c1e}{MAP\_MODE\_TILES\_FIT\_TO\_SCREEN} )
\end{DoxyCode}


Definition at line 156 of file mhmain.\+c.



Referenced by Main\+Wnd\+Proc(), mswin\+\_\+select\+\_\+map\+\_\+mode(), and on\+W\+M\+Command().

\hypertarget{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+T\+A\+B\+L\+E@{K\+E\+Y\+T\+A\+B\+L\+E}}
\index{K\+E\+Y\+T\+A\+B\+L\+E@{K\+E\+Y\+T\+A\+B\+L\+E}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{K\+E\+Y\+T\+A\+B\+L\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\+E\+Y\+T\+A\+B\+L\+E(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~({\bf S\+T\+A\+T\+E\+O\+N}(V\+K\+\_\+\+S\+H\+I\+F\+T) ? {\bf K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T}(x) \+: {\bf K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R}(x))}}\label{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}


Definition at line 153 of file mhmain.\+c.



Referenced by Main\+Wnd\+Proc().

\hypertarget{win_2win32_2mhmain_8c_ada07eeb20e82b8e339eac363078ee9e1}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R@{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R}}
\index{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R@{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+R\+E\+G\+U\+L\+A\+R(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((iflags.\+num\+\_\+pad ? {\bf numpad} \+: {\bf keypad})\mbox{[}x\mbox{]}\mbox{[}0\mbox{]})}}\label{win_2win32_2mhmain_8c_ada07eeb20e82b8e339eac363078ee9e1}


Definition at line 151 of file mhmain.\+c.

\hypertarget{win_2win32_2mhmain_8c_a3f6ec54b20f6ba484019fb8ccd202e45}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T@{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T}}
\index{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T@{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define K\+E\+Y\+T\+A\+B\+L\+E\+\_\+\+S\+H\+I\+F\+T(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((iflags.\+num\+\_\+pad ? {\bf numpad} \+: {\bf keypad})\mbox{[}x\mbox{]}\mbox{[}1\mbox{]})}}\label{win_2win32_2mhmain_8c_a3f6ec54b20f6ba484019fb8ccd202e45}


Definition at line 152 of file mhmain.\+c.

\hypertarget{win_2win32_2mhmain_8c_a12b912304be99d77d3ced491de6a894a}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!S\+C\+A\+N\+L\+O@{S\+C\+A\+N\+L\+O}}
\index{S\+C\+A\+N\+L\+O@{S\+C\+A\+N\+L\+O}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{S\+C\+A\+N\+L\+O}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+C\+A\+N\+L\+O~0x02}}\label{win_2win32_2mhmain_8c_a12b912304be99d77d3ced491de6a894a}


Definition at line 163 of file mhmain.\+c.



Referenced by Main\+Wnd\+Proc().

\hypertarget{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!S\+T\+A\+T\+E\+O\+N@{S\+T\+A\+T\+E\+O\+N}}
\index{S\+T\+A\+T\+E\+O\+N@{S\+T\+A\+T\+E\+O\+N}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{S\+T\+A\+T\+E\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+A\+T\+E\+O\+N(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((Get\+Key\+State(x) \& 0x\+F\+F\+F\+E) != 0)}}\label{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}


Definition at line 150 of file mhmain.\+c.



Referenced by Main\+Wnd\+Proc().



\subsection{Typedef Documentation}
\hypertarget{win_2win32_2mhmain_8c_acbd92e20c7455740993208f1415f1daf}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!N\+H\+Main\+Window@{N\+H\+Main\+Window}}
\index{N\+H\+Main\+Window@{N\+H\+Main\+Window}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{N\+H\+Main\+Window}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf mswin\+\_\+nethack\+\_\+main\+\_\+window}  {\bf N\+H\+Main\+Window}}}\label{win_2win32_2mhmain_8c_acbd92e20c7455740993208f1415f1daf}
\hypertarget{win_2win32_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!P\+N\+H\+Main\+Window@{P\+N\+H\+Main\+Window}}
\index{P\+N\+H\+Main\+Window@{P\+N\+H\+Main\+Window}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{P\+N\+H\+Main\+Window}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf mswin\+\_\+nethack\+\_\+main\+\_\+window} $\ast$ {\bf P\+N\+H\+Main\+Window}}}\label{win_2win32_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}


\subsection{Enumeration Type Documentation}
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+I\+N\+D\+E\+X\+E\+S@{K\+E\+Y\+\_\+\+I\+N\+D\+E\+X\+E\+S}}
\index{K\+E\+Y\+\_\+\+I\+N\+D\+E\+X\+E\+S@{K\+E\+Y\+\_\+\+I\+N\+D\+E\+X\+E\+S}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{K\+E\+Y\+\_\+\+I\+N\+D\+E\+X\+E\+S}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf K\+E\+Y\+\_\+\+I\+N\+D\+E\+X\+E\+S}}}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85}
\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{K\+E\+Y\+\_\+\+N\+W@{K\+E\+Y\+\_\+\+N\+W}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+N\+W@{K\+E\+Y\+\_\+\+N\+W}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}{K\+E\+Y\+\_\+\+N\+W}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}
}]\index{K\+E\+Y\+\_\+\+N@{K\+E\+Y\+\_\+\+N}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+N@{K\+E\+Y\+\_\+\+N}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}{K\+E\+Y\+\_\+\+N}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}
}]\index{K\+E\+Y\+\_\+\+N\+E@{K\+E\+Y\+\_\+\+N\+E}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+N\+E@{K\+E\+Y\+\_\+\+N\+E}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}{K\+E\+Y\+\_\+\+N\+E}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}
}]\index{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S@{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+M\+I\+N\+U\+S@{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}
}]\index{K\+E\+Y\+\_\+\+W@{K\+E\+Y\+\_\+\+W}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+W@{K\+E\+Y\+\_\+\+W}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}{K\+E\+Y\+\_\+\+W}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}
}]\index{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G@{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G@{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}
}]\index{K\+E\+Y\+\_\+\+E@{K\+E\+Y\+\_\+\+E}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+E@{K\+E\+Y\+\_\+\+E}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}{K\+E\+Y\+\_\+\+E}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}
}]\index{K\+E\+Y\+\_\+\+P\+L\+U\+S@{K\+E\+Y\+\_\+\+P\+L\+U\+S}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+P\+L\+U\+S@{K\+E\+Y\+\_\+\+P\+L\+U\+S}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}{K\+E\+Y\+\_\+\+P\+L\+U\+S}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}
}]\index{K\+E\+Y\+\_\+\+S\+W@{K\+E\+Y\+\_\+\+S\+W}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+S\+W@{K\+E\+Y\+\_\+\+S\+W}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}{K\+E\+Y\+\_\+\+S\+W}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}
}]\index{K\+E\+Y\+\_\+\+S@{K\+E\+Y\+\_\+\+S}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+S@{K\+E\+Y\+\_\+\+S}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}{K\+E\+Y\+\_\+\+S}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}
}]\index{K\+E\+Y\+\_\+\+S\+E@{K\+E\+Y\+\_\+\+S\+E}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+S\+E@{K\+E\+Y\+\_\+\+S\+E}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}{K\+E\+Y\+\_\+\+S\+E}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}
}]\index{K\+E\+Y\+\_\+\+I\+N\+V@{K\+E\+Y\+\_\+\+I\+N\+V}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+I\+N\+V@{K\+E\+Y\+\_\+\+I\+N\+V}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}{K\+E\+Y\+\_\+\+I\+N\+V}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}
}]\index{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K@{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K@{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}
}]\index{K\+E\+Y\+\_\+\+L\+A\+S\+T@{K\+E\+Y\+\_\+\+L\+A\+S\+T}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+L\+A\+S\+T@{K\+E\+Y\+\_\+\+L\+A\+S\+T}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}{K\+E\+Y\+\_\+\+L\+A\+S\+T}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}
}]\index{K\+E\+Y\+\_\+\+N\+W@{K\+E\+Y\+\_\+\+N\+W}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+N\+W@{K\+E\+Y\+\_\+\+N\+W}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}{K\+E\+Y\+\_\+\+N\+W}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}
}]\index{K\+E\+Y\+\_\+\+N@{K\+E\+Y\+\_\+\+N}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+N@{K\+E\+Y\+\_\+\+N}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}{K\+E\+Y\+\_\+\+N}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}
}]\index{K\+E\+Y\+\_\+\+N\+E@{K\+E\+Y\+\_\+\+N\+E}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+N\+E@{K\+E\+Y\+\_\+\+N\+E}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}{K\+E\+Y\+\_\+\+N\+E}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}
}]\index{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S@{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+M\+I\+N\+U\+S@{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}{K\+E\+Y\+\_\+\+M\+I\+N\+U\+S}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}
}]\index{K\+E\+Y\+\_\+\+W@{K\+E\+Y\+\_\+\+W}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+W@{K\+E\+Y\+\_\+\+W}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}{K\+E\+Y\+\_\+\+W}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}
}]\index{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G@{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G@{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}{K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}
}]\index{K\+E\+Y\+\_\+\+E@{K\+E\+Y\+\_\+\+E}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+E@{K\+E\+Y\+\_\+\+E}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}{K\+E\+Y\+\_\+\+E}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}
}]\index{K\+E\+Y\+\_\+\+P\+L\+U\+S@{K\+E\+Y\+\_\+\+P\+L\+U\+S}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+P\+L\+U\+S@{K\+E\+Y\+\_\+\+P\+L\+U\+S}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}{K\+E\+Y\+\_\+\+P\+L\+U\+S}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}
}]\index{K\+E\+Y\+\_\+\+S\+W@{K\+E\+Y\+\_\+\+S\+W}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+S\+W@{K\+E\+Y\+\_\+\+S\+W}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}{K\+E\+Y\+\_\+\+S\+W}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}
}]\index{K\+E\+Y\+\_\+\+S@{K\+E\+Y\+\_\+\+S}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+S@{K\+E\+Y\+\_\+\+S}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}{K\+E\+Y\+\_\+\+S}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}
}]\index{K\+E\+Y\+\_\+\+S\+E@{K\+E\+Y\+\_\+\+S\+E}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+S\+E@{K\+E\+Y\+\_\+\+S\+E}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}{K\+E\+Y\+\_\+\+S\+E}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}
}]\index{K\+E\+Y\+\_\+\+I\+N\+V@{K\+E\+Y\+\_\+\+I\+N\+V}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+I\+N\+V@{K\+E\+Y\+\_\+\+I\+N\+V}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}{K\+E\+Y\+\_\+\+I\+N\+V}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}
}]\index{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K@{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K@{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}{K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}
}]\index{K\+E\+Y\+\_\+\+L\+A\+S\+T@{K\+E\+Y\+\_\+\+L\+A\+S\+T}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!K\+E\+Y\+\_\+\+L\+A\+S\+T@{K\+E\+Y\+\_\+\+L\+A\+S\+T}}\item[{\em 
\hypertarget{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}{K\+E\+Y\+\_\+\+L\+A\+S\+T}\label{win_2win32_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}
}]\end{description}
\end{Desc}


Definition at line 110 of file mhmain.\+c.


\begin{DoxyCode}
110                  \{
111 \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}{KEY\_NW}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}{KEY\_N}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}{KEY\_NE}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}{KEY\_MINUS},
112 \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}{KEY\_W}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}{KEY\_GOINTERESTING}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}{KEY\_E}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}{KEY\_PLUS},
113 \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}{KEY\_SW}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}{KEY\_S}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}{KEY\_SE},
114 \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}{KEY\_INV}, \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}{KEY\_WAITLOOK},
115 \hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a8ed126a57a9fbfb8a1123ed079720915}{KEY\_LAST}\};
\end{DoxyCode}


\subsection{Function Documentation}
\hypertarget{win_2win32_2mhmain_8c_aee70230094fee9e66472d36c7a394eb9}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!About@{About}}
\index{About@{About}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{About}]{\setlength{\rightskip}{0pt plus 5cm}L\+R\+E\+S\+U\+L\+T C\+A\+L\+L\+B\+A\+C\+K About (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{h\+Dlg, }
\item[{{\bf U\+I\+N\+T}}]{message, }
\item[{W\+P\+A\+R\+A\+M}]{w\+Param, }
\item[{L\+P\+A\+R\+A\+M}]{l\+Param}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_aee70230094fee9e66472d36c7a394eb9}


Definition at line 815 of file mhmain.\+c.



References buf, B\+U\+F\+S\+Z, C\+O\+P\+Y\+R\+I\+G\+H\+T\+\_\+\+B\+A\+N\+N\+E\+R\+\_\+\+A, C\+O\+P\+Y\+R\+I\+G\+H\+T\+\_\+\+B\+A\+N\+N\+E\+R\+\_\+\+B, C\+O\+P\+Y\+R\+I\+G\+H\+T\+\_\+\+B\+A\+N\+N\+E\+R\+\_\+\+C, F\+A\+L\+S\+E, Get\+N\+H\+App(), getversionstring(), I\+D\+C\+\_\+\+A\+B\+O\+U\+T\+\_\+\+C\+O\+P\+Y\+R\+I\+G\+H\+T, I\+D\+C\+\_\+\+A\+B\+O\+U\+T\+\_\+\+V\+E\+R\+S\+I\+O\+N, N\+H\+\_\+\+A2\+W, S\+I\+Z\+E, and T\+R\+U\+E.


\begin{DoxyCode}
816 \{
817     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
818     TCHAR wbuf[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
819     RECT   main\_rt, dlg\_rt;
820     \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}   dlg\_sz;
821 
822     \textcolor{keywordflow}{switch} (message)
823     \{
824         \textcolor{keywordflow}{case} WM\_INITDIALOG:
825                 \hyperlink{version_8c_a431d9e78249b81eccfcaf792ebe5ff9b}{getversionstring}(buf);
826                 SetDlgItemText(hDlg, \hyperlink{sys_2wince_2resource_8h_ab418ec83dad02d62961cdc7c0fae9b40}{IDC\_ABOUT\_VERSION}, \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}(buf, wbuf, \textcolor{keyword}{sizeof}(
      wbuf)));
827 
828                 SetDlgItemText(hDlg, \hyperlink{sys_2wince_2resource_8h_a93e89c72dd0fe5d9f106a0907b977db0}{IDC\_ABOUT\_COPYRIGHT},
829                             \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}(
830                                 \hyperlink{patchlevel_8h_a31bf6260dfee590f28735d5a27134912}{COPYRIGHT\_BANNER\_A} \textcolor{stringliteral}{"\(\backslash\)n"}
831                                 \hyperlink{patchlevel_8h_a991809ab96e6f409bbf21d0d6e81d633}{COPYRIGHT\_BANNER\_B} \textcolor{stringliteral}{"\(\backslash\)n"}
832                                 \hyperlink{patchlevel_8h_a4eb1b20c11643715355dbf210025037f}{COPYRIGHT\_BANNER\_C},
833                                 wbuf,
834                                 \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}
835                             ) );
836                                   
837 
838                 \textcolor{comment}{/* center dialog in the main window */}
839                 GetWindowRect(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, &main\_rt);
840                 GetWindowRect(hDlg, &dlg\_rt);
841                 dlg\_sz.cx = dlg\_rt.right - dlg\_rt.left;
842                 dlg\_sz.cy = dlg\_rt.bottom - dlg\_rt.top;
843 
844                 dlg\_rt.left = (main\_rt.left+main\_rt.right-dlg\_sz.cx)/2;
845                 dlg\_rt.right = dlg\_rt.left + dlg\_sz.cx;
846                 dlg\_rt.top = (main\_rt.top+main\_rt.bottom-dlg\_sz.cy)/2;
847                 dlg\_rt.bottom = dlg\_rt.top + dlg\_sz.cy;
848                 MoveWindow( hDlg,
849                             (main\_rt.left+main\_rt.right-dlg\_sz.cx)/2,
850                             (main\_rt.top+main\_rt.bottom-dlg\_sz.cy)/2,
851                             dlg\_sz.cx,
852                             dlg\_sz.cy,
853                             \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} );
854 
855                 \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
856 
857         \textcolor{keywordflow}{case} WM\_COMMAND:
858             \textcolor{keywordflow}{if} (LOWORD(wParam) == IDOK || LOWORD(wParam) == IDCANCEL) 
859             \{
860                 EndDialog(hDlg, LOWORD(wParam));
861                 \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
862             \}
863             \textcolor{keywordflow}{break};
864     \}
865     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
866 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_ad47c6125b2d6b8a79fc223151a134374}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!Main\+Wnd\+Proc@{Main\+Wnd\+Proc}}
\index{Main\+Wnd\+Proc@{Main\+Wnd\+Proc}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{Main\+Wnd\+Proc}]{\setlength{\rightskip}{0pt plus 5cm}L\+R\+E\+S\+U\+L\+T C\+A\+L\+L\+B\+A\+C\+K Main\+Wnd\+Proc (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{h\+Wnd, }
\item[{{\bf U\+I\+N\+T}}]{message, }
\item[{W\+P\+A\+R\+A\+M}]{w\+Param, }
\item[{L\+P\+A\+R\+A\+M}]{l\+Param}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_ad47c6125b2d6b8a79fc223151a134374}


Definition at line 176 of file mhmain.\+c.



References bail(), C\+O\+L\+N\+O, done, dosave(), exit(), extendedlist, free(), sinfo\+::gameover, Get\+N\+H\+App(), mswin\+\_\+nhwindow\+\_\+app\+::h\+Main\+Wnd, iflags, index(), I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I, I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, K\+E\+Y\+\_\+\+E, K\+E\+Y\+\_\+\+G\+O\+I\+N\+T\+E\+R\+E\+S\+T\+I\+N\+G, K\+E\+Y\+\_\+\+I\+N\+V, K\+E\+Y\+\_\+\+M\+I\+N\+U\+S, K\+E\+Y\+\_\+\+N, K\+E\+Y\+\_\+\+N\+E, K\+E\+Y\+\_\+\+N\+W, K\+E\+Y\+\_\+\+P\+L\+U\+S, K\+E\+Y\+\_\+\+S, K\+E\+Y\+\_\+\+S\+E, K\+E\+Y\+\_\+\+S\+W, K\+E\+Y\+\_\+\+W, K\+E\+Y\+\_\+\+W\+A\+I\+T\+L\+O\+O\+K, K\+E\+Y\+T\+A\+B\+L\+E, M, malloc(), M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+A\+S\+C\+I\+I12x16, M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+A\+S\+C\+I\+I\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S, M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, mswin\+\_\+nethack\+\_\+main\+\_\+window\+::map\+Acsii\+Mode\+Save, mswin\+\_\+hwnd\+\_\+from\+\_\+winid(), mswin\+\_\+layout\+\_\+main\+\_\+window(), mswin\+\_\+select\+\_\+map\+\_\+mode(), N\+H\+E\+V\+E\+N\+T\+\_\+\+K\+B\+D, N\+H\+Message\+Box(), N\+U\+L\+L, on\+M\+S\+N\+H\+Command(), on\+W\+M\+Command(), panic(), program\+\_\+state, Q\+U\+I\+T, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Bottom, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Left, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Max\+X, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Max\+Y, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Min\+X, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Min\+Y, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Right, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Show\+State, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Top, R\+O\+W\+N\+O, S\+C\+A\+N\+L\+O, scanmap, S\+I\+Z\+E, sinfo\+::something\+\_\+worth\+\_\+saving, S\+T\+A\+T\+E\+O\+N, sinfo\+::stopprint, instance\+\_\+flags\+::wc\+\_\+map\+\_\+mode, W\+I\+N\+\_\+\+M\+A\+P, and W\+M\+\_\+\+M\+S\+N\+H\+\_\+\+C\+O\+M\+M\+A\+N\+D.


\begin{DoxyCode}
177 \{
178     \hyperlink{structmswin__nethack__main__window}{PNHMainWindow} data;
179 
180     \textcolor{keywordflow}{switch} (message) 
181     \{
182         \textcolor{keywordflow}{case} WM\_CREATE:
183             \textcolor{comment}{/* set window data */}
184             data = (\hyperlink{sys_2wince_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}{PNHMainWindow})\hyperlink{winproto_8h_ab028c02ac00afc0c1d3c568ccad68869}{malloc}(\textcolor{keyword}{sizeof}(\hyperlink{structmswin__nethack__main__window}{NHMainWindow}));
185             \textcolor{keywordflow}{if}( !data ) \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"out of memory"});
186             ZeroMemory(data, \textcolor{keyword}{sizeof}(\hyperlink{structmswin__nethack__main__window}{NHMainWindow}));
187             data->\hyperlink{structmswin__nethack__main__window_a2befc52d80c6b5673ce6846b24d2c266}{mapAcsiiModeSave} = \hyperlink{winprocs_8h_ae0d763de7f5d48bd0b4f7c3fda36eebb}{MAP\_MODE\_ASCII12x16};
188             SetWindowLong(hWnd, GWL\_USERDATA, (LONG)data);
189 
190             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ada318d77e9dd51678af5d9a3ce6ef03a}{hMainWnd} = hWnd;
191         \textcolor{keywordflow}{break};
192 
193         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}:
194             \hyperlink{win_2win32_2mhmain_8c_ab1f0aceef05a1dec643246c7cbf5353c}{onMSNHCommand}(hWnd, wParam, lParam);
195         \textcolor{keywordflow}{break};
196 
197         \textcolor{keywordflow}{case} WM\_KEYDOWN: 
198         \{
199             data = (\hyperlink{sys_2wince_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}{PNHMainWindow})GetWindowLong(hWnd, GWL\_USERDATA);
200 
201             \textcolor{comment}{/* translate arrow keys into nethack commands */}
202             \textcolor{keywordflow}{switch} (wParam) 
203             \{ 
204             \textcolor{keywordflow}{case} VK\_LEFT:
205                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
206                     \textcolor{comment}{/* scroll map window one line left */}
207                     SendMessage(
208                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
209                         WM\_HSCROLL,
210                         MAKEWPARAM(SB\_LINEUP, 0),
211                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
212                     );
213                 \} \textcolor{keywordflow}{else} \{
214                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2e6a652ccd7afc5ce75ac4d902b6a60a}{KEY\_W}));
215                 \}
216             \textcolor{keywordflow}{return} 0;
217 
218             \textcolor{keywordflow}{case} VK\_RIGHT:
219                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
220                     \textcolor{comment}{/* scroll map window one line right */}
221                     SendMessage(
222                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
223                         WM\_HSCROLL,
224                         MAKEWPARAM(SB\_LINEDOWN, 0),
225                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
226                     );
227                 \} \textcolor{keywordflow}{else} \{
228                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a2af9840d90c49239339bfd42f9f32868}{KEY\_E}));
229                 \}
230             \textcolor{keywordflow}{return} 0;
231 
232             \textcolor{keywordflow}{case} VK\_UP:
233                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
234                     \textcolor{comment}{/* scroll map window one line up */}
235                     SendMessage(
236                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
237                         WM\_VSCROLL,
238                         MAKEWPARAM(SB\_LINEUP, 0),
239                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
240                     );
241                 \} \textcolor{keywordflow}{else} \{
242                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa606b8c6deaec8077387975d195cd824}{KEY\_N}));
243                 \}
244             \textcolor{keywordflow}{return} 0;
245 
246             \textcolor{keywordflow}{case} VK\_DOWN:
247                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
248                     \textcolor{comment}{/* scroll map window one line down */}
249                     SendMessage(
250                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
251                         WM\_VSCROLL,
252                         MAKEWPARAM(SB\_LINEDOWN, 0),
253                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
254                     );
255                 \} \textcolor{keywordflow}{else} \{
256                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85abb2f0ce8efc3067757dbf091437f89f5}{KEY\_S}));
257                 \}
258             \textcolor{keywordflow}{return} 0;
259 
260             \textcolor{keywordflow}{case} VK\_HOME:
261                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
262                     \textcolor{comment}{/* scroll map window to upper left corner */}
263                     SendMessage(
264                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
265                         WM\_VSCROLL,
266                         MAKEWPARAM(SB\_THUMBTRACK, 0),
267                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
268                     );
269 
270                     SendMessage(
271                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
272                         WM\_HSCROLL,
273                         MAKEWPARAM(SB\_THUMBTRACK, 0),
274                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
275                     );
276                 \} \textcolor{keywordflow}{else} \{
277                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a25b5a68ebe2ffe0c05c9a1f20a8e08fd}{KEY\_NW}));
278                 \}
279             \textcolor{keywordflow}{return} 0;
280 
281             \textcolor{keywordflow}{case} VK\_END:
282                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
283                     \textcolor{comment}{/* scroll map window to lower right corner */}
284                     SendMessage(
285                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
286                         WM\_VSCROLL,
287                         MAKEWPARAM(SB\_THUMBTRACK, \hyperlink{global_8h_a9cce134868d97b23c35bcf1ff4a343d8}{ROWNO}),
288                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
289                     );
290 
291                     SendMessage(
292                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
293                         WM\_HSCROLL,
294                         MAKEWPARAM(SB\_THUMBTRACK, \hyperlink{global_8h_a308dbfcc29f5a427c0315f3cbf03c3ed}{COLNO}),
295                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
296                     );
297                 \} \textcolor{keywordflow}{else} \{
298                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a07f1ef6155a2ec4758b917ff9e343c9e}{KEY\_SW}));
299                 \}
300             \textcolor{keywordflow}{return} 0;
301 
302             \textcolor{keywordflow}{case} VK\_PRIOR:
303                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
304                     \textcolor{comment}{/* scroll map window one page up */}
305                     SendMessage(
306                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
307                         WM\_VSCROLL,
308                         MAKEWPARAM(SB\_PAGEUP, 0),
309                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
310                     );
311                 \} \textcolor{keywordflow}{else} \{
312                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a587bfbb46a8f8c9529760bac73f947f1}{KEY\_NE}));
313                 \}
314             \textcolor{keywordflow}{return} 0;
315 
316             \textcolor{keywordflow}{case} VK\_NEXT:
317                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a8ec9639b4c7edfc6b693c92f5dc3d09f}{STATEON}(VK\_CONTROL) ) \{
318                     \textcolor{comment}{/* scroll map window one page down */}
319                     SendMessage(
320                         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
321                         WM\_VSCROLL,
322                         MAKEWPARAM(SB\_PAGEDOWN, 0),
323                         (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
324                     );
325                 \} \textcolor{keywordflow}{else} \{
326                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ae600685f0e02dfad75032f878c122da5}{KEY\_SE}));
327                 \}
328             \textcolor{keywordflow}{return} 0;
329 
330             \textcolor{keywordflow}{case} VK\_DECIMAL:
331             \textcolor{keywordflow}{case} VK\_DELETE:
332                 \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85aa562f213d1f84fe40d16e3281b86c556}{KEY\_WAITLOOK}));
333             \textcolor{keywordflow}{return} 0;
334 
335             \textcolor{keywordflow}{case} VK\_INSERT:
336                 \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85ad014e20a25a4ee8d753436eb72e632af}{KEY\_INV}));
337             \textcolor{keywordflow}{return} 0;
338 
339             \textcolor{keywordflow}{case} VK\_SUBTRACT:
340                 \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a5f8f8f15bcfc7a3e745d4b5e0008832c}{KEY\_MINUS}));
341             \textcolor{keywordflow}{return} 0;
342 
343             \textcolor{keywordflow}{case} VK\_ADD:
344                 \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a1de0dcc184ca51ef6112a4d14b9f1022}{KEY\_PLUS}));
345             \textcolor{keywordflow}{return} 0;
346 
347             \textcolor{keywordflow}{case} VK\_CLEAR: \textcolor{comment}{/* This is the '5' key */}
348                 \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{win_2win32_2mhmain_8c_ac4729b246a6ba5b912b56d1fc4bea329}{KEYTABLE}(\hyperlink{sys_2wince_2mhmain_8c_a4b0007d8fc63ab8f93907d370faf7e85a51793dc2be29ac0346b072ee4c8a84c3}{KEY\_GOINTERESTING}));
349             \textcolor{keywordflow}{return} 0;
350 
351             \textcolor{keywordflow}{case} VK\_F4:
352                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{IS\_MAP\_FIT\_TO\_SCREEN}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode}) ) \{
353                     \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(
354                         \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode})? 
355                             data->\hyperlink{structmswin__nethack__main__window_a2befc52d80c6b5673ce6846b24d2c266}{mapAcsiiModeSave} :
356                             \hyperlink{winprocs_8h_a4e5a5df8a98a429b268f73636dbce5ab}{MAP\_MODE\_TILES}
357                     );
358                 \} \textcolor{keywordflow}{else} \{
359                     \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(
360                         \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode})?
361                             \hyperlink{winprocs_8h_af4e337dbae61232212774e90a30d6506}{MAP\_MODE\_ASCII\_FIT\_TO\_SCREEN} :
362                             \hyperlink{winprocs_8h_aa30c90d80b3ba942295337a9dc1f9c1e}{MAP\_MODE\_TILES\_FIT\_TO\_SCREEN}
363                     );
364                 \}
365             \textcolor{keywordflow}{return} 0;
366 
367             \textcolor{keywordflow}{case} VK\_F5:
368                 \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode}) ) \{
369                     \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{IS\_MAP\_FIT\_TO\_SCREEN}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode}) ) \{
370                         \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(
      \hyperlink{winprocs_8h_aa30c90d80b3ba942295337a9dc1f9c1e}{MAP\_MODE\_TILES\_FIT\_TO\_SCREEN});
371                     \} \textcolor{keywordflow}{else} \{
372                         \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(
      \hyperlink{winprocs_8h_a4e5a5df8a98a429b268f73636dbce5ab}{MAP\_MODE\_TILES});
373                     \}
374                 \} \textcolor{keywordflow}{else} \{
375                     \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{IS\_MAP\_FIT\_TO\_SCREEN}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode}) ) \{
376                         \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(
      \hyperlink{winprocs_8h_af4e337dbae61232212774e90a30d6506}{MAP\_MODE\_ASCII\_FIT\_TO\_SCREEN});
377                     \} \textcolor{keywordflow}{else} \{
378                         \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(data->
      \hyperlink{structmswin__nethack__main__window_a2befc52d80c6b5673ce6846b24d2c266}{mapAcsiiModeSave});
379                     \}
380                 \}
381             \textcolor{keywordflow}{return} 0;
382 
383             \textcolor{keywordflow}{default}: \{
384                 WORD c;
385                 \hyperlink{def__os2_8h_a4ae1dab0fb4b072a66584546209e7d58}{BYTE} kbd\_state[256];
386 
387                 c = 0;
388                 ZeroMemory(kbd\_state, \textcolor{keyword}{sizeof}(kbd\_state));
389                 GetKeyboardState(kbd\_state);
390 
391                 \textcolor{keywordflow}{if}( ToAscii( wParam, (lParam>>16)&0xFF, kbd\_state, &c, 0) ) \{
392                     \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}( c&0xFF );
393                     \textcolor{keywordflow}{return} 0;
394                 \} \textcolor{keywordflow}{else} \{
395                     \textcolor{keywordflow}{return} 1;
396                 \}
397             \}
398 
399             \} \textcolor{comment}{/* end switch */}
400         \} \textcolor{keywordflow}{break};
401 
402         \textcolor{keywordflow}{case} WM\_SYSCHAR: \textcolor{comment}{/* Alt-char pressed */}
403         \{
404             \textcolor{comment}{/*}
405 \textcolor{comment}{              If not nethackmode, don't handle Alt-keys here.}
406 \textcolor{comment}{              If no Alt-key pressed it can never be an extended command }
407 \textcolor{comment}{            */}
408         \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->regNetHackMode && ((lParam & 1<<29) != 0))
409             \{
410                 \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} c = (\textcolor{keywordtype}{unsigned} char)(wParam & 0xFF);
411         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} scancode = (lParam >> 16) & 0xFF;
412                 \textcolor{keywordflow}{if} (\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(\hyperlink{win_2win32_2mhmain_8c_a4792b79f0c18a4fa992b56a11f8effda}{extendedlist}, tolower(c)) != 0)
413         \{
414             \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(tolower(c)));
415         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (scancode == (\hyperlink{win_2win32_2mhmain_8c_a12b912304be99d77d3ced491de6a894a}{SCANLO} + \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{win_2win32_2mhmain_8c_a1cd30cdd299f7e004657c44e103777b2}{scanmap})) - 1) \{
416             \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'?'}));
417         \}
418         \textcolor{keywordflow}{return} 0;
419             \}
420             \textcolor{keywordflow}{return} DefWindowProc(hWnd, message, wParam, lParam);
421         \} 
422         \textcolor{keywordflow}{break};
423 
424         \textcolor{keywordflow}{case} WM\_COMMAND:
425             \textcolor{comment}{/* process commands - menu commands mostly */}
426             \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a47cc120b59e6a2e15d36f899dc27e7ef}{onWMCommand}(hWnd, wParam, lParam) )
427                 \textcolor{keywordflow}{return} DefWindowProc(hWnd, message, wParam, lParam);
428             \textcolor{keywordflow}{else}
429                 \textcolor{keywordflow}{return} 0;
430 
431         \textcolor{keywordflow}{case} WM\_MOVE:
432         \textcolor{keywordflow}{case} WM\_SIZE:
433         \{
434             WINDOWPLACEMENT wp;
435 
436             \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
437             
438             wp.length = \textcolor{keyword}{sizeof}(wp);
439             \textcolor{keywordflow}{if} (GetWindowPlacement(hWnd, &wp)) \{
440                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae338ffa2fd42895c5a6800fd1ba8f5bd}{regMainShowState} = (wp.showCmd == SW\_SHOWMAXIMIZED 
441             ? SW\_SHOWMAXIMIZED : SW\_SHOWNORMAL);
442 
443                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a7a0b798261b9482e14eaacc0d4bd1fb0}{regMainMinX} = wp.ptMinPosition.x;
444                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a4d5b28c825db1c51fee77ceabbac0bad}{regMainMinY} = wp.ptMinPosition.y;
445 
446                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a39cbafd956ec42730695d92a85cc0f8e}{regMainMaxX} = wp.ptMaxPosition.x;
447                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a30fff66ef9cdfb4e7b8fd4c95ea67d8e}{regMainMaxY} = wp.ptMaxPosition.y;
448 
449                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a4ed5841c55538304dde5389e7652631a}{regMainLeft} = wp.rcNormalPosition.left;
450                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a658a499d91cb14c1da4dcb44b4bb1633}{regMainTop} = wp.rcNormalPosition.top;
451                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a9447cc1eb6b2e0586ec2b725614e277a}{regMainRight} = wp.rcNormalPosition.right;
452                 \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_aeb2d03a559d6186f46fea9f56def55d1}{regMainBottom} = wp.rcNormalPosition.bottom;
453             \}
454             \textcolor{keywordflow}{break};
455         \}
456         \textcolor{keywordflow}{case} WM\_SETFOCUS:
457             \textcolor{comment}{/* if there is a menu window out there -}
458 \textcolor{comment}{               transfer input focus to it */}
459             \textcolor{keywordflow}{if}( IsWindow( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hPopupWnd ) ) \{
460                 SetFocus( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hPopupWnd );
461             \}
462             \textcolor{keywordflow}{break};
463 
464         \textcolor{keywordflow}{case} WM\_CLOSE: 
465         \{
466             \textcolor{comment}{/* exit gracefully */}
467             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a91c51d44f2b6e70f8a5d42a5b5218dcd}{program\_state}.\hyperlink{structsinfo_ac1f9d8fcec6871fb805fe566ac8a8823}{gameover})
468             \{
469                 \textcolor{comment}{/* assume the user really meant this, as the game is already over... */}
470                 \textcolor{comment}{/* to make sure we still save bones, just set stop printing flag */}
471                 \hyperlink{decl_8h_a91c51d44f2b6e70f8a5d42a5b5218dcd}{program\_state}.\hyperlink{structsinfo_a722956debc5ac939d455ba63e60fd963}{stopprint}++;
472                 \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\textcolor{charliteral}{'\(\backslash\)033'}); \textcolor{comment}{/* and send keyboard input as if user pressed ESC */}
473                 \textcolor{comment}{/* additional code for this is done in menu and rip windows */}
474             \}
475             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\hyperlink{decl_8h_a91c51d44f2b6e70f8a5d42a5b5218dcd}{program\_state}.\hyperlink{structsinfo_ae213176cfedea7945c371048e57e2931}{something\_worth\_saving})
476             \{
477                 \textcolor{comment}{/* User exited before the game started, e.g. during splash display */}
478                 \textcolor{comment}{/* Just get out. */}
479                 \hyperlink{sys_2wince_2mswproc_8c_aa32bde5286c21c371bf075670d1a85aa}{bail}((\textcolor{keywordtype}{char} *)0);
480             \}
481             \textcolor{keywordflow}{else}
482             \{
483                 \textcolor{keywordflow}{switch} (\hyperlink{win_2win32_2mswproc_8c_ac03a5403b48c971b659d5374d984a037}{NHMessageBox}(hWnd, TEXT(\textcolor{stringliteral}{"Save?"}), MB\_YESNOCANCEL | MB\_ICONQUESTION)) \{
484                 \textcolor{keywordflow}{case} IDYES: \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\textcolor{charliteral}{'y'}); \hyperlink{save_8c_a7561be96dcd8aad740ef1e3d410bf03b}{dosave}(); \textcolor{keywordflow}{break};
485                 \textcolor{keywordflow}{case} IDNO: \hyperlink{sys_2wince_2mhinput_8h_ad452f038118c4ddd0a840d7c2288549f}{NHEVENT\_KBD}(\textcolor{charliteral}{'q'}); \hyperlink{winX_8c_a032589f4f70300762622fd253db008d0}{done}(\hyperlink{hack_8h_ad24e2b54375e12474e65ebf7175988fb}{QUIT}); \textcolor{keywordflow}{break};
486                 \textcolor{keywordflow}{case} IDCANCEL: \textcolor{keywordflow}{break};
487                 \}
488             \}
489         \} \textcolor{keywordflow}{return} 0;
490 
491         \textcolor{keywordflow}{case} WM\_DESTROY:
492             \textcolor{comment}{/* apparently we never get here }
493 \textcolor{comment}{               TODO: work on exit routines - need to send}
494 \textcolor{comment}{               WM\_QUIT somehow */}  
495 
496             \textcolor{comment}{/* clean up */}
497             \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}( (\hyperlink{structmswin__nethack__main__window}{PNHMainWindow})GetWindowLong(hWnd, GWL\_USERDATA) );
498             SetWindowLong(hWnd, GWL\_USERDATA, (LONG)0);
499 
500             \textcolor{comment}{// PostQuitMessage(0);}
501             \hyperlink{vmsmisc_8c_a358d2e2397ca11ccd17553e3c40e7901}{exit}(1); 
502             \textcolor{keywordflow}{break};
503 
504         \textcolor{keywordflow}{default}:
505             \textcolor{keywordflow}{return} DefWindowProc(hWnd, message, wParam, lParam);
506    \}
507    \textcolor{keywordflow}{return} 0;
508 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_aa6cf3a08d2d7d27ecea1da33853c3981}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!mapmode2menuid@{mapmode2menuid}}
\index{mapmode2menuid@{mapmode2menuid}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{mapmode2menuid}]{\setlength{\rightskip}{0pt plus 5cm}int mapmode2menuid (
\begin{DoxyParamCaption}
\item[{int}]{map\+\_\+mode}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_aa6cf3a08d2d7d27ecea1da33853c3981}


Definition at line 960 of file mhmain.\+c.



References \+\_\+menu2mapmode, t\+\_\+menu2mapmode\+::map\+Mode, and t\+\_\+menu2mapmode\+::menu\+I\+D.



Referenced by mswin\+\_\+select\+\_\+map\+\_\+mode().


\begin{DoxyCode}
961 \{
962     \textcolor{keyword}{struct }\hyperlink{structt__menu2mapmode}{t\_menu2mapmode}* p;
963     \textcolor{keywordflow}{for}( p = \hyperlink{win_2win32_2mhmain_8c_a326f2e6939feb673f0664319d66e02dd}{\_menu2mapmode}; p->\hyperlink{structt__menu2mapmode_a3bd2d37d8c12e35febd72cd0f82a71b4}{mapMode}!=-1; p++ ) 
964         \textcolor{keywordflow}{if}(p->\hyperlink{structt__menu2mapmode_a3bd2d37d8c12e35febd72cd0f82a71b4}{mapMode}==map\_mode ) \textcolor{keywordflow}{return} p->\hyperlink{structt__menu2mapmode_a0472bb82bd0d987fafda9d596ab4e8a8}{menuID};
965     \textcolor{keywordflow}{return} -1;
966 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_aa90e5e171a7a48a3b70238f66266d48b}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!menuid2mapmode@{menuid2mapmode}}
\index{menuid2mapmode@{menuid2mapmode}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{menuid2mapmode}]{\setlength{\rightskip}{0pt plus 5cm}int menuid2mapmode (
\begin{DoxyParamCaption}
\item[{int}]{menuid}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_aa90e5e171a7a48a3b70238f66266d48b}


Definition at line 952 of file mhmain.\+c.



References \+\_\+menu2mapmode, t\+\_\+menu2mapmode\+::map\+Mode, and t\+\_\+menu2mapmode\+::menu\+I\+D.



Referenced by on\+W\+M\+Command().


\begin{DoxyCode}
953 \{
954     \textcolor{keyword}{struct }\hyperlink{structt__menu2mapmode}{t\_menu2mapmode}* p;
955     \textcolor{keywordflow}{for}( p = \hyperlink{win_2win32_2mhmain_8c_a326f2e6939feb673f0664319d66e02dd}{\_menu2mapmode}; p->\hyperlink{structt__menu2mapmode_a3bd2d37d8c12e35febd72cd0f82a71b4}{mapMode}!=-1; p++ ) 
956         \textcolor{keywordflow}{if}(p->\hyperlink{structt__menu2mapmode_a0472bb82bd0d987fafda9d596ab4e8a8}{menuID}==menuid ) \textcolor{keywordflow}{return} p->\hyperlink{structt__menu2mapmode_a3bd2d37d8c12e35febd72cd0f82a71b4}{mapMode};
957     \textcolor{keywordflow}{return} -1;
958 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_aa8dac0e3fd8f58d00bd35922c3a8e22f}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!mswin\+\_\+display\+\_\+splash\+\_\+window@{mswin\+\_\+display\+\_\+splash\+\_\+window}}
\index{mswin\+\_\+display\+\_\+splash\+\_\+window@{mswin\+\_\+display\+\_\+splash\+\_\+window}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{mswin\+\_\+display\+\_\+splash\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+display\+\_\+splash\+\_\+window (
\begin{DoxyParamCaption}
\item[{B\+O\+O\+L}]{}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_aa8dac0e3fd8f58d00bd35922c3a8e22f}


Definition at line 27 of file mhsplash.\+c.



Referenced by mswin\+\_\+init\+\_\+nhwindows(), and on\+W\+M\+Command().


\begin{DoxyCode}
28 \{
29     MSG msg;
30     HWND mapWnd;
31     \textcolor{keywordtype}{int} left, top;
32     RECT splashrt;
33     RECT clientrt;
34     RECT controlrt;
35     HWND hWnd;
36     \textcolor{keywordtype}{int} buttop;
37     \textcolor{keywordtype}{int} strsize = 0;
38     \textcolor{keywordtype}{int} bufsize = \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ};
39 
40     \textcolor{keywordtype}{char} *\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf} = \hyperlink{winproto_8h_ab028c02ac00afc0c1d3c568ccad68869}{malloc}(bufsize);
41     \textcolor{keywordflow}{if} (buf == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
42         \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"out of memory"});
43     buf[0] = \textcolor{charliteral}{'\(\backslash\)0'};
44 
45     hWnd = \hyperlink{dialogs_8c_aaf356545a4c5797e317091864c988de0}{CreateDialog}(\hyperlink{mhsplash_8c_afa11eb8c832e838349416cf3bbdd29fe}{GetNHApp}()->hApp, MAKEINTRESOURCE(
      \hyperlink{win_2win32_2resource_8h_ab710128630d3f574b291ea98049e5d64}{IDD\_SPLASH}),
46         \hyperlink{mhsplash_8c_afa11eb8c832e838349416cf3bbdd29fe}{GetNHApp}()->hMainWnd, \hyperlink{mhsplash_8c_a0372fe93797522215d9094c2b5bef07a}{NHSplashWndProc});
47     \textcolor{keywordflow}{if}( !hWnd ) \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"Cannot create Splash window"});
48     \hyperlink{win_2win32_2mhfont_8c_af183ec81747c907c779d089ba1556ad2}{mswin\_init\_splashfonts}(hWnd);
49     \hyperlink{mhsplash_8c_afa11eb8c832e838349416cf3bbdd29fe}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a92e7b581dd0fad9d1af8364e5bcfe395}{hPopupWnd} = hWnd;
50     mapWnd = \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP});
51     \textcolor{keywordflow}{if}( !IsWindow(mapWnd) ) mapWnd = \hyperlink{mhsplash_8c_afa11eb8c832e838349416cf3bbdd29fe}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ada318d77e9dd51678af5d9a3ce6ef03a}{hMainWnd};
52     \textcolor{comment}{/* Get control size */}
53     GetWindowRect (GetDlgItem(hWnd, IDOK), &controlrt);
54     controlrt.right -= controlrt.left;
55     controlrt.bottom -= controlrt.top;
56     \textcolor{comment}{/* Get current client area */}
57     GetClientRect (hWnd, &clientrt);
58     \textcolor{comment}{/* Get window size */}
59     GetWindowRect(hWnd, &splashrt);
60     splashrt.right -= splashrt.left;
61     splashrt.bottom -= splashrt.top;
62     \textcolor{comment}{/* Get difference between requested client area and current value */}
63     splashrt.right += \hyperlink{mhsplash_8c_a300803638e66cb9428c1ab04712c70a6}{SPLASH\_WIDTH} + \hyperlink{mhsplash_8c_a624203c05ab9c5f804b76ce242e263f6}{SPLASH\_OFFSET\_X} * 2 - clientrt.right;
64     splashrt.bottom += \hyperlink{mhsplash_8c_a0751a8420b717eb073eab7b05a9954dd}{SPLASH\_HEIGHT} + controlrt.bottom + 
      \hyperlink{mhsplash_8c_a1355d767efd48c02587f8da09eaac59b}{SPLASH\_OFFSET\_Y} * 3 - clientrt.bottom;
65     \textcolor{comment}{/* Place the window centered */}
66     \textcolor{comment}{/* On the screen, not on the parent window */}
67     left = (GetSystemMetrics(SM\_CXSCREEN) - splashrt.right) / 2;
68     top = (GetSystemMetrics(SM\_CYSCREEN) - splashrt.bottom) / 2;
69     MoveWindow(hWnd, left, top, splashrt.right, splashrt.bottom, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
70     \textcolor{comment}{/* Place the OK control */}
71     GetClientRect (hWnd, &clientrt);
72     MoveWindow (GetDlgItem(hWnd, IDOK),
73         (clientrt.right - clientrt.left - controlrt.right) / 2,
74         clientrt.bottom - controlrt.bottom - \hyperlink{mhsplash_8c_a1355d767efd48c02587f8da09eaac59b}{SPLASH\_OFFSET\_Y},
75         controlrt.right, controlrt.bottom, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
76     buttop = clientrt.bottom - controlrt.bottom - \hyperlink{mhsplash_8c_a1355d767efd48c02587f8da09eaac59b}{SPLASH\_OFFSET\_Y};
77     \textcolor{comment}{/* Place the text control */}
78     GetWindowRect (GetDlgItem(hWnd, \hyperlink{win_2win32_2resource_8h_a98b8cea2ce7bcdbe2f2bcd52288843a3}{IDC\_EXTRAINFO}), &controlrt);
79     controlrt.right -= controlrt.left;
80     controlrt.bottom -= controlrt.top;
81     GetClientRect (hWnd, &clientrt);
82     MoveWindow (GetDlgItem(hWnd, \hyperlink{win_2win32_2resource_8h_a98b8cea2ce7bcdbe2f2bcd52288843a3}{IDC\_EXTRAINFO}),
83         clientrt.left + \hyperlink{mhsplash_8c_a624203c05ab9c5f804b76ce242e263f6}{SPLASH\_OFFSET\_X},
84         buttop - controlrt.bottom - \hyperlink{mhsplash_8c_a1355d767efd48c02587f8da09eaac59b}{SPLASH\_OFFSET\_Y},
85         clientrt.right - 2 * \hyperlink{mhsplash_8c_a624203c05ab9c5f804b76ce242e263f6}{SPLASH\_OFFSET\_X}, controlrt.bottom, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
86     \textcolor{comment}{/* Fill the text control */}
87     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(buf, \textcolor{stringliteral}{"%s\(\backslash\)r\(\backslash\)n%s\(\backslash\)r\(\backslash\)n%s\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"}, \hyperlink{patchlevel_8h_a31bf6260dfee590f28735d5a27134912}{COPYRIGHT\_BANNER\_A}, 
      \hyperlink{patchlevel_8h_a991809ab96e6f409bbf21d0d6e81d633}{COPYRIGHT\_BANNER\_B},
88         \hyperlink{patchlevel_8h_a4eb1b20c11643715355dbf210025037f}{COPYRIGHT\_BANNER\_C});
89     strsize = strlen(buf);
90     
91     \textcolor{keywordflow}{if} (show\_ver) \{
92         \textcolor{comment}{/* Show complete version information */}
93         \hyperlink{dlb_8h_a2c91af84569791b69abdf2b4644b0ddd}{dlb} *f;
94 
95         \hyperlink{version_8c_a431d9e78249b81eccfcaf792ebe5ff9b}{getversionstring}(buf + strsize);
96         strcat(buf, \textcolor{stringliteral}{"\(\backslash\)r\(\backslash\)n\(\backslash\)r\(\backslash\)n"});
97         strsize = strlen(buf);
98 
99         \textcolor{comment}{/* Add compile options */}
100         f = \hyperlink{dlb_8h_a46a9ab27d1ae601750baeacc2c0a8d44}{dlb\_fopen}(\hyperlink{global_8h_a5c59035788bda63bfeb375f55b31b733}{OPTIONS\_USED}, \hyperlink{dlb_8h_a52b55e796a44079bc56afab59e8c0c89}{RDTMODE});
101         \textcolor{keywordflow}{if} (f) \{
102         \textcolor{keywordtype}{char} line[\hyperlink{mhsplash_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN} + 1];
103         
104         \textcolor{keywordflow}{while} (\hyperlink{dlb_8h_a0c5a17bfc873332e8ef26262d8527e91}{dlb\_fgets}(line, \hyperlink{mhsplash_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN}, f)) \{
105             \textcolor{keywordtype}{size\_t} len;
106             len = strlen(line);
107             \textcolor{keywordflow}{if} (len > 0 && line[len - 1] == \textcolor{charliteral}{'\(\backslash\)n'}) \{
108             line[len - 1] = \textcolor{charliteral}{'\(\backslash\)r'};
109             line[len] = \textcolor{charliteral}{'\(\backslash\)n'};
110             line[len + 1] = \textcolor{charliteral}{'\(\backslash\)0'};
111             len++;
112             \}
113             \textcolor{keywordflow}{if} (strsize + (\textcolor{keywordtype}{int})len + 1 > bufsize)
114             \{
115             bufsize += \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ};
116             buf = realloc(buf, bufsize);
117             \textcolor{keywordflow}{if} (buf == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
118                 \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"out of memory"});
119             \}
120             strcat(buf, line);
121             strsize += len;
122         \}
123         (void) \hyperlink{dlb_8h_a882e4d8dcdf2cd3d9eee2b94debe38e1}{dlb\_fclose}(f);
124         \}
125     \} \textcolor{keywordflow}{else} \{
126         \textcolor{comment}{/* Show news, if any */}
127         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a65a361ffd2534ddff433ba62f3dfb579}{news}) \{        
128         FILE *nf;
129         
130         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a65a361ffd2534ddff433ba62f3dfb579}{news} = 0; \textcolor{comment}{/* prevent newgame() from re-displaying news */}
131         nf = fopen(\hyperlink{config_8h_adfcdf96482b20ff90defa8fd75b84a7c}{NEWS}, \textcolor{stringliteral}{"r"});
132         \textcolor{keywordflow}{if} (nf != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
133             \textcolor{keywordtype}{char} line[\hyperlink{mhsplash_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN} + 1];
134             
135             \textcolor{keywordflow}{while} (fgets(line, \hyperlink{mhsplash_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN}, nf)) \{
136             \textcolor{keywordtype}{size\_t} len;
137             len = strlen(line);
138             \textcolor{keywordflow}{if} (len > 0 && line[len - 1] == \textcolor{charliteral}{'\(\backslash\)n'}) \{
139                 line[len - 1] = \textcolor{charliteral}{'\(\backslash\)r'};
140                 line[len] = \textcolor{charliteral}{'\(\backslash\)n'};
141                 line[len + 1] = \textcolor{charliteral}{'\(\backslash\)0'};
142                 len++;
143             \}
144             \textcolor{keywordflow}{if} (strsize + (\textcolor{keywordtype}{int})len + 1 > bufsize)
145             \{
146                 bufsize += \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ};
147                 buf = realloc(buf, bufsize);
148                 \textcolor{keywordflow}{if} (buf == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
149                 \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"out of memory"});
150             \}
151             strcat(buf, line);
152             strsize += len;
153             \}
154             (void) fclose(nf);
155         \} 
156         \textcolor{keywordflow}{else}
157         \{
158             strcat(buf, \textcolor{stringliteral}{"No news."});
159         \}
160         \}
161     \}
162     SetWindowText(GetDlgItem(hWnd, \hyperlink{win_2win32_2resource_8h_a98b8cea2ce7bcdbe2f2bcd52288843a3}{IDC\_EXTRAINFO}), buf);
163     \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}(buf);
164     ShowWindow(hWnd, SW\_SHOW);
165     
166     \textcolor{keywordflow}{while}( IsWindow(hWnd) &&
167         GetMessage(&msg, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0, 0)!=0 ) \{
168         \textcolor{keywordflow}{if}( !IsDialogMessage(hWnd, &msg) ) \{
169         TranslateMessage(&msg);
170         DispatchMessage(&msg);
171         \}
172     \}
173     
174     \hyperlink{mhsplash_8c_afa11eb8c832e838349416cf3bbdd29fe}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a92e7b581dd0fad9d1af8364e5bcfe395}{hPopupWnd} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
175     \hyperlink{win_2win32_2mhfont_8c_aedda99a174cadffcb558af5d5c29c0cd}{mswin\_destroy\_splashfonts}();
176 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_af914e5694d808942cfff9fc0d3fbe44d}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!mswin\+\_\+init\+\_\+main\+\_\+window@{mswin\+\_\+init\+\_\+main\+\_\+window}}
\index{mswin\+\_\+init\+\_\+main\+\_\+window@{mswin\+\_\+init\+\_\+main\+\_\+window}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{mswin\+\_\+init\+\_\+main\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}H\+W\+N\+D mswin\+\_\+init\+\_\+main\+\_\+window (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_af914e5694d808942cfff9fc0d3fbe44d}


Definition at line 31 of file mhmain.\+c.



References Get\+N\+H\+App(), I\+D\+S\+\_\+\+A\+P\+P\+\_\+\+T\+I\+T\+L\+E, M\+A\+X\+\_\+\+L\+O\+A\+D\+S\+T\+R\+I\+N\+G, N\+U\+L\+L, panic(), register\+\_\+main\+\_\+window\+\_\+class(), mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Bottom, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Left, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Max\+X, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Max\+Y, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Min\+X, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Min\+Y, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Right, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Show\+State, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Main\+Top, sz\+Main\+Window\+Class, and sz\+Title.


\begin{DoxyCode}
31                                \{
32     \textcolor{keyword}{static} \textcolor{keywordtype}{int} run\_once = 0;
33     HWND ret;
34     WINDOWPLACEMENT wp;
35 
36     \textcolor{comment}{/* register window class */}
37     \textcolor{keywordflow}{if}( !run\_once ) \{
38         LoadString(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hApp, \hyperlink{sys_2wince_2resource_8h_a636c9aea2a8d16b73e43df39b3e0e7bd}{IDS\_APP\_TITLE}, \hyperlink{win_2win32_2mhmain_8c_a0255997040d96a52f933b0c0d4bd8e01}{szTitle}, 
      \hyperlink{sys_2wince_2mhmain_8c_a2b68559d692760680c326428841254d1}{MAX\_LOADSTRING});
39         \hyperlink{win_2win32_2mhmain_8c_a9ab5db93efdb5960c0f5ada184783123}{register\_main\_window\_class}( );
40         run\_once = 1;
41     \}
42     
43     \textcolor{comment}{/* create the main window */}
44     ret = CreateWindow(
45             \hyperlink{sys_2wince_2mhmain_8c_a7ca9b3ace892ddc7646eb64d69b562df}{szMainWindowClass},     \textcolor{comment}{/* registered class name */}
46             \hyperlink{win_2win32_2mhmain_8c_a0255997040d96a52f933b0c0d4bd8e01}{szTitle},             \textcolor{comment}{/* window name */}
47             WS\_OVERLAPPEDWINDOW | WS\_CLIPCHILDREN, \textcolor{comment}{/* window style */}
48             CW\_USEDEFAULT,          \textcolor{comment}{/* horizontal position of window */}
49             CW\_USEDEFAULT,          \textcolor{comment}{/* vertical position of window */}
50             CW\_USEDEFAULT,          \textcolor{comment}{/* window width */}
51             CW\_USEDEFAULT,          \textcolor{comment}{/* window height */}
52             \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},                   \textcolor{comment}{/* handle to parent or owner window */}
53             \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL},                   \textcolor{comment}{/* menu handle or child identifier */}
54             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hApp,       \textcolor{comment}{/* handle to application instance */}
55             \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}                    \textcolor{comment}{/* window-creation data */}
56         );
57 
58     \textcolor{keywordflow}{if}( !ret ) \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}(\textcolor{stringliteral}{"Cannot create main window"});
59 
60     
61     \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->regMainMinX != CW\_USEDEFAULT)
62     \{
63         wp.length = \textcolor{keyword}{sizeof}(wp);
64         wp.showCmd = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae338ffa2fd42895c5a6800fd1ba8f5bd}{regMainShowState};
65 
66         wp.ptMinPosition.x = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a7a0b798261b9482e14eaacc0d4bd1fb0}{regMainMinX};
67         wp.ptMinPosition.y = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a4d5b28c825db1c51fee77ceabbac0bad}{regMainMinY};
68 
69         wp.ptMaxPosition.x = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a39cbafd956ec42730695d92a85cc0f8e}{regMainMaxX};
70         wp.ptMaxPosition.y = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a30fff66ef9cdfb4e7b8fd4c95ea67d8e}{regMainMaxY};
71 
72         wp.rcNormalPosition.left = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a4ed5841c55538304dde5389e7652631a}{regMainLeft};
73         wp.rcNormalPosition.top = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a658a499d91cb14c1da4dcb44b4bb1633}{regMainTop};
74         wp.rcNormalPosition.right = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a9447cc1eb6b2e0586ec2b725614e277a}{regMainRight};
75         wp.rcNormalPosition.bottom = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_aeb2d03a559d6186f46fea9f56def55d1}{regMainBottom};
76         SetWindowPlacement(ret, &wp);
77     \}
78     \textcolor{keywordflow}{else}
79         ShowWindow(ret, SW\_SHOWDEFAULT);
80     UpdateWindow(ret);
81 
82     \textcolor{keywordflow}{return} ret;
83 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!mswin\+\_\+layout\+\_\+main\+\_\+window@{mswin\+\_\+layout\+\_\+main\+\_\+window}}
\index{mswin\+\_\+layout\+\_\+main\+\_\+window@{mswin\+\_\+layout\+\_\+main\+\_\+window}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{mswin\+\_\+layout\+\_\+main\+\_\+window}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+layout\+\_\+main\+\_\+window (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{changed\+\_\+child}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}


Definition at line 542 of file mhmain.\+c.



References A\+L\+I\+G\+N\+\_\+\+B\+O\+T\+T\+O\+M, A\+L\+I\+G\+N\+\_\+\+L\+E\+F\+T, A\+L\+I\+G\+N\+\_\+\+R\+I\+G\+H\+T, A\+L\+I\+G\+N\+\_\+\+T\+O\+P, mswin\+\_\+nhwindow\+\_\+data\+::dead, Get\+N\+H\+App(), mswin\+\_\+nhwindow\+\_\+app\+::h\+Main\+Wnd, iflags, max, M\+A\+X\+W\+I\+N\+D\+O\+W\+S, min, mswin\+\_\+command\+\_\+window\+\_\+size(), mswin\+\_\+hwnd\+\_\+from\+\_\+winid(), mswin\+\_\+menu\+\_\+window\+\_\+size(), mswin\+\_\+message\+\_\+window\+\_\+size(), mswin\+\_\+status\+\_\+window\+\_\+size(), N\+H\+W\+\_\+\+M\+A\+P, N\+H\+W\+\_\+\+M\+E\+N\+U, N\+H\+W\+\_\+\+M\+E\+S\+S\+A\+G\+E, N\+H\+W\+\_\+\+R\+I\+P, N\+H\+W\+\_\+\+S\+T\+A\+T\+U\+S, N\+H\+W\+\_\+\+T\+E\+X\+T, N\+U\+L\+L, plname, S\+I\+Z\+E, T\+R\+U\+E, mswin\+\_\+nhwindow\+\_\+data\+::type, type, instance\+\_\+flags\+::wc\+\_\+align\+\_\+message, instance\+\_\+flags\+::wc\+\_\+align\+\_\+status, mswin\+\_\+nhwindow\+\_\+data\+::win, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, W\+I\+N\+\_\+\+S\+T\+A\+T\+U\+S, and mswin\+\_\+nhwindow\+\_\+app\+::windowlist.


\begin{DoxyCode}
543 \{
544     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} i;
545     POINT pt;
546     RECT client\_rt, wnd\_rect;
547     \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE} menu\_size;
548     POINT status\_org;
549     \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE} status\_size;
550     POINT msg\_org;
551     \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE} msg\_size;
552     POINT map\_org;
553     \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE} map\_size;
554     HWND wnd\_status, wnd\_msg;
555     \hyperlink{structmswin__nethack__main__window}{PNHMainWindow}  data;
556 
557     GetClientRect(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, &client\_rt);
558     data = (\hyperlink{sys_2wince_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}{PNHMainWindow})GetWindowLong(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->
      \hyperlink{structmswin__nhwindow__app_ada318d77e9dd51678af5d9a3ce6ef03a}{hMainWnd}, GWL\_USERDATA);
559 
560     \textcolor{comment}{/* get sizes of child windows */}
561     wnd\_status = \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_ae0690a38fd295760409995ce03b88329}{WIN\_STATUS});
562     \textcolor{keywordflow}{if}( IsWindow(wnd\_status) ) \{ 
563         \hyperlink{sys_2wince_2mhstatus_8c_afe3299b041f27146f5608077f0dcf5f2}{mswin\_status\_window\_size}(wnd\_status, &status\_size);
564     \} \textcolor{keywordflow}{else} \{
565         status\_size.cx = status\_size.cy = 0;
566     \}
567 
568     wnd\_msg = \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE});
569     \textcolor{keywordflow}{if}( IsWindow(wnd\_msg) ) \{ 
570         \hyperlink{sys_2wince_2mhmsgwnd_8c_a83f12dae73f3dbddc7af82b4cc3f90bf}{mswin\_message\_window\_size}(wnd\_msg, &msg\_size);
571     \} \textcolor{keywordflow}{else} \{
572         msg\_size.cx = msg\_size.cy = 0;
573     \}
574 
575     \textcolor{comment}{/* set window positions */}
576     SetRect(&wnd\_rect, client\_rt.left, client\_rt.top, client\_rt.right, client\_rt.bottom);
577     \textcolor{keywordflow}{switch}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a59e71b710998b8e0a611d775cee0dded}{wc\_align\_status}) \{
578     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_a666975a1345df39683a0a65b81466b20}{ALIGN\_LEFT}:
579         status\_size.cx = (wnd\_rect.right-wnd\_rect.left)/4;
580         status\_size.cy = (wnd\_rect.bottom-wnd\_rect.top); \textcolor{comment}{// that won't look good}
581         status\_org.x = wnd\_rect.left;
582         status\_org.y = wnd\_rect.top;
583         wnd\_rect.left += status\_size.cx;
584         \textcolor{keywordflow}{break};
585 
586     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_a9a7eca07c41cee4267778375e95c8c89}{ALIGN\_RIGHT}:  
587         status\_size.cx = (wnd\_rect.right-wnd\_rect.left)/4; 
588         status\_size.cy = (wnd\_rect.bottom-wnd\_rect.top); \textcolor{comment}{// that won't look good}
589         status\_org.x = wnd\_rect.right - status\_size.cx;
590         status\_org.y = wnd\_rect.top;
591         wnd\_rect.right -= status\_size.cx;
592         \textcolor{keywordflow}{break};
593 
594     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_a22259b290850e32bb66006d1e215aff1}{ALIGN\_TOP}:    
595         status\_size.cx = (wnd\_rect.right-wnd\_rect.left);
596         status\_org.x = wnd\_rect.left;
597         status\_org.y = wnd\_rect.top;
598         wnd\_rect.top += status\_size.cy;
599         \textcolor{keywordflow}{break};
600 
601     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_ab546a081cc65499710bf3e8165a1477b}{ALIGN\_BOTTOM}:
602     \textcolor{keywordflow}{default}:
603         status\_size.cx = (wnd\_rect.right-wnd\_rect.left);
604         status\_org.x = wnd\_rect.left;
605         status\_org.y = wnd\_rect.bottom - status\_size.cy;
606         wnd\_rect.bottom -= status\_size.cy;
607         \textcolor{keywordflow}{break};
608     \}
609 
610     \textcolor{keywordflow}{switch}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a1072207cf89377c1bf7a1891be5f66da}{wc\_align\_message}) \{
611     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_a666975a1345df39683a0a65b81466b20}{ALIGN\_LEFT}:
612         msg\_size.cx = (wnd\_rect.right-wnd\_rect.left)/4;
613         msg\_size.cy = (wnd\_rect.bottom-wnd\_rect.top); 
614         msg\_org.x = wnd\_rect.left;
615         msg\_org.y = wnd\_rect.top;
616         wnd\_rect.left += msg\_size.cx;
617         \textcolor{keywordflow}{break};
618 
619     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_a9a7eca07c41cee4267778375e95c8c89}{ALIGN\_RIGHT}:  
620         msg\_size.cx = (wnd\_rect.right-wnd\_rect.left)/4; 
621         msg\_size.cy = (wnd\_rect.bottom-wnd\_rect.top); 
622         msg\_org.x = wnd\_rect.right - msg\_size.cx;
623         msg\_org.y = wnd\_rect.top;
624         wnd\_rect.right -= msg\_size.cx;
625         \textcolor{keywordflow}{break};
626 
627     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_a22259b290850e32bb66006d1e215aff1}{ALIGN\_TOP}:    
628         msg\_size.cx = (wnd\_rect.right-wnd\_rect.left);
629         msg\_org.x = wnd\_rect.left;
630         msg\_org.y = wnd\_rect.top;
631         wnd\_rect.top += msg\_size.cy;
632         \textcolor{keywordflow}{break};
633 
634     \textcolor{keywordflow}{case} \hyperlink{winprocs_8h_ab546a081cc65499710bf3e8165a1477b}{ALIGN\_BOTTOM}:
635     \textcolor{keywordflow}{default}:
636         msg\_size.cx = (wnd\_rect.right-wnd\_rect.left);
637         msg\_org.x = wnd\_rect.left;
638         msg\_org.y = wnd\_rect.bottom - msg\_size.cy;
639         wnd\_rect.bottom -= msg\_size.cy;
640         \textcolor{keywordflow}{break};
641     \}
642 
643     map\_org.x = wnd\_rect.left;
644     map\_org.y = wnd\_rect.top;
645     map\_size.cx = wnd\_rect.right - wnd\_rect.left;
646     map\_size.cy = wnd\_rect.bottom - wnd\_rect.top;
647 
648     \textcolor{comment}{/* go through the windows list and adjust sizes */}
649     \textcolor{keywordflow}{for}( i=0; i<\hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}; i++ ) \{
650         \textcolor{keywordflow}{if}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} && !\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->
      \hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead}) \{
651             \textcolor{keywordflow}{switch}( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} ) \{
652             \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}:
653                 MoveWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win, 
654                            status\_org.x,
655                            status\_org.y,
656                            status\_size.cx, 
657                            status\_size.cy, 
658                            \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} );
659                 \textcolor{keywordflow}{break};
660 
661             \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}: \textcolor{comment}{// same as the map window}
662             \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP}:
663                 MoveWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win, 
664                            map\_org.x, 
665                            map\_org.y,
666                            map\_size.cx, 
667                            map\_size.cy, 
668                            \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} );
669                 \textcolor{keywordflow}{break};
670 
671             \textcolor{keywordflow}{case} \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}:
672                 MoveWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win, 
673                            msg\_org.x, 
674                            msg\_org.y,
675                            msg\_size.cx, 
676                            msg\_size.cy, 
677                            \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} );
678                 \textcolor{keywordflow}{break};
679 
680             \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}:
681                 \hyperlink{sys_2wince_2mhmenu_8c_a522c5050d80d7397e9f59b00c47e13f0}{mswin\_menu\_window\_size}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win, &
      menu\_size);
682                 menu\_size.cx = \hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min}(menu\_size.cx, (client\_rt.right-client\_rt.left));
683 
684                 pt.x = map\_org.x + \hyperlink{hack_8h_affe776513b24d84b39af8ab0930fef7f}{max}(0, (\textcolor{keywordtype}{int})(map\_size.cx-menu\_size.cx));
685                 pt.y = map\_org.y;
686                 MoveWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win, 
687                            pt.x, 
688                            pt.y,
689                            \hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min}(menu\_size.cx, map\_size.cx), 
690                            map\_size.cy, 
691                            \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} );
692                 \textcolor{keywordflow}{break};
693             \}
694             ShowWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win, SW\_SHOW);
695         \}
696     \}
697 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_ad6c64e328f57f06fcf1376b40e676bf3}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode@{mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode}}
\index{mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode@{mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_ad6c64e328f57f06fcf1376b40e676bf3}


Definition at line 868 of file mhmain.\+c.



References Get\+N\+H\+App(), and I\+D\+M\+\_\+\+N\+H\+M\+O\+D\+E.



Referenced by mswin\+\_\+init\+\_\+nhwindows(), and on\+W\+M\+Command().


\begin{DoxyCode}
869 \{
870     HMENU hMenu = GetMenu(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd);
871 
872     \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->regNetHackMode)
873         CheckMenuItem(hMenu, \hyperlink{win_2win32_2resource_8h_a58195913abe541d0d33e33e7905883f5}{IDM\_NHMODE}, MF\_CHECKED);
874     \textcolor{keywordflow}{else}
875         CheckMenuItem(hMenu, \hyperlink{win_2win32_2resource_8h_a58195913abe541d0d33e33e7905883f5}{IDM\_NHMODE}, MF\_UNCHECKED);
876 
877 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!mswin\+\_\+select\+\_\+map\+\_\+mode@{mswin\+\_\+select\+\_\+map\+\_\+mode}}
\index{mswin\+\_\+select\+\_\+map\+\_\+mode@{mswin\+\_\+select\+\_\+map\+\_\+mode}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{mswin\+\_\+select\+\_\+map\+\_\+mode}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+select\+\_\+map\+\_\+mode (
\begin{DoxyParamCaption}
\item[{int}]{mode}
\end{DoxyParamCaption}
)}}\label{win_2win32_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}


Definition at line 879 of file mhmain.\+c.



References \+\_\+get\+\_\+main\+\_\+menu(), B\+U\+F\+S\+Z, error(), Get\+N\+H\+App(), mswin\+\_\+nhwindow\+\_\+app\+::h\+Main\+Wnd, I\+D\+\_\+\+M\+A\+P, I\+D\+\_\+\+V\+I\+E\+W, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I10\+X18, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+T\+I\+L\+E\+S, I\+D\+S\+\_\+\+C\+A\+P\+\_\+\+E\+N\+T\+I\+R\+E\+M\+A\+P, I\+D\+S\+\_\+\+C\+A\+P\+\_\+\+N\+O\+R\+M\+A\+L\+M\+A\+P, iflags, I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I, I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, Is\+\_\+rogue\+\_\+level, M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S, mswin\+\_\+nethack\+\_\+main\+\_\+window\+::map\+Acsii\+Mode\+Save, mapmode2menuid(), mswin\+\_\+hwnd\+\_\+from\+\_\+winid(), mswin\+\_\+map\+\_\+mode(), mswin\+\_\+winid\+\_\+from\+\_\+type(), N\+H\+W\+\_\+\+M\+A\+P, panic(), u, you\+::uz, instance\+\_\+flags\+::wc\+\_\+map\+\_\+mode, W\+I\+N\+\_\+\+E\+R\+R, and W\+I\+N\+\_\+\+M\+A\+P.


\begin{DoxyCode}
880 \{
881     \hyperlink{structmswin__nethack__main__window}{PNHMainWindow}  data;
882     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} map\_id;
883 
884     map\_id = \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP};
885     data = (\hyperlink{sys_2wince_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}{PNHMainWindow})GetWindowLong(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->
      \hyperlink{structmswin__nhwindow__app_ada318d77e9dd51678af5d9a3ce6ef03a}{hMainWnd}, GWL\_USERDATA);
886 
887     \textcolor{comment}{/* override for Rogue level */}
888 \textcolor{preprocessor}{#ifdef REINCARNATION}
889     \textcolor{keywordflow}{if}( \hyperlink{dungeon_8h_a2732117523c8540638daf4315dda16b9}{Is\_rogue\_level}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz}) && !\hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(mode) ) \textcolor{keywordflow}{return};
890 \textcolor{preprocessor}{#endif}
891 
892     \textcolor{comment}{/* set map mode menu mark */}
893     \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(mode) ) \{
894         CheckMenuRadioItem(
895             GetMenu(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd), 
896             \hyperlink{sys_2wince_2resource_8h_a941da7827e6a3fccd71ede6d80dd6ed6}{IDM\_MAP\_TILES}, 
897             \hyperlink{sys_2wince_2resource_8h_a2c90399d6d34617cd45d515205e12089}{IDM\_MAP\_ASCII10X18}, 
898             \hyperlink{win_2win32_2mhmain_8c_aa6cf3a08d2d7d27ecea1da33853c3981}{mapmode2menuid}( \hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{IS\_MAP\_FIT\_TO\_SCREEN}(mode)? data->
      \hyperlink{structmswin__nethack__main__window_a2befc52d80c6b5673ce6846b24d2c266}{mapAcsiiModeSave} : mode ), 
899             MF\_BYCOMMAND);
900     \} \textcolor{keywordflow}{else} \{
901         CheckMenuRadioItem(
902             GetMenu(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd), 
903             \hyperlink{sys_2wince_2resource_8h_a941da7827e6a3fccd71ede6d80dd6ed6}{IDM\_MAP\_TILES}, 
904             \hyperlink{sys_2wince_2resource_8h_a2c90399d6d34617cd45d515205e12089}{IDM\_MAP\_ASCII10X18}, 
905             \hyperlink{win_2win32_2mhmain_8c_aa6cf3a08d2d7d27ecea1da33853c3981}{mapmode2menuid}( \hyperlink{winprocs_8h_a4e5a5df8a98a429b268f73636dbce5ab}{MAP\_MODE\_TILES} ), 
906             MF\_BYCOMMAND);
907     \}
908 
909     \textcolor{comment}{/* set fit-to-screen mode mark */}
910     CheckMenuItem(
911         GetMenu(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd),
912         \hyperlink{sys_2wince_2resource_8h_a02ba6072091ba0e3a629def339d270b3}{IDM\_MAP\_FIT\_TO\_SCREEN},
913         MF\_BYCOMMAND | 
914         (\hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{IS\_MAP\_FIT\_TO\_SCREEN}(mode)? MF\_CHECKED : MF\_UNCHECKED)
915     );
916 
917     \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode}) && !
      \hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{IS\_MAP\_FIT\_TO\_SCREEN}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode})) \{
918         data->\hyperlink{structmswin__nethack__main__window_a2befc52d80c6b5673ce6846b24d2c266}{mapAcsiiModeSave} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode};
919     \}
920 
921     \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode} = mode;
922     
923     \textcolor{comment}{/* }
924 \textcolor{comment}{    ** first, check if WIN\_MAP has been inialized.}
925 \textcolor{comment}{    ** If not - attempt to retrieve it by type, then check it again}
926 \textcolor{comment}{    */}
927     \textcolor{keywordflow}{if}( map\_id==\hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} ) 
928         map\_id = \hyperlink{sys_2wince_2mswproc_8c_a57e27ce5d15b0dfe1985171f9b966041}{mswin\_winid\_from\_type}(\hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP});
929     \textcolor{keywordflow}{if}( map\_id!=\hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR} )
930         \hyperlink{sys_2wince_2mhmap_8c_a3cc8c75ab01843325bb704d173373fd4}{mswin\_map\_mode}(\hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(map\_id), mode);
931 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_ab1f0aceef05a1dec643246c7cbf5353c}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!on\+M\+S\+N\+H\+Command@{on\+M\+S\+N\+H\+Command}}
\index{on\+M\+S\+N\+H\+Command@{on\+M\+S\+N\+H\+Command}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{on\+M\+S\+N\+H\+Command}]{\setlength{\rightskip}{0pt plus 5cm}void on\+M\+S\+N\+H\+Command (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{h\+Wnd, }
\item[{W\+P\+A\+R\+A\+M}]{w\+Param, }
\item[{L\+P\+A\+R\+A\+M}]{l\+Param}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_ab1f0aceef05a1dec643246c7cbf5353c}


Definition at line 510 of file mhmain.\+c.



References Get\+N\+H\+App(), iflags, M\+S\+N\+H\+\_\+\+M\+S\+G\+\_\+\+A\+D\+D\+W\+N\+D, mswin\+\_\+layout\+\_\+main\+\_\+window(), mswin\+\_\+select\+\_\+map\+\_\+mode(), N\+H\+W\+\_\+\+M\+A\+P, mswin\+\_\+nhwindow\+\_\+data\+::type, instance\+\_\+flags\+::wc\+\_\+map\+\_\+mode, mswin\+\_\+nhmsg\+\_\+add\+\_\+wnd\+::wid, mswin\+\_\+nhwindow\+\_\+data\+::win, and mswin\+\_\+nhwindow\+\_\+app\+::windowlist.



Referenced by Main\+Wnd\+Proc().


\begin{DoxyCode}
511 \{
512     \textcolor{keywordflow}{switch}(wParam) \{
513 
514     \textcolor{comment}{/* new window was just added */}
515     \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2mhmsg_8h_a2140abf16c9efa5932902234883568df}{MSNH\_MSG\_ADDWND}: \{
516         \hyperlink{structmswin__nhmsg__add__wnd}{PMSNHMsgAddWnd} msg\_param = (\hyperlink{sys_2wince_2mhmsg_8h_a07170a7845cfaa6a6200acead55f5bb8}{PMSNHMsgAddWnd})lParam;
517         HWND child;
518 
519         \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[msg\_param->\hyperlink{structmswin__nhmsg__add__wnd_a15b37d8b9e61c6fe986469e012399c60}{wid}].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} == 
      \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP} )
520             \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode});
521         
522         child = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[msg\_param->\hyperlink{structmswin__nhmsg__add__wnd_a15b37d8b9e61c6fe986469e012399c60}{wid}].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win};
523         \textcolor{keywordflow}{if}( child ) \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(child);
524     \} \textcolor{keywordflow}{break};
525 
526     \}
527 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_a47cc120b59e6a2e15d36f899dc27e7ef}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!on\+W\+M\+Command@{on\+W\+M\+Command}}
\index{on\+W\+M\+Command@{on\+W\+M\+Command}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{on\+W\+M\+Command}]{\setlength{\rightskip}{0pt plus 5cm}L\+R\+E\+S\+U\+L\+T on\+W\+M\+Command (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{h\+Wnd, }
\item[{W\+P\+A\+R\+A\+M}]{w\+Param, }
\item[{L\+P\+A\+R\+A\+M}]{l\+Param}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a47cc120b59e6a2e15d36f899dc27e7ef}


Definition at line 699 of file mhmain.\+c.



References display\+\_\+file, dohistory(), done2(), dosave(), dowhatdoes(), dowhatis(), sinfo\+::gameover, Get\+N\+H\+App(), H\+E\+L\+P, I\+D\+M\+\_\+\+A\+B\+O\+U\+T, I\+D\+M\+\_\+\+C\+L\+E\+A\+R\+S\+E\+T\+T\+I\+N\+G\+S, I\+D\+M\+\_\+\+E\+X\+I\+T, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+C\+O\+M\+M\+A\+N\+D\+S, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+E\+X\+T\+C\+M\+D, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+H\+I\+S\+T\+O\+R\+Y, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+I\+N\+F\+O\+\_\+\+C\+H\+A\+R, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+I\+N\+F\+O\+\_\+\+K\+E\+Y, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+L\+I\+C\+E\+N\+S\+E, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+L\+O\+N\+G, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+O\+P\+T\+I\+O\+N\+S, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+O\+P\+T\+I\+O\+N\+S\+\_\+\+L\+O\+N\+G, I\+D\+M\+\_\+\+H\+E\+L\+P\+\_\+\+P\+O\+R\+T\+H\+E\+L\+P, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I10\+X18, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I12\+X16, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I16\+X12, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I16\+X8, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I4\+X6, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I6\+X8, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I7\+X12, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I8\+X12, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I8\+X8, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, I\+D\+M\+\_\+\+M\+A\+P\+\_\+\+T\+I\+L\+E\+S, I\+D\+M\+\_\+\+N\+H\+M\+O\+D\+E, I\+D\+M\+\_\+\+S\+A\+V\+E, iflags, I\+S\+\_\+\+M\+A\+P\+\_\+\+A\+S\+C\+I\+I, I\+S\+\_\+\+M\+A\+P\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, L\+I\+C\+E\+N\+S\+E, M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+A\+S\+C\+I\+I\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S, M\+A\+P\+\_\+\+M\+O\+D\+E\+\_\+\+T\+I\+L\+E\+S\+\_\+\+F\+I\+T\+\_\+\+T\+O\+\_\+\+S\+C\+R\+E\+E\+N, mswin\+\_\+nethack\+\_\+main\+\_\+window\+::map\+Acsii\+Mode\+Save, menuid2mapmode(), mswin\+\_\+destroy\+\_\+reg(), mswin\+\_\+display\+\_\+splash\+\_\+window(), mswin\+\_\+menu\+\_\+check\+\_\+intf\+\_\+mode(), mswin\+\_\+select\+\_\+map\+\_\+mode(), N\+H\+Message\+Box(), option\+\_\+help(), O\+P\+T\+I\+O\+N\+F\+I\+L\+E, P\+O\+R\+T\+\_\+\+H\+E\+L\+P, program\+\_\+state, mswin\+\_\+nhwindow\+\_\+app\+::reg\+Net\+Hack\+Mode, S\+H\+E\+L\+P, T\+R\+U\+E, and instance\+\_\+flags\+::wc\+\_\+map\+\_\+mode.



Referenced by Main\+Wnd\+Proc().


\begin{DoxyCode}
700 \{
701     \textcolor{keywordtype}{int} wmId, wmEvent;
702     \hyperlink{structmswin__nethack__main__window}{PNHMainWindow}  data;
703 
704     data = (\hyperlink{sys_2wince_2mhmain_8c_a29321e02c4db63bfd295f570f8991f96}{PNHMainWindow})GetWindowLong(hWnd, GWL\_USERDATA);
705     wmId    = LOWORD(wParam); 
706     wmEvent = HIWORD(wParam); 
707 
708     \textcolor{comment}{// Parse the menu selections:}
709     \textcolor{keywordflow}{switch} (wmId)
710     \{
711         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a589e0105bc3e8681893dbf51210ceeec}{IDM\_ABOUT}:
712      \hyperlink{win_2win32_2mhmain_8c_aa8dac0e3fd8f58d00bd35922c3a8e22f}{mswin\_display\_splash\_window}(\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
713            \textcolor{keywordflow}{break};
714 
715         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a79aeed168a959b22b32169e25f8c1f4d}{IDM\_EXIT}:
716            \hyperlink{end_8c_aec8aa049129efa2742756fbeacfa6852}{done2}();
717            \textcolor{keywordflow}{break};
718 
719         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_af20742613e64b1ef84ed8bc2672d73a8}{IDM\_SAVE}:
720            \textcolor{keywordflow}{if} (!\hyperlink{decl_8h_a91c51d44f2b6e70f8a5d42a5b5218dcd}{program\_state}.\hyperlink{structsinfo_ac1f9d8fcec6871fb805fe566ac8a8823}{gameover} && !\hyperlink{decl_8h_a91c51d44f2b6e70f8a5d42a5b5218dcd}{program\_state}.done\_hup) 
      \hyperlink{save_8c_a7561be96dcd8aad740ef1e3d410bf03b}{dosave}();
721            \textcolor{keywordflow}{else} MessageBeep(0);
722            \textcolor{keywordflow}{break};
723 
724         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a941da7827e6a3fccd71ede6d80dd6ed6}{IDM\_MAP\_TILES}:
725         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_aa8d178f902690090861e39bdc3bd2ac3}{IDM\_MAP\_ASCII4X6}:
726         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a3ebc42fdaffafbaebb7de447167e0823}{IDM\_MAP\_ASCII6X8}:
727         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_adecaf7c1803a6b45b81aa092d74f61f4}{IDM\_MAP\_ASCII8X8}:
728         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_ab8247a32f819c2ef862a5c5d1e7474fc}{IDM\_MAP\_ASCII16X8}:
729         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a3896d3bf7d4990f337c21600547e132d}{IDM\_MAP\_ASCII7X12}:
730         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a98f0c9419a4fed9ae9e00ce2ce090f77}{IDM\_MAP\_ASCII8X12}:
731         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a5b3390ad0a4830a75864bb64b694be0f}{IDM\_MAP\_ASCII12X16}:
732         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a02188491e3180341a1774003b8c07cc1}{IDM\_MAP\_ASCII16X12}:
733         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a2c90399d6d34617cd45d515205e12089}{IDM\_MAP\_ASCII10X18}:
734             \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(\hyperlink{win_2win32_2mhmain_8c_aa90e5e171a7a48a3b70238f66266d48b}{menuid2mapmode}(wmId));
735             \textcolor{keywordflow}{break};
736 
737         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a02ba6072091ba0e3a629def339d270b3}{IDM\_MAP\_FIT\_TO\_SCREEN}:
738             \textcolor{keywordflow}{if}( \hyperlink{win_2win32_2mhmain_8c_a5c1e93f650bca5521bd9449a11d08bd0}{IS\_MAP\_FIT\_TO\_SCREEN}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode}) ) \{
739                 \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(
740                     \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode})? 
741                         data->\hyperlink{structmswin__nethack__main__window_a2befc52d80c6b5673ce6846b24d2c266}{mapAcsiiModeSave} :
742                         \hyperlink{winprocs_8h_a4e5a5df8a98a429b268f73636dbce5ab}{MAP\_MODE\_TILES}
743                 );
744             \} \textcolor{keywordflow}{else} \{
745                 \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}(
746                     \hyperlink{win_2win32_2mhmain_8c_a15cc43d288525772b40dcd6072d3f834}{IS\_MAP\_ASCII}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode})?
747                         \hyperlink{winprocs_8h_af4e337dbae61232212774e90a30d6506}{MAP\_MODE\_ASCII\_FIT\_TO\_SCREEN} :
748                         \hyperlink{winprocs_8h_aa30c90d80b3ba942295337a9dc1f9c1e}{MAP\_MODE\_TILES\_FIT\_TO\_SCREEN}
749                 );
750             \}
751             \textcolor{keywordflow}{break};
752 
753         \textcolor{keywordflow}{case} \hyperlink{win_2win32_2resource_8h_a58195913abe541d0d33e33e7905883f5}{IDM\_NHMODE}:
754         \{
755             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_aded0a94e58119ccbb1b375ccd3de7d2e}{regNetHackMode} = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->
      \hyperlink{structmswin__nhwindow__app_aded0a94e58119ccbb1b375ccd3de7d2e}{regNetHackMode} ? 0 : 1;
756             \hyperlink{win_2win32_2mhmain_8c_ad6c64e328f57f06fcf1376b40e676bf3}{mswin\_menu\_check\_intf\_mode}();
757             \textcolor{keywordflow}{break};
758         \}
759         \textcolor{keywordflow}{case} \hyperlink{win_2win32_2resource_8h_ad4bfd47237eee9bc2a94baaabacc90ad}{IDM\_CLEARSETTINGS}:
760         \{
761             \hyperlink{sys_2wince_2mswproc_8c_a698b1843d2012b20457631fad20b0238}{mswin\_destroy\_reg}();
762             \textcolor{comment}{/* Notify the user that windows settings will not be saved this time. */}
763             \hyperlink{win_2win32_2mswproc_8c_ac03a5403b48c971b659d5374d984a037}{NHMessageBox}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, 
764                 \textcolor{stringliteral}{"Your Windows Settings will not be stored when you exit this time."}, 
765                 MB\_OK | MB\_ICONINFORMATION);
766             \textcolor{keywordflow}{break};
767         \}
768         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_abdba6ff157b0f3455a844828554e9efc}{IDM\_HELP\_LONG}:    
769             \hyperlink{winprocs_8h_a9a2d6fa35e52cd43166e411ec33926ef}{display\_file}(\hyperlink{global_8h_ae8a798ec5e0449028e485688e8241b5e}{HELP}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});  
770             \textcolor{keywordflow}{break};
771         
772         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_ac90197a5d186767e62ec83cf6a86012a}{IDM\_HELP\_COMMANDS}:    
773             \hyperlink{winprocs_8h_a9a2d6fa35e52cd43166e411ec33926ef}{display\_file}(\hyperlink{global_8h_aeb14d5bf1329cb0b0f9928f7c1d33124}{SHELP}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});  
774             \textcolor{keywordflow}{break};
775         
776         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_ab435b16dd55b9bbbcb13985bc420349c}{IDM\_HELP\_HISTORY}:
777             (void) \hyperlink{pager_8c_ac303607e0b17cbaa06dbdf30f5785d60}{dohistory}();  
778             \textcolor{keywordflow}{break};
779         
780         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a45f1ba6251cf7f3cedef528208d47685}{IDM\_HELP\_INFO\_CHAR}:
781             (void) \hyperlink{pager_8c_a7ba240869c589ab020b058374feeff4a}{dowhatis}();  
782             \textcolor{keywordflow}{break};
783         
784         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a498bcce33f6f97924e0d405aa458e45e}{IDM\_HELP\_INFO\_KEY}:
785             (void) \hyperlink{pager_8c_ab2f81826a2806164f716768c9e011dc3}{dowhatdoes}();  
786             \textcolor{keywordflow}{break};
787         
788         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_a8e672571b8988a721cdc1e719d9c54a5}{IDM\_HELP\_OPTIONS}:
789             \hyperlink{options_8c_a4eefb5fae1dc2f2c04d5ba1c0206b003}{option\_help}();  
790             \textcolor{keywordflow}{break};
791         
792         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_af0fd56f3e6a2e8a710eb5ea25cfa8f72}{IDM\_HELP\_OPTIONS\_LONG}:
793             \hyperlink{winprocs_8h_a9a2d6fa35e52cd43166e411ec33926ef}{display\_file}(\hyperlink{global_8h_ac59ef3995868cf94b619b6047a480e1d}{OPTIONFILE}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});  
794             \textcolor{keywordflow}{break};
795         
796         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_afd3c6713d768fce0d9e9a0bb4b190d5a}{IDM\_HELP\_EXTCMD}:
797             (void) doextlist();  
798             \textcolor{keywordflow}{break};
799         
800         \textcolor{keywordflow}{case} \hyperlink{sys_2wince_2resource_8h_ab201f4bee5de625c89db823afea92a97}{IDM\_HELP\_LICENSE}:
801             \hyperlink{winprocs_8h_a9a2d6fa35e52cd43166e411ec33926ef}{display\_file}(\hyperlink{global_8h_a5c614f0c43289cf27b3358d928440a36}{LICENSE}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});  
802             \textcolor{keywordflow}{break};
803 
804         \textcolor{keywordflow}{case} \hyperlink{win_2win32_2resource_8h_ada08324d4823d4838506b69535ab48b6}{IDM\_HELP\_PORTHELP}:
805             \hyperlink{winprocs_8h_a9a2d6fa35e52cd43166e411ec33926ef}{display\_file}(\hyperlink{amiconf_8h_adea5f27d2fa7b84c0d6458e64f551724}{PORT\_HELP}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});  
806             \textcolor{keywordflow}{break};
807 
808         \textcolor{keywordflow}{default}:
809            \textcolor{keywordflow}{return} 1;
810     \}
811     \textcolor{keywordflow}{return} 0;
812 \}
\end{DoxyCode}
\hypertarget{win_2win32_2mhmain_8c_a9ab5db93efdb5960c0f5ada184783123}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!register\+\_\+main\+\_\+window\+\_\+class@{register\+\_\+main\+\_\+window\+\_\+class}}
\index{register\+\_\+main\+\_\+window\+\_\+class@{register\+\_\+main\+\_\+window\+\_\+class}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{register\+\_\+main\+\_\+window\+\_\+class}]{\setlength{\rightskip}{0pt plus 5cm}void register\+\_\+main\+\_\+window\+\_\+class (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a9ab5db93efdb5960c0f5ada184783123}


Definition at line 85 of file mhmain.\+c.



References Get\+N\+H\+App(), mswin\+\_\+nhwindow\+\_\+app\+::h\+App, I\+D\+C\+\_\+\+N\+E\+T\+H\+A\+C\+K\+W, I\+D\+I\+\_\+\+N\+E\+T\+H\+A\+C\+K\+W, Main\+Wnd\+Proc(), N\+U\+L\+L, and sz\+Main\+Window\+Class.



Referenced by mswin\+\_\+init\+\_\+main\+\_\+window().


\begin{DoxyCode}
86 \{
87     WNDCLASS wcex;
88     
89     ZeroMemory(&wcex, \textcolor{keyword}{sizeof}(wcex));
90     wcex.style          = CS\_HREDRAW | CS\_VREDRAW;
91     wcex.lpfnWndProc    = (WNDPROC)\hyperlink{sys_2wince_2mhmain_8c_ad47c6125b2d6b8a79fc223151a134374}{MainWndProc};
92     wcex.cbClsExtra     = 0;
93     wcex.cbWndExtra     = 0;
94     wcex.hInstance      = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae3a365ad66195c8e1d915242897c3f24}{hApp};
95     wcex.hIcon          = LoadIcon(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hApp, (LPCTSTR)
      \hyperlink{win_2win32_2resource_8h_a1d384301c471c0c8a714794e48ad548f}{IDI\_NETHACKW});
96     wcex.hCursor        = LoadCursor(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, IDC\_ARROW);
97     wcex.hbrBackground  = (HBRUSH)(COLOR\_WINDOW+1);
98     wcex.lpszMenuName   = (TCHAR*)\hyperlink{win_2win32_2resource_8h_a1c09d9049e66e053031bd5f544ae617d}{IDC\_NETHACKW};
99     wcex.lpszClassName  = \hyperlink{sys_2wince_2mhmain_8c_a7ca9b3ace892ddc7646eb64d69b562df}{szMainWindowClass};
100 
101     RegisterClass(&wcex);
102 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{win_2win32_2mhmain_8c_a326f2e6939feb673f0664319d66e02dd}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!\+\_\+menu2mapmode@{\+\_\+menu2mapmode}}
\index{\+\_\+menu2mapmode@{\+\_\+menu2mapmode}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{\+\_\+menu2mapmode}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf t\+\_\+menu2mapmode}  \+\_\+menu2mapmode\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a326f2e6939feb673f0664319d66e02dd}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= 
\{
    \{ \hyperlink{sys_2wince_2resource_8h_a941da7827e6a3fccd71ede6d80dd6ed6}{IDM\_MAP\_TILES}, \hyperlink{winprocs_8h_a4e5a5df8a98a429b268f73636dbce5ab}{MAP\_MODE\_TILES} \},
    \{ \hyperlink{sys_2wince_2resource_8h_aa8d178f902690090861e39bdc3bd2ac3}{IDM\_MAP\_ASCII4X6}, \hyperlink{winprocs_8h_a582c67d5746cd9ae752fac90e11294ae}{MAP\_MODE\_ASCII4x6} \},
    \{ \hyperlink{sys_2wince_2resource_8h_a3ebc42fdaffafbaebb7de447167e0823}{IDM\_MAP\_ASCII6X8}, \hyperlink{winprocs_8h_a3899d2308eadec1b1ae23a03e7865234}{MAP\_MODE\_ASCII6x8} \},
    \{ \hyperlink{sys_2wince_2resource_8h_adecaf7c1803a6b45b81aa092d74f61f4}{IDM\_MAP\_ASCII8X8}, \hyperlink{winprocs_8h_a2ffafa4f297b5463eabe3b891bc92509}{MAP\_MODE\_ASCII8x8} \},
    \{ \hyperlink{sys_2wince_2resource_8h_ab8247a32f819c2ef862a5c5d1e7474fc}{IDM\_MAP\_ASCII16X8}, \hyperlink{winprocs_8h_a6f2fe94dd9c875cf4d3c2545fb8d7ed7}{MAP\_MODE\_ASCII16x8} \},
    \{ \hyperlink{sys_2wince_2resource_8h_a3896d3bf7d4990f337c21600547e132d}{IDM\_MAP\_ASCII7X12}, \hyperlink{winprocs_8h_a5cdad45aaeb5c092067eb1ce920544b3}{MAP\_MODE\_ASCII7x12} \},
    \{ \hyperlink{sys_2wince_2resource_8h_a98f0c9419a4fed9ae9e00ce2ce090f77}{IDM\_MAP\_ASCII8X12}, \hyperlink{winprocs_8h_ab7bde31d3953c37eddaf0cec4b967ce6}{MAP\_MODE\_ASCII8x12} \},
    \{ \hyperlink{sys_2wince_2resource_8h_a5b3390ad0a4830a75864bb64b694be0f}{IDM\_MAP\_ASCII12X16}, \hyperlink{winprocs_8h_ae0d763de7f5d48bd0b4f7c3fda36eebb}{MAP\_MODE\_ASCII12x16} \},
    \{ \hyperlink{sys_2wince_2resource_8h_a02188491e3180341a1774003b8c07cc1}{IDM\_MAP\_ASCII16X12}, \hyperlink{winprocs_8h_a679aea826169d4062ceb06f8c7ac2561}{MAP\_MODE\_ASCII16x12} \},
    \{ \hyperlink{sys_2wince_2resource_8h_a2c90399d6d34617cd45d515205e12089}{IDM\_MAP\_ASCII10X18}, \hyperlink{winprocs_8h_a6b787f35e03e46f21984e4190707430a}{MAP\_MODE\_ASCII10x18} \},
    \{ \hyperlink{sys_2wince_2resource_8h_a02ba6072091ba0e3a629def339d270b3}{IDM\_MAP\_FIT\_TO\_SCREEN}, \hyperlink{winprocs_8h_af4e337dbae61232212774e90a30d6506}{MAP\_MODE\_ASCII\_FIT\_TO\_SCREEN} 
      \},
    \{ -1, -1 \}
\}
\end{DoxyCode}


Referenced by mapmode2menuid(), and menuid2mapmode().

\hypertarget{win_2win32_2mhmain_8c_a4792b79f0c18a4fa992b56a11f8effda}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!extendedlist@{extendedlist}}
\index{extendedlist@{extendedlist}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{extendedlist}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ extendedlist = \char`\"{}acdefijlmnopqrstuvw?2\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a4792b79f0c18a4fa992b56a11f8effda}


Definition at line 161 of file mhmain.\+c.



Referenced by Main\+Wnd\+Proc().

\hypertarget{win_2win32_2mhmain_8c_ac413d600dbe43b9ad35c2d8ec2023aa8}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!keypad@{keypad}}
\index{keypad@{keypad}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{keypad}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} unsigned char keypad\mbox{[}{\bf K\+E\+Y\+\_\+\+L\+A\+S\+T}\mbox{]}\mbox{[}3\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_ac413d600dbe43b9ad35c2d8ec2023aa8}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \{\textcolor{charliteral}{'y'}, \textcolor{charliteral}{'Y'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'y'})\}, 
    \{\textcolor{charliteral}{'k'}, \textcolor{charliteral}{'K'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'k'})\}, 
    \{\textcolor{charliteral}{'u'}, \textcolor{charliteral}{'U'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'u'})\}, 
    \{\textcolor{charliteral}{'m'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'p'}), \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'p'})\}, 
    \{\textcolor{charliteral}{'h'}, \textcolor{charliteral}{'H'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'h'})\}, 
    \{\textcolor{charliteral}{'g'}, \textcolor{charliteral}{'G'}, \textcolor{charliteral}{'g'}\}, 
    \{\textcolor{charliteral}{'l'}, \textcolor{charliteral}{'L'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'l'})\}, 
    \{\textcolor{charliteral}{'+'}, \textcolor{charliteral}{'P'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'p'})\}, 
    \{\textcolor{charliteral}{'b'}, \textcolor{charliteral}{'B'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'b'})\}, 
    \{\textcolor{charliteral}{'j'}, \textcolor{charliteral}{'J'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'j'})\}, 
    \{\textcolor{charliteral}{'n'}, \textcolor{charliteral}{'N'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'n'})\}, 
    \{\textcolor{charliteral}{'i'}, \textcolor{charliteral}{'I'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'i'})\}, 
    \{\textcolor{charliteral}{'.'}, \textcolor{charliteral}{':'}, \textcolor{charliteral}{':'}\} 
\}
\end{DoxyCode}


Definition at line 119 of file mhmain.\+c.

\hypertarget{win_2win32_2mhmain_8c_a86f0ea2b713bbcceb744e6163f54f07e}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!numpad@{numpad}}
\index{numpad@{numpad}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{numpad}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} unsigned char numpad\mbox{[}{\bf K\+E\+Y\+\_\+\+L\+A\+S\+T}\mbox{]}\mbox{[}3\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a86f0ea2b713bbcceb744e6163f54f07e}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \{\textcolor{charliteral}{'7'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'7'}), \textcolor{charliteral}{'7'}\}, 
    \{\textcolor{charliteral}{'8'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'8'}), \textcolor{charliteral}{'8'}\}, 
    \{\textcolor{charliteral}{'9'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'9'}), \textcolor{charliteral}{'9'}\}, 
    \{\textcolor{charliteral}{'m'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'p'}), \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'p'})\}, 
    \{\textcolor{charliteral}{'4'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'4'}), \textcolor{charliteral}{'4'}\}, 
    \{\textcolor{charliteral}{'5'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'5'}), \textcolor{charliteral}{'5'}\}, 
    \{\textcolor{charliteral}{'6'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'6'}), \textcolor{charliteral}{'6'}\}, 
    \{\textcolor{charliteral}{'+'}, \textcolor{charliteral}{'P'}, \hyperlink{micro_8h_ad1368c2a0fa68385ecdd9f1016563c08}{C}(\textcolor{charliteral}{'p'})\}, 
    \{\textcolor{charliteral}{'1'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'1'}), \textcolor{charliteral}{'1'}\}, 
    \{\textcolor{charliteral}{'2'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'2'}), \textcolor{charliteral}{'2'}\}, 
    \{\textcolor{charliteral}{'3'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'3'}), \textcolor{charliteral}{'3'}\}, 
    \{\textcolor{charliteral}{'0'}, \hyperlink{micro_8h_a9a64d11f1dbd7ac22274d0904232a7a6}{M}(\textcolor{charliteral}{'0'}), \textcolor{charliteral}{'0'}\}, 
    \{\textcolor{charliteral}{'.'}, \textcolor{charliteral}{':'}, \textcolor{charliteral}{':'}\} 
\}
\end{DoxyCode}


Definition at line 134 of file mhmain.\+c.

\hypertarget{win_2win32_2mhmain_8c_a1cd30cdd299f7e004657c44e103777b2}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!scanmap@{scanmap}}
\index{scanmap@{scanmap}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{scanmap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char scanmap\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a1cd30cdd299f7e004657c44e103777b2}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{     
    \textcolor{charliteral}{'1'},\textcolor{charliteral}{'2'},\textcolor{charliteral}{'3'},\textcolor{charliteral}{'4'},\textcolor{charliteral}{'5'},\textcolor{charliteral}{'6'},\textcolor{charliteral}{'7'},\textcolor{charliteral}{'8'},\textcolor{charliteral}{'9'},\textcolor{charliteral}{'0'},0,0,0,0,
    \textcolor{charliteral}{'q'},\textcolor{charliteral}{'w'},\textcolor{charliteral}{'e'},\textcolor{charliteral}{'r'},\textcolor{charliteral}{'t'},\textcolor{charliteral}{'y'},\textcolor{charliteral}{'u'},\textcolor{charliteral}{'i'},\textcolor{charliteral}{'o'},\textcolor{charliteral}{'p'},\textcolor{charliteral}{'['},\textcolor{charliteral}{']'}, \textcolor{charliteral}{'\(\backslash\)n'},
    0, \textcolor{charliteral}{'a'},\textcolor{charliteral}{'s'},\textcolor{charliteral}{'d'},\textcolor{charliteral}{'f'},\textcolor{charliteral}{'g'},\textcolor{charliteral}{'h'},\textcolor{charliteral}{'j'},\textcolor{charliteral}{'k'},\textcolor{charliteral}{'l'},\textcolor{charliteral}{';'},\textcolor{charliteral}{'\(\backslash\)''}, \textcolor{charliteral}{'`'},
    0, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'z'},\textcolor{charliteral}{'x'},\textcolor{charliteral}{'c'},\textcolor{charliteral}{'v'},\textcolor{charliteral}{'b'},\textcolor{charliteral}{'n'},\textcolor{charliteral}{'m'},\textcolor{charliteral}{','},\textcolor{charliteral}{'.'},\textcolor{charliteral}{'?'}    
\}
\end{DoxyCode}


Definition at line 164 of file mhmain.\+c.



Referenced by Main\+Wnd\+Proc().

\hypertarget{win_2win32_2mhmain_8c_a7ca9b3ace892ddc7646eb64d69b562df}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!sz\+Main\+Window\+Class@{sz\+Main\+Window\+Class}}
\index{sz\+Main\+Window\+Class@{sz\+Main\+Window\+Class}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{sz\+Main\+Window\+Class}]{\setlength{\rightskip}{0pt plus 5cm}T\+C\+H\+A\+R sz\+Main\+Window\+Class\mbox{[}$\,$\mbox{]} = T\+E\+X\+T(\char`\"{}M\+S\+N\+H\+Main\+Wnd\+Class\char`\"{})\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a7ca9b3ace892ddc7646eb64d69b562df}


Definition at line 19 of file mhmain.\+c.

\hypertarget{win_2win32_2mhmain_8c_a0255997040d96a52f933b0c0d4bd8e01}{\index{win/win32/mhmain.\+c@{win/win32/mhmain.\+c}!sz\+Title@{sz\+Title}}
\index{sz\+Title@{sz\+Title}!win/win32/mhmain.\+c@{win/win32/mhmain.\+c}}
\subsubsection[{sz\+Title}]{\setlength{\rightskip}{0pt plus 5cm}T\+C\+H\+A\+R sz\+Title\mbox{[}{\bf M\+A\+X\+\_\+\+L\+O\+A\+D\+S\+T\+R\+I\+N\+G}\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{win_2win32_2mhmain_8c_a0255997040d96a52f933b0c0d4bd8e01}


Definition at line 20 of file mhmain.\+c.



Referenced by mswin\+\_\+init\+\_\+main\+\_\+window().

