\hypertarget{sys_2wince_2mswproc_8c}{\section{nethack/sys/wince/mswproc.c File Reference}
\label{sys_2wince_2mswproc_8c}\index{nethack/sys/wince/mswproc.\+c@{nethack/sys/wince/mswproc.\+c}}
}
{\ttfamily \#include \char`\"{}hack.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}dlb.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}win\+M\+S.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmap.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhstatus.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhtext.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmsgwnd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmenu.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmsg.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhcmd.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhinput.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhaskyn.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhdlg.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhrip.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhmain.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhfont.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}mhcolor.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{sys_2wince_2mswproc_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{L\+L\+E\+N}~128
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{log\+Debug} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$fmt,...)
\item 
static void \hyperlink{sys_2wince_2mswproc_8c_ad3ff4e54b425e4e94d7505395def2b2b}{mswin\+\_\+main\+\_\+loop} ()
\item 
static B\+O\+O\+L \hyperlink{sys_2wince_2mswproc_8c_acb9d53f9f46ff9d6d3e721b3979e27a3}{init\+Map\+Tiles} (void)
\item 
static void \hyperlink{sys_2wince_2mswproc_8c_adb9397c80029a85e8242d9e9cf4a80f0}{prompt\+\_\+for\+\_\+player\+\_\+selection} (void)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_aa229f7130a6c56025647cefbb82b53f4}{mswin\+\_\+init\+\_\+nhwindows} (int $\ast$argc, char $\ast$$\ast$argv)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_afa164dd1701209b71c2980d505275c53}{mswin\+\_\+player\+\_\+selection} (void)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_af2d14c71a888e38a29ba52cb430f51b4}{mswin\+\_\+askname} (void)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_aa87d5423313412d1bbbecee0c8280880}{mswin\+\_\+get\+\_\+nh\+\_\+event} (void)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_acd6f1cd690db5d387dcc60fdbb645718}{mswin\+\_\+exit\+\_\+nhwindows} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a533920622e148bb1602765b792786809}{mswin\+\_\+suspend\+\_\+nhwindows} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a770c1208f41214003268edb8b15eb8b4}{mswin\+\_\+resume\+\_\+nhwindows} ()
\item 
\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} \hyperlink{sys_2wince_2mswproc_8c_a56af9bae2a25aa5377615d61224b2dfb}{mswin\+\_\+create\+\_\+nhwindow} (int \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type})
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a096a654edcca105c2c1be28d22ee0048}{mswin\+\_\+clear\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a6dcbc57af38dfb51a9ea80039dc8a9a2}{mswin\+\_\+display\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, \hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P} block)
\item 
H\+W\+N\+D \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\+\_\+hwnd\+\_\+from\+\_\+winid} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} \hyperlink{sys_2wince_2mswproc_8c_ab8710fc5a763a885ff66eb7e01215fd0}{mswin\+\_\+winid\+\_\+from\+\_\+handle} (H\+W\+N\+D h\+Wnd)
\item 
\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} \hyperlink{sys_2wince_2mswproc_8c_a57e27ce5d15b0dfe1985171f9b966041}{mswin\+\_\+winid\+\_\+from\+\_\+type} (int \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type})
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a2dd95f399fc771e39649d2962c6b04f6}{mswin\+\_\+window\+\_\+mark\+\_\+dead} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a32ff7e6d325974c10325282789d15e49}{mswin\+\_\+destroy\+\_\+nhwindow} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a91d2e60865f62be2bd74f8afd8bad2c6}{mswin\+\_\+curs} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int x, int y)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a586edf714db367d60eebcf3f2c61a508}{mswin\+\_\+putstr} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int attr, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$text)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_aeeecab20a5003598a88a3008835c8baa}{mswin\+\_\+putstr\+\_\+ex} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int attr, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$text, \hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} app)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_af83e3b65f304410b66c12c91259ee510}{mswin\+\_\+display\+\_\+file} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$\hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename}, \hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P} must\+\_\+exist)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_ab474b066703e5fb1cf32ccb58ab4ab72}{mswin\+\_\+start\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a9e5aca57aa18e0bae3e0ffbd396eb094}{mswin\+\_\+add\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int glyph, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} \hyperlink{wintype_8h_ae29f750de92b8a7c2566957e5863fbed}{A\+N\+Y\+\_\+\+P} $\ast$identifier, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} accelerator, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} group\+\_\+accel, int attr, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str, \hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P} presel)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_ac6df26e561723e972cec44a0973f052a}{mswin\+\_\+end\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$prompt)
\item 
int \hyperlink{sys_2wince_2mswproc_8c_afd8e1e10d4b4d59f36856add9e28979f}{mswin\+\_\+select\+\_\+menu} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int how, \hyperlink{wintype_8h_a56b56557611b7f64f4e6585a1b78c8f9}{M\+E\+N\+U\+\_\+\+I\+T\+E\+M\+\_\+\+P} $\ast$$\ast$selected)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a6433399ede33100bcebd691fb3d8c7be}{mswin\+\_\+update\+\_\+inventory} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_af993e944e82074015974564ad73dd225}{mswin\+\_\+mark\+\_\+synch} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_aa0a7ada24bbf66cdd9213f97b401a004}{mswin\+\_\+wait\+\_\+synch} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a7f6e502e24b0302832e4afada1d64805}{mswin\+\_\+cliparound} (int x, int y)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_adada3427db5c86f3a5b5daedfef8eecf}{mswin\+\_\+print\+\_\+glyph} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, \hyperlink{wingem1_8c_abea04566e20888dd08f477de5f4b9289}{X\+C\+H\+A\+R\+\_\+\+P} x, \hyperlink{wingem1_8c_abea04566e20888dd08f477de5f4b9289}{X\+C\+H\+A\+R\+\_\+\+P} y, int glyph)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_af710d0c50e6d609411c4cee463cde502}{mswin\+\_\+raw\+\_\+print} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_ac4a83dc571aef8c90aedd5a94e0afa24}{mswin\+\_\+raw\+\_\+print\+\_\+bold} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$str)
\item 
int \hyperlink{sys_2wince_2mswproc_8c_aed024ee2c1cc72c00ef0c1c47cc3cef4}{mswin\+\_\+nhgetch} ()
\item 
int \hyperlink{sys_2wince_2mswproc_8c_a090070d7e51913ace8e1949512da73ec}{mswin\+\_\+nh\+\_\+poskey} (int $\ast$x, int $\ast$y, int $\ast$mod)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_acfd44b324a001d918123b85df7f81af1}{mswin\+\_\+nhbell} ()
\item 
int \hyperlink{sys_2wince_2mswproc_8c_ac1be9cf34402a6e8ae547527610695be}{mswin\+\_\+doprev\+\_\+message} ()
\item 
char \hyperlink{sys_2wince_2mswproc_8c_ac5159e6dd0c6d3d11d7d7e7d0412104f}{mswin\+\_\+yn\+\_\+function} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$question, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$choices, \hyperlink{wingem1_8c_ada878a8b4864a1658ee0f0acd5a89412}{C\+H\+A\+R\+\_\+\+P} def)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_abba2c51bc4441e5065264ad8893e6a27}{mswin\+\_\+getlin} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$question, char $\ast$\hyperlink{lev__lex_8c_ab77a69608c1c09f3f14d24fce44e09ca}{input})
\item 
int \hyperlink{sys_2wince_2mswproc_8c_a338b016bf6b53e30d631580be77f79c3}{mswin\+\_\+get\+\_\+ext\+\_\+cmd} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_ac1fa66773a0f1a958ec5883396c1024b}{mswin\+\_\+number\+\_\+pad} (int \hyperlink{random_8c_a12a8a0122ec9c2b08b4ef888b28f4c15}{state})
\item 
void \hyperlink{sys_2wince_2mswproc_8c_ad2038b1d6f91f78f744a5857c1964ed7}{mswin\+\_\+delay\+\_\+output} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a87eee679ba2edaf0e72a3ef79fd00d2e}{mswin\+\_\+change\+\_\+color} ()
\item 
char $\ast$ \hyperlink{sys_2wince_2mswproc_8c_a21f94b550332ab8447148fe5f29ae41d}{mswin\+\_\+get\+\_\+color\+\_\+string} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a683d58b72218bf358e3cb3b249ba09a2}{mswin\+\_\+start\+\_\+screen} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a651d87261e68689af4ab7fa386cbe3eb}{mswin\+\_\+end\+\_\+screen} ()
\item 
void \hyperlink{sys_2wince_2mswproc_8c_aa7cfa611ccebcc183e29b4b30fd67489}{mswin\+\_\+outrip} (\hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid, int how)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a6104b99017fa070e5b95408b840ac737}{mswin\+\_\+preference\+\_\+update} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$pref)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_aa32bde5286c21c371bf075670d1a85aa}{bail} (\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$mesg)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a2a23443a8cfc6b5b41024850877e0f5e}{mswin\+\_\+popup\+\_\+display} (H\+W\+N\+D h\+Wnd, int $\ast$done\+\_\+indicator)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a49804134a4aaa8874010372eae4612f9}{mswin\+\_\+popup\+\_\+destroy} (H\+W\+N\+D h\+Wnd)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a418509e1e2b57a5bd8dc163b40d57b5e}{mswin\+\_\+set\+\_\+fullscreen} (B\+O\+O\+L is\+\_\+fullscreen)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a091c3fdba0e00c1ca9da9b244318754c}{mswin\+\_\+read\+\_\+reg} (void)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a698b1843d2012b20457631fad20b0238}{mswin\+\_\+destroy\+\_\+reg} (void)
\item 
void \hyperlink{sys_2wince_2mswproc_8c_a01db214b8bcc177cdc331eb27e24eac0}{mswin\+\_\+write\+\_\+reg} (void)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structwindow__procs}{window\+\_\+procs} \hyperlink{sys_2wince_2mswproc_8c_a64dbea5b4c581d1412e4fa6db6587c89}{mswin\+\_\+procs}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{sys_2wince_2mswproc_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!L\+L\+E\+N@{L\+L\+E\+N}}
\index{L\+L\+E\+N@{L\+L\+E\+N}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{L\+L\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+L\+E\+N~128}}\label{sys_2wince_2mswproc_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}


Definition at line 27 of file mswproc.\+c.



Referenced by mswin\+\_\+display\+\_\+file().



\subsection{Function Documentation}
\hypertarget{sys_2wince_2mswproc_8c_aa32bde5286c21c371bf075670d1a85aa}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!bail@{bail}}
\index{bail@{bail}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{bail}]{\setlength{\rightskip}{0pt plus 5cm}void bail (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{mesg}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_aa32bde5286c21c371bf075670d1a85aa}


Definition at line 1709 of file mswproc.\+c.



Referenced by Main\+Wnd\+Proc(), mswin\+\_\+askname(), mswin\+\_\+player\+\_\+selection(), and prompt\+\_\+for\+\_\+player\+\_\+selection().


\begin{DoxyCode}
1710 \{
1711     \hyperlink{files_8c_a829000f7fe446d1d26a5c4dbc51643c6}{clearlocks}();
1712     \hyperlink{sys_2wince_2mswproc_8c_acd6f1cd690db5d387dcc60fdbb645718}{mswin\_exit\_nhwindows}(mesg);
1713     \hyperlink{end_8c_a30ebaced48494e6e25f8833532ec17ca}{terminate}(\hyperlink{global_8h_a687984f47d8cce148d1b914d2b79612a}{EXIT\_SUCCESS});
1714     \textcolor{comment}{/*NOTREACHED*/}
1715 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_acb9d53f9f46ff9d6d3e721b3979e27a3}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!init\+Map\+Tiles@{init\+Map\+Tiles}}
\index{init\+Map\+Tiles@{init\+Map\+Tiles}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{init\+Map\+Tiles}]{\setlength{\rightskip}{0pt plus 5cm}B\+O\+O\+L init\+Map\+Tiles (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{sys_2wince_2mswproc_8c_acb9d53f9f46ff9d6d3e721b3979e27a3}


Definition at line 1717 of file mswproc.\+c.



References mswin\+\_\+nhwindow\+\_\+app\+::bmp\+Map\+Tiles, C\+O\+L\+N\+O, F\+A\+L\+S\+E, Get\+N\+H\+App(), iflags, mswin\+\_\+nhwindow\+\_\+app\+::map\+Tile\+\_\+\+X, mswin\+\_\+nhwindow\+\_\+app\+::map\+Tile\+\_\+\+Y, mswin\+\_\+nhwindow\+\_\+app\+::map\+Tiles\+Per\+Line, mswin\+\_\+hwnd\+\_\+from\+\_\+winid(), mswin\+\_\+map\+\_\+stretch(), N\+H\+\_\+\+A2\+W, N\+U\+L\+L, raw\+\_\+print, R\+O\+W\+N\+O, S\+I\+Z\+E, total\+\_\+tiles\+\_\+used, T\+R\+U\+E, instance\+\_\+flags\+::wc\+\_\+tile\+\_\+file, instance\+\_\+flags\+::wc\+\_\+tile\+\_\+height, instance\+\_\+flags\+::wc\+\_\+tile\+\_\+width, and W\+I\+N\+\_\+\+M\+A\+P.



Referenced by mswin\+\_\+init\+\_\+nhwindows().


\begin{DoxyCode}
1718 \{
1719     HBITMAP hBmp;
1720     BITMAP  bm;
1721     TCHAR   wbuf[MAX\_PATH];
1722     \textcolor{keywordtype}{int}     tl\_num;
1723     \hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}    map\_size;
1724     \textcolor{keyword}{extern} \textcolor{keywordtype}{int} \hyperlink{wingem1_8c_ab9e267f9b355345083b806bf0948c10b}{total\_tiles\_used};
1725 
1726     \textcolor{comment}{/* no file - no tile */}
1727     \textcolor{keywordflow}{if}( !(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a124beae6172167923de264a085b8bae4}{wc\_tile\_file} && *\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a124beae6172167923de264a085b8bae4}{wc\_tile\_file}) ) 
1728         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1729 
1730     \textcolor{comment}{/* load bitmap */}
1731     hBmp = SHLoadDIBitmap(\hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a124beae6172167923de264a085b8bae4}{wc\_tile\_file}, wbuf, MAX\_PATH));
1732     \textcolor{keywordflow}{if}( hBmp==\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) \{
1733         \hyperlink{winprocs_8h_a49dffdcae248bae8b370f76b434ce744}{raw\_print}(\textcolor{stringliteral}{"Cannot load tiles from the file. Reverting back to default."});
1734         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1735     \}
1736 
1737     \textcolor{comment}{/* calculate tile dimensions */}
1738     GetObject(hBmp, \textcolor{keyword}{sizeof}(BITMAP), (LPVOID)&bm);
1739     \textcolor{keywordflow}{if}( bm.bmWidth%\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a4be58c92f2e9fdc0f00c32655fa9ec2c}{wc\_tile\_width} ||
1740         bm.bmHeight%\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_ac52623febbb46475512c5b3e1cb1d3d7}{wc\_tile\_height} ) \{
1741         DeleteObject(hBmp);
1742         \hyperlink{winprocs_8h_a49dffdcae248bae8b370f76b434ce744}{raw\_print}(\textcolor{stringliteral}{"Tiles bitmap does not match tile\_width and tile\_height options. Reverting back
       to default."});
1743         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1744     \}
1745 
1746     tl\_num = (bm.bmWidth/\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a4be58c92f2e9fdc0f00c32655fa9ec2c}{wc\_tile\_width})*
1747              (bm.bmHeight/\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_ac52623febbb46475512c5b3e1cb1d3d7}{wc\_tile\_height});
1748     \textcolor{keywordflow}{if}( tl\_num<total\_tiles\_used ) \{
1749         DeleteObject(hBmp);
1750         \hyperlink{winprocs_8h_a49dffdcae248bae8b370f76b434ce744}{raw\_print}(\textcolor{stringliteral}{"Number of tiles in the bitmap is less than required by the game. Reverting back
       to default."});
1751         \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1752     \}
1753 
1754     \textcolor{comment}{/* set the tile information */}
1755     \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->bmpMapTiles!=\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->bmpTiles ) \{
1756         DeleteObject(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->bmpMapTiles);
1757     \}
1758 
1759     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a61984761ecf8b4bbc83b25fdddddc8e7}{bmpMapTiles} = hBmp;
1760     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_adb6d803036dca29b82a10f0fbd007edd}{mapTile\_X} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a4be58c92f2e9fdc0f00c32655fa9ec2c}{wc\_tile\_width};
1761     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a699b7a92f8c907030eff6ef5a36d29f3}{mapTile\_Y} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_ac52623febbb46475512c5b3e1cb1d3d7}{wc\_tile\_height};
1762     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a7a89a59512a3bb56005832843339f479}{mapTilesPerLine} = bm.bmWidth / \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a4be58c92f2e9fdc0f00c32655fa9ec2c}{wc\_tile\_width};
1763 
1764     map\_size.cx = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_adb6d803036dca29b82a10f0fbd007edd}{mapTile\_X} * \hyperlink{global_8h_a308dbfcc29f5a427c0315f3cbf03c3ed}{COLNO};
1765     map\_size.cy = \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a699b7a92f8c907030eff6ef5a36d29f3}{mapTile\_Y} * \hyperlink{global_8h_a9cce134868d97b23c35bcf1ff4a343d8}{ROWNO};
1766     \hyperlink{sys_2wince_2mhmap_8c_a02cf8b2ed4e7d6cbd2355d759ad547ef}{mswin\_map\_stretch}(
1767         \hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}),
1768         &map\_size,
1769         \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE} 
1770     );
1771     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1772 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!log\+Debug@{log\+Debug}}
\index{log\+Debug@{log\+Debug}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{log\+Debug}]{\setlength{\rightskip}{0pt plus 5cm}void log\+Debug (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{fmt, }
\item[{}]{...}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}


Definition at line 32 of file mswproc.\+c.



Referenced by mswin\+\_\+add\+\_\+menu(), mswin\+\_\+askname(), mswin\+\_\+change\+\_\+color(), mswin\+\_\+clear\+\_\+nhwindow(), mswin\+\_\+cliparound(), mswin\+\_\+create\+\_\+nhwindow(), mswin\+\_\+curs(), mswin\+\_\+delay\+\_\+output(), mswin\+\_\+destroy\+\_\+nhwindow(), mswin\+\_\+display\+\_\+file(), mswin\+\_\+display\+\_\+nhwindow(), mswin\+\_\+doprev\+\_\+message(), mswin\+\_\+end\+\_\+menu(), mswin\+\_\+end\+\_\+screen(), mswin\+\_\+exit\+\_\+nhwindows(), mswin\+\_\+get\+\_\+color\+\_\+string(), mswin\+\_\+get\+\_\+ext\+\_\+cmd(), mswin\+\_\+get\+\_\+nh\+\_\+event(), mswin\+\_\+getlin(), mswin\+\_\+init\+\_\+nhwindows(), mswin\+\_\+mark\+\_\+synch(), mswin\+\_\+nh\+\_\+poskey(), mswin\+\_\+nhbell(), mswin\+\_\+nhgetch(), mswin\+\_\+number\+\_\+pad(), mswin\+\_\+outrip(), mswin\+\_\+player\+\_\+selection(), mswin\+\_\+print\+\_\+glyph(), mswin\+\_\+putstr(), mswin\+\_\+raw\+\_\+print(), mswin\+\_\+raw\+\_\+print\+\_\+bold(), mswin\+\_\+resume\+\_\+nhwindows(), mswin\+\_\+select\+\_\+menu(), mswin\+\_\+start\+\_\+menu(), mswin\+\_\+start\+\_\+screen(), mswin\+\_\+suspend\+\_\+nhwindows(), mswin\+\_\+update\+\_\+inventory(), mswin\+\_\+wait\+\_\+synch(), mswin\+\_\+yn\+\_\+function(), and prompt\+\_\+for\+\_\+player\+\_\+selection().


\begin{DoxyCode}
32 \{ \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a9e5aca57aa18e0bae3e0ffbd396eb094}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+add\+\_\+menu@{mswin\+\_\+add\+\_\+menu}}
\index{mswin\+\_\+add\+\_\+menu@{mswin\+\_\+add\+\_\+menu}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+add\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+add\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{glyph, }
\item[{{\bf const} {\bf A\+N\+Y\+\_\+\+P} $\ast$}]{identifier, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{accelerator, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{group\+\_\+accel, }
\item[{int}]{attr, }
\item[{{\bf const} char $\ast$}]{str, }
\item[{{\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P}}]{presel}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a9e5aca57aa18e0bae3e0ffbd396eb094}


Definition at line 1061 of file mswproc.\+c.



Referenced by Activate\+Cell().


\begin{DoxyCode}
1064 \{
1065     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_add\_menu(%d, %d, %p, %c, %c, %d, %s, %d)\(\backslash\)n"},
1066              wid, glyph, identifier, (\textcolor{keywordtype}{char})accelerator, (\textcolor{keywordtype}{char})group\_accel,
1067              \hyperlink{structtext__buffer__line_a2f755726b09338da45acd955ab8775e2}{attr}, str, presel);
1068     \textcolor{keywordflow}{if} ((wid >= 0) && 
1069         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
1070         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
1071     \{
1072         \hyperlink{structmswin__nhmsg__add__menu}{MSNHMsgAddMenu} data;
1073         ZeroMemory(&data, \textcolor{keyword}{sizeof}(data));
1074         data.\hyperlink{structmswin__nhmsg__add__menu_a6be452cac105dee1671e9e61bafb58ae}{glyph} = glyph;
1075         data.\hyperlink{structmswin__nhmsg__add__menu_a5ce3f435709df4a7e6442cebba1593ee}{identifier} = identifier;
1076         data.\hyperlink{structmswin__nhmsg__add__menu_abad930c46c0bc05bff9e362d191e6255}{accelerator} = accelerator;
1077         data.\hyperlink{structmswin__nhmsg__add__menu_a5ad28b8447917e56539afb498fffc98a}{group\_accel} = group\_accel;
1078         data.\hyperlink{structmswin__nhmsg__add__menu_a01defd06f0fe00fc1b1986744ad288c9}{attr} = \hyperlink{structtext__buffer__line_a2f755726b09338da45acd955ab8775e2}{attr};
1079         data.\hyperlink{structmswin__nhmsg__add__menu_affef89042e33c9d34265eadc957330d6}{str} = str;
1080         data.\hyperlink{structmswin__nhmsg__add__menu_aff828569cd76f607d077f89e23383938}{presel} = presel;
1081 
1082         SendMessage( 
1083              \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
1084              \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a95b5a261f9ef7b21daae9c1c076d105c}{MSNH\_MSG\_ADDMENU}, (LPARAM)&data
1085         );
1086     \}
1087 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_af2d14c71a888e38a29ba52cb430f51b4}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+askname@{mswin\+\_\+askname}}
\index{mswin\+\_\+askname@{mswin\+\_\+askname}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+askname}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+askname (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_af2d14c71a888e38a29ba52cb430f51b4}


Definition at line 651 of file mswproc.\+c.


\begin{DoxyCode}
652 \{
653     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_askname()\(\backslash\)n"});
654 
655     \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2mhdlg_8c_a39d42e14bc9786f5e2956df063ab92ff}{mswin\_getlin\_window}(\textcolor{stringliteral}{"who are you?"}, \hyperlink{decl_8h_a362b24d8378ea9e5a611cc50d66e354b}{plname}, 
      \hyperlink{global_8h_a06d346f470496500184b39a3c9c4df9d}{PL\_NSIZ})==IDCANCEL ) \{
656         \hyperlink{sys_2wince_2mswproc_8c_aa32bde5286c21c371bf075670d1a85aa}{bail}(\textcolor{stringliteral}{"bye-bye"});
657         \textcolor{comment}{/* not reached */}
658     \}
659 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a87eee679ba2edaf0e72a3ef79fd00d2e}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+change\+\_\+color@{mswin\+\_\+change\+\_\+color}}
\index{mswin\+\_\+change\+\_\+color@{mswin\+\_\+change\+\_\+color}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+change\+\_\+color}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+change\+\_\+color (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a87eee679ba2edaf0e72a3ef79fd00d2e}


Definition at line 1515 of file mswproc.\+c.


\begin{DoxyCode}
1516 \{ 
1517     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_change\_color()\(\backslash\)n"}); 
1518 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a096a654edcca105c2c1be28d22ee0048}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+clear\+\_\+nhwindow@{mswin\+\_\+clear\+\_\+nhwindow}}
\index{mswin\+\_\+clear\+\_\+nhwindow@{mswin\+\_\+clear\+\_\+nhwindow}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+clear\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+clear\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a096a654edcca105c2c1be28d22ee0048}


Definition at line 773 of file mswproc.\+c.



Referenced by mswin\+\_\+get\+\_\+ext\+\_\+cmd(), mswin\+\_\+getlin(), and mswin\+\_\+yn\+\_\+function().


\begin{DoxyCode}
774 \{
775     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_clear\_nhwindow(%d)\(\backslash\)n"}, wid);
776 
777     \textcolor{keywordflow}{if} ((wid >= 0) && 
778         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
779         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
780     \{
781 \textcolor{preprocessor}{#ifdef REINCARNATION}
782         \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP} ) \{
783             \textcolor{keywordflow}{if}( \hyperlink{dungeon_8h_a2732117523c8540638daf4315dda16b9}{Is\_rogue\_level}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz}) ) 
784                 \hyperlink{sys_2wince_2mhmap_8c_a3cc8c75ab01843325bb704d173373fd4}{mswin\_map\_mode}(\hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(
      \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}), \hyperlink{sys_2wince_2mhmap_8h_ad50b7e1f32b9504ad8626095b97528c6}{ROGUE\_LEVEL\_MAP\_MODE});
785             \textcolor{keywordflow}{else} 
786                 \hyperlink{sys_2wince_2mhmap_8c_a3cc8c75ab01843325bb704d173373fd4}{mswin\_map\_mode}(\hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(
      \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}), \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode});
787         \}
788 \textcolor{preprocessor}{#endif}
789 
790          SendMessage( 
791              \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
792              \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a569048188a906452ebb6b755cd9ac662}{MSNH\_MSG\_CLEAR\_WINDOW}, (LPARAM)
      \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
793     \}
794 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a7f6e502e24b0302832e4afada1d64805}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+cliparound@{mswin\+\_\+cliparound}}
\index{mswin\+\_\+cliparound@{mswin\+\_\+cliparound}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+cliparound}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+cliparound (
\begin{DoxyParamCaption}
\item[{int}]{x, }
\item[{int}]{y}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a7f6e502e24b0302832e4afada1d64805}


Definition at line 1192 of file mswproc.\+c.



Referenced by mswin\+\_\+map\+\_\+stretch(), and mswin\+\_\+preference\+\_\+update().


\begin{DoxyCode}
1193 \{
1194     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} wid = \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP};
1195 
1196     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_cliparound(%d, %d)\(\backslash\)n"}, x, y);
1197 
1198     \textcolor{keywordflow}{if} ((wid >= 0) && 
1199         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
1200         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
1201     \{
1202          \hyperlink{structmswin__nhmsg__cliparound}{MSNHMsgClipAround} data;
1203          data.\hyperlink{structmswin__nhmsg__cliparound_aa4c933c98c2996de91a2ef67f3a2da60}{x} = x;
1204          data.\hyperlink{structmswin__nhmsg__cliparound_abc364e920cd9ba1c7e851f369c5ea310}{y} = y;
1205          SendMessage( 
1206              \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
1207              \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a65e9694798c4eb5ef185f3e6a91235ca}{MSNH\_MSG\_CLIPAROUND}, (LPARAM)&data 
      );
1208     \}
1209 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a56af9bae2a25aa5377615d61224b2dfb}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+create\+\_\+nhwindow@{mswin\+\_\+create\+\_\+nhwindow}}
\index{mswin\+\_\+create\+\_\+nhwindow@{mswin\+\_\+create\+\_\+nhwindow}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+create\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}{\bf winid} mswin\+\_\+create\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{int}]{type}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a56af9bae2a25aa5377615d61224b2dfb}


Definition at line 710 of file mswproc.\+c.



Referenced by Activate\+Cell(), and mswin\+\_\+display\+\_\+file().


\begin{DoxyCode}
711 \{
712     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} i = 0;
713     \hyperlink{structmswin__nhmsg__add__wnd}{MSNHMsgAddWnd} data;
714 
715     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_create\_nhwindow(%d)\(\backslash\)n"}, \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type});
716 
717     \textcolor{comment}{/* Return the next available winid}
718 \textcolor{comment}{     */}
719 
720     \textcolor{keywordflow}{for} (i=1; i<\hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}; i++)
721       \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
722           !\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].dead)
723           \textcolor{keywordflow}{break};
724     \textcolor{keywordflow}{if} (i == MAXWINDOWS)
725       \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic} (\textcolor{stringliteral}{"ERROR:  No windows available...\(\backslash\)n"});
726 
727     \textcolor{keywordflow}{switch} (\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type}) \{
728     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP}:
729     \{
730         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = 
      \hyperlink{sys_2wince_2mhmap_8c_acf950cd4cd206210c7758862afe6bd21}{mswin\_init\_map\_window}();
731         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} = \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type};
732         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
733         \textcolor{keywordflow}{break};
734     \}
735     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}:
736     \{
737         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = 
      \hyperlink{sys_2wince_2mhmsgwnd_8c_a1afe35c0c2ce82505b2146a9e4e3eb93}{mswin\_init\_message\_window}();
738         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} = \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type};
739         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
740         \textcolor{keywordflow}{break};
741     \}
742     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}:
743     \{
744         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = 
      \hyperlink{sys_2wince_2mhstatus_8c_a9c3e8d6681671a0a19e6bd2fa94218e4}{mswin\_init\_status\_window}();
745         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} = \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type};
746         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
747         \textcolor{keywordflow}{break};
748     \}    
749     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}:
750     \{
751         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}; \textcolor{comment}{//will create later}
752         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} = \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type};
753         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 1;
754         \textcolor{keywordflow}{break};
755     \} 
756     \textcolor{keywordflow}{case} \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}:
757     \{
758         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = 
      \hyperlink{sys_2wince_2mhtext_8c_ae237f4f0312cd51e1164e51204a49d09}{mswin\_init\_text\_window}();
759         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} = \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type};
760         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[i].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
761         \textcolor{keywordflow}{break};
762     \}
763     \}
764 
765     ZeroMemory(&data, \textcolor{keyword}{sizeof}(data) );
766     data.\hyperlink{structmswin__nhmsg__add__wnd_a15b37d8b9e61c6fe986469e012399c60}{wid} = i;
767     SendMessage( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, 
768                  \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a2140abf16c9efa5932902234883568df}{MSNH\_MSG\_ADDWND}, (LPARAM)&data );
769     \textcolor{keywordflow}{return} i;
770 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a91d2e60865f62be2bd74f8afd8bad2c6}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+curs@{mswin\+\_\+curs}}
\index{mswin\+\_\+curs@{mswin\+\_\+curs}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+curs}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+curs (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{x, }
\item[{int}]{y}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a91d2e60865f62be2bd74f8afd8bad2c6}


Definition at line 897 of file mswproc.\+c.


\begin{DoxyCode}
898 \{
899     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_curs(%d, %d, %d)\(\backslash\)n"}, wid, x, y);
900 
901     \textcolor{keywordflow}{if} ((wid >= 0) && 
902         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
903         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
904     \{
905          \hyperlink{structmswin__nhmsg__cursor}{MSNHMsgCursor} data;
906          data.\hyperlink{structmswin__nhmsg__cursor_a1bb0698246733cc297b66a312b33e743}{x} = x;
907          data.\hyperlink{structmswin__nhmsg__cursor_a4ecc187448dc2dbd8806212e5f7a4a16}{y} = y;
908          SendMessage( 
909              \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
910              \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_ad4b0bf60c918e045e8511e014f64f021}{MSNH\_MSG\_CURSOR}, (LPARAM)&data );
911     \}
912 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ad2038b1d6f91f78f744a5857c1964ed7}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+delay\+\_\+output@{mswin\+\_\+delay\+\_\+output}}
\index{mswin\+\_\+delay\+\_\+output@{mswin\+\_\+delay\+\_\+output}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+delay\+\_\+output}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+delay\+\_\+output (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ad2038b1d6f91f78f744a5857c1964ed7}


Definition at line 1509 of file mswproc.\+c.


\begin{DoxyCode}
1510 \{
1511     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_delay\_output()\(\backslash\)n"});
1512     Sleep(50);
1513 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a32ff7e6d325974c10325282789d15e49}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+destroy\+\_\+nhwindow@{mswin\+\_\+destroy\+\_\+nhwindow}}
\index{mswin\+\_\+destroy\+\_\+nhwindow@{mswin\+\_\+destroy\+\_\+nhwindow}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+destroy\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+destroy\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a32ff7e6d325974c10325282789d15e49}


Definition at line 871 of file mswproc.\+c.



Referenced by Activate\+Cell(), and mswin\+\_\+display\+\_\+file().


\begin{DoxyCode}
872 \{
873     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_destroy\_nhwindow(%d)\(\backslash\)n"}, wid);
874 
875     \textcolor{keywordflow}{if} ((\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP}) || 
876         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}) || 
877         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS})) \{
878         \textcolor{comment}{/* main windows is going to take care of those */}
879         \textcolor{keywordflow}{return};
880     \}
881 
882     \textcolor{keywordflow}{if} (wid != -1) \{
883         \textcolor{keywordflow}{if}( !\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].dead &&
884             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) 
885             DestroyWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win);
886         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
887         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} = 0;
888         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
889     \}
890 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a698b1843d2012b20457631fad20b0238}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+destroy\+\_\+reg@{mswin\+\_\+destroy\+\_\+reg}}
\index{mswin\+\_\+destroy\+\_\+reg@{mswin\+\_\+destroy\+\_\+reg}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+destroy\+\_\+reg}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+destroy\+\_\+reg (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a698b1843d2012b20457631fad20b0238}


Definition at line 1939 of file mswproc.\+c.



Referenced by on\+W\+M\+Command().


\begin{DoxyCode}
1940 \{
1941 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_af83e3b65f304410b66c12c91259ee510}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+display\+\_\+file@{mswin\+\_\+display\+\_\+file}}
\index{mswin\+\_\+display\+\_\+file@{mswin\+\_\+display\+\_\+file}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+display\+\_\+file}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+display\+\_\+file (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{filename, }
\item[{{\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P}}]{must\+\_\+exist}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_af83e3b65f304410b66c12c91259ee510}


Definition at line 972 of file mswproc.\+c.


\begin{DoxyCode}
973 \{
974     \hyperlink{dlb_8h_a2c91af84569791b69abdf2b4644b0ddd}{dlb} *f;
975     TCHAR wbuf[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
976 
977     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_display\_file(%s, %d)\(\backslash\)n"}, \hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename}, must\_exist);
978 
979     f = \hyperlink{dlb_8h_a46a9ab27d1ae601750baeacc2c0a8d44}{dlb\_fopen}(\hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename}, \hyperlink{dlb_8h_a52b55e796a44079bc56afab59e8c0c89}{RDTMODE});
980     \textcolor{keywordflow}{if} (!f) \{
981         \textcolor{keywordflow}{if} (must\_exist) \{
982             TCHAR message[90];
983             \_stprintf(message, TEXT(\textcolor{stringliteral}{"Warning! Could not find file: %s\(\backslash\)n"}), 
      \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}(\hyperlink{makedefs_8c_ac1ccfd52478f58f8d268ad6bb486bef0}{filename}, wbuf, \textcolor{keyword}{sizeof}(wbuf)));
984             \hyperlink{sys_2wince_2winhack_8c_a2879dc701085dff777122c1a265cc67f}{MessageBox}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, message, TEXT(\textcolor{stringliteral}{"ERROR"}), MB\_OK | MB\_ICONERROR
       );
985         \} 
986     \} \textcolor{keywordflow}{else} \{
987         \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} \hyperlink{structtext__buffer__line_ab3af8e4e600d655d06c514cd743eca92}{text};
988         \textcolor{keywordtype}{char} line[\hyperlink{sys_2wince_2mswproc_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN}];
989 
990         text = \hyperlink{sys_2wince_2mswproc_8c_a56af9bae2a25aa5377615d61224b2dfb}{mswin\_create\_nhwindow}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT});
991 
992         \textcolor{keywordflow}{while} (\hyperlink{dlb_8h_a0c5a17bfc873332e8ef26262d8527e91}{dlb\_fgets}(line, \hyperlink{sys_2wince_2mswproc_8c_a4dbdeec6f3fa43f11b22a95cd6fe2172}{LLEN}, f)) \{
993              \textcolor{keywordtype}{size\_t} len;
994              len = strlen(line);
995              \textcolor{keywordflow}{if}( line[len-1]==\textcolor{charliteral}{'\(\backslash\)n'} ) line[len-1]=\textcolor{stringliteral}{'\(\backslash\)x0'};
996                 \hyperlink{sys_2wince_2mswproc_8c_a586edf714db367d60eebcf3f2c61a508}{mswin\_putstr}(text, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, line);
997         \}
998         (void) \hyperlink{dlb_8h_a882e4d8dcdf2cd3d9eee2b94debe38e1}{dlb\_fclose}(f);
999 
1000         \hyperlink{sys_2wince_2mswproc_8c_a6dcbc57af38dfb51a9ea80039dc8a9a2}{mswin\_display\_nhwindow}(text, 1);
1001         \hyperlink{sys_2wince_2mswproc_8c_a32ff7e6d325974c10325282789d15e49}{mswin\_destroy\_nhwindow}(text);
1002     \}
1003 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a6dcbc57af38dfb51a9ea80039dc8a9a2}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+display\+\_\+nhwindow@{mswin\+\_\+display\+\_\+nhwindow}}
\index{mswin\+\_\+display\+\_\+nhwindow@{mswin\+\_\+display\+\_\+nhwindow}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+display\+\_\+nhwindow}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+display\+\_\+nhwindow (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{{\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P}}]{block}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a6dcbc57af38dfb51a9ea80039dc8a9a2}


Definition at line 805 of file mswproc.\+c.



Referenced by mswin\+\_\+display\+\_\+file().


\begin{DoxyCode}
806 \{
807     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_display\_nhwindow(%d, %d)\(\backslash\)n"}, wid, block);
808     \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
809     \{
810         \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}) \{
811             \hyperlink{wintype_8h_a56b56557611b7f64f4e6585a1b78c8f9}{MENU\_ITEM\_P}* p;
812             \hyperlink{sys_2wince_2mhmenu_8c_ad900b8c309861a1826a11b4c49432c2a}{mswin\_menu\_window\_select\_menu}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].
      win, \hyperlink{wintype_8h_a9e3d317126c3eacb6311e15fedaf717c}{PICK\_NONE}, &p);
813         \} \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}) \{
814             \hyperlink{sys_2wince_2mhtext_8c_a5eedafc31b1220d01c9bc9d8823e5ecb}{mswin\_display\_text\_window}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win);
815         \} \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{sys_2wince_2winMS_8h_a0143988c915f8d929be99e4c918a5b6b}{NHW\_RIP}) \{
816             \hyperlink{sys_2wince_2mhrip_8c_aadbdb5deceb926c391714cf64d3c18bd}{mswin\_display\_RIP\_window}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win);
817         \} \textcolor{keywordflow}{else} \{
818             \textcolor{keywordflow}{if}( !block ) \{
819                 UpdateWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win);
820             \} \textcolor{keywordflow}{else} \{
821                 \textcolor{keywordflow}{if} ( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{wintype_8h_a756172f2e22a3d287cfaf6bc771df606}{NHW\_MAP} ) \{
822                     (void) \hyperlink{sys_2wince_2mswproc_8c_aed024ee2c1cc72c00ef0c1c47cc3cef4}{mswin\_nhgetch}();
823                 \}
824             \}
825         \}
826         SetFocus(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd);
827     \}
828 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ac1be9cf34402a6e8ae547527610695be}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+doprev\+\_\+message@{mswin\+\_\+doprev\+\_\+message}}
\index{mswin\+\_\+doprev\+\_\+message@{mswin\+\_\+doprev\+\_\+message}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+doprev\+\_\+message}]{\setlength{\rightskip}{0pt plus 5cm}int mswin\+\_\+doprev\+\_\+message (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ac1be9cf34402a6e8ae547527610695be}


Definition at line 1338 of file mswproc.\+c.


\begin{DoxyCode}
1339 \{
1340     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_doprev\_message()\(\backslash\)n"});
1341     SendMessage(\hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}), WM\_VSCROLL, MAKEWPARAM(
      SB\_LINEUP, 0), (LPARAM)\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}); 
1342     \textcolor{keywordflow}{return} 0;
1343 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ac6df26e561723e972cec44a0973f052a}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+end\+\_\+menu@{mswin\+\_\+end\+\_\+menu}}
\index{mswin\+\_\+end\+\_\+menu@{mswin\+\_\+end\+\_\+menu}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+end\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+end\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{{\bf const} char $\ast$}]{prompt}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ac6df26e561723e972cec44a0973f052a}


Definition at line 1098 of file mswproc.\+c.



Referenced by Activate\+Cell().


\begin{DoxyCode}
1099 \{
1100     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_end\_menu(%d, %s)\(\backslash\)n"}, wid, prompt);
1101     \textcolor{keywordflow}{if} ((wid >= 0) && 
1102         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
1103         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
1104     \{
1105         \hyperlink{structmswin__nhmsg__end__menu}{MSNHMsgEndMenu} data;
1106         ZeroMemory(&data, \textcolor{keyword}{sizeof}(data));
1107         data.\hyperlink{structmswin__nhmsg__end__menu_ad09bb3853bacd831228b72ab2bd9e4eb}{text} = prompt;
1108 
1109         SendMessage( 
1110              \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
1111              \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a84f0789ba098698824ad1fdaeb83bb2b}{MSNH\_MSG\_ENDMENU}, (LPARAM)&data
1112         );
1113     \}
1114 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a651d87261e68689af4ab7fa386cbe3eb}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+end\+\_\+screen@{mswin\+\_\+end\+\_\+screen}}
\index{mswin\+\_\+end\+\_\+screen@{mswin\+\_\+end\+\_\+screen}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+end\+\_\+screen}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+end\+\_\+screen (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a651d87261e68689af4ab7fa386cbe3eb}


Definition at line 1543 of file mswproc.\+c.


\begin{DoxyCode}
1544 \{
1545     \textcolor{comment}{/* Do Nothing */}
1546     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_end\_screen()\(\backslash\)n"});
1547 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_acd6f1cd690db5d387dcc60fdbb645718}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+exit\+\_\+nhwindows@{mswin\+\_\+exit\+\_\+nhwindows}}
\index{mswin\+\_\+exit\+\_\+nhwindows@{mswin\+\_\+exit\+\_\+nhwindows}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+exit\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+exit\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_acd6f1cd690db5d387dcc60fdbb645718}


Definition at line 674 of file mswproc.\+c.



Referenced by bail().


\begin{DoxyCode}
675 \{
676     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_exit\_nhwindows(%s)\(\backslash\)n"}, str);
677 
678     \textcolor{comment}{/* Write Window settings to the registry */}
679     \hyperlink{sys_2wince_2mswproc_8c_a01db214b8bcc177cdc331eb27e24eac0}{mswin\_write\_reg}();
680 
681     \textcolor{comment}{// Don't do any of this (?) - exit\_nhwindows does not terminate }
682     \textcolor{comment}{// the application}
683     \textcolor{comment}{// DestroyWindow(GetNHApp()->hMainWnd);}
684     \textcolor{comment}{// terminate(EXIT\_SUCCESS);}
685 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a21f94b550332ab8447148fe5f29ae41d}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+get\+\_\+color\+\_\+string@{mswin\+\_\+get\+\_\+color\+\_\+string}}
\index{mswin\+\_\+get\+\_\+color\+\_\+string@{mswin\+\_\+get\+\_\+color\+\_\+string}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+get\+\_\+color\+\_\+string}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ mswin\+\_\+get\+\_\+color\+\_\+string (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a21f94b550332ab8447148fe5f29ae41d}


Definition at line 1520 of file mswproc.\+c.


\begin{DoxyCode}
1521 \{ 
1522     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_get\_color\_string()\(\backslash\)n"});
1523     \textcolor{keywordflow}{return}( \textcolor{stringliteral}{""} ); 
1524 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a338b016bf6b53e30d631580be77f79c3}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+get\+\_\+ext\+\_\+cmd@{mswin\+\_\+get\+\_\+ext\+\_\+cmd}}
\index{mswin\+\_\+get\+\_\+ext\+\_\+cmd@{mswin\+\_\+get\+\_\+ext\+\_\+cmd}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+get\+\_\+ext\+\_\+cmd}]{\setlength{\rightskip}{0pt plus 5cm}int mswin\+\_\+get\+\_\+ext\+\_\+cmd (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a338b016bf6b53e30d631580be77f79c3}


Definition at line 1482 of file mswproc.\+c.


\begin{DoxyCode}
1483 \{
1484     \textcolor{keywordtype}{int} ret;
1485     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_get\_ext\_cmd()\(\backslash\)n"});
1486 
1487     \textcolor{keywordflow}{if}(\hyperlink{sys_2wince_2mhdlg_8c_ad4240b065b7b8e476803050a29181a20}{mswin\_ext\_cmd\_window} (&ret) == IDCANCEL)
1488         \textcolor{keywordflow}{return} -1;
1489     \textcolor{keywordflow}{else} 
1490         \textcolor{keywordflow}{return} ret;
1491 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_aa87d5423313412d1bbbecee0c8280880}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+get\+\_\+nh\+\_\+event@{mswin\+\_\+get\+\_\+nh\+\_\+event}}
\index{mswin\+\_\+get\+\_\+nh\+\_\+event@{mswin\+\_\+get\+\_\+nh\+\_\+event}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+get\+\_\+nh\+\_\+event}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+get\+\_\+nh\+\_\+event (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_aa87d5423313412d1bbbecee0c8280880}


Definition at line 665 of file mswproc.\+c.



Referenced by mswin\+\_\+putstr\+\_\+ex().


\begin{DoxyCode}
666 \{
667     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_get\_nh\_event()\(\backslash\)n"});
668     \textcolor{keywordflow}{return};
669 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_abba2c51bc4441e5065264ad8893e6a27}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+getlin@{mswin\+\_\+getlin}}
\index{mswin\+\_\+getlin@{mswin\+\_\+getlin}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+getlin}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+getlin (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{question, }
\item[{char $\ast$}]{input}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_abba2c51bc4441e5065264ad8893e6a27}


Definition at line 1468 of file mswproc.\+c.



Referenced by on\+List\+Char().


\begin{DoxyCode}
1469 \{
1470     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_getlin(%s, %p)\(\backslash\)n"}, question, \hyperlink{dgn__lex_8c_ab77a69608c1c09f3f14d24fce44e09ca}{input});
1471     \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2mhdlg_8c_a39d42e14bc9786f5e2956df063ab92ff}{mswin\_getlin\_window}(question, \hyperlink{dgn__lex_8c_ab77a69608c1c09f3f14d24fce44e09ca}{input}, \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ})==IDCANCEL ) \{
1472         strcpy(\hyperlink{dgn__lex_8c_ab77a69608c1c09f3f14d24fce44e09ca}{input}, \textcolor{stringliteral}{"\(\backslash\)033"});
1473     \}
1474 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+hwnd\+\_\+from\+\_\+winid@{mswin\+\_\+hwnd\+\_\+from\+\_\+winid}}
\index{mswin\+\_\+hwnd\+\_\+from\+\_\+winid@{mswin\+\_\+hwnd\+\_\+from\+\_\+winid}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+hwnd\+\_\+from\+\_\+winid}]{\setlength{\rightskip}{0pt plus 5cm}H\+W\+N\+D mswin\+\_\+hwnd\+\_\+from\+\_\+winid (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}


Definition at line 831 of file mswproc.\+c.



Referenced by Getlin\+Dlg\+Proc(), init\+Map\+Tiles(), Main\+Wnd\+Proc(), mswin\+\_\+clear\+\_\+nhwindow(), mswin\+\_\+display\+\_\+\+R\+I\+P\+\_\+window(), mswin\+\_\+display\+\_\+splash\+\_\+window(), mswin\+\_\+doprev\+\_\+message(), mswin\+\_\+finish\+\_\+rip\+\_\+text(), mswin\+\_\+get\+\_\+ext\+\_\+cmd(), mswin\+\_\+getlin(), mswin\+\_\+layout\+\_\+main\+\_\+window(), mswin\+\_\+preference\+\_\+update(), mswin\+\_\+select\+\_\+map\+\_\+mode(), and mswin\+\_\+yn\+\_\+function().


\begin{DoxyCode}
832 \{
833     \textcolor{keywordflow}{if}( wid>=0 && wid<\hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) \{
834         \textcolor{keywordflow}{return} \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win};
835     \} \textcolor{keywordflow}{else} \{
836         \textcolor{keywordflow}{return} \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
837     \}
838 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_aa229f7130a6c56025647cefbb82b53f4}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+init\+\_\+nhwindows@{mswin\+\_\+init\+\_\+nhwindows}}
\index{mswin\+\_\+init\+\_\+nhwindows@{mswin\+\_\+init\+\_\+nhwindows}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+init\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+init\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{argc, }
\item[{char $\ast$$\ast$}]{argv}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_aa229f7130a6c56025647cefbb82b53f4}


Definition at line 114 of file mswproc.\+c.


\begin{DoxyCode}
115 \{
116     HWND hWnd;
117     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_init\_nhwindows()\(\backslash\)n"});
118 
119 \textcolor{preprocessor}{#ifdef \_DEBUG}
120     \{
121         \textcolor{comment}{/* truncate trace file */}
122         FILE *dfp = fopen(\textcolor{stringliteral}{"nhtrace.log"}, \textcolor{stringliteral}{"w"});
123         fclose(dfp);
124     \}
125 \textcolor{preprocessor}{#endif}
126 
127     \textcolor{comment}{/* intialize input subsystem */}
128     \hyperlink{sys_2wince_2mhinput_8c_abc3c9f12d2e8d7ca529bac1215f79672}{mswin\_nh\_input\_init}();
129 
130     \textcolor{comment}{/* read registry settings */}
131     \hyperlink{sys_2wince_2mswproc_8c_a091c3fdba0e00c1ca9da9b244318754c}{mswin\_read\_reg}();
132 
133     \textcolor{comment}{/* set it to WIN\_ERR so we can detect attempts to}
134 \textcolor{comment}{       use this ID before it is inialized */}
135     \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP} = \hyperlink{wintype_8h_a56d1f4f2e517a4e81be0b7593e35e681}{WIN\_ERR};
136 
137     \textcolor{comment}{/* check default values */}
138     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_afc85b364ccf07dbaf9e752ed5989d55e}{wc\_fontsiz\_status}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
139         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_afc85b364ccf07dbaf9e752ed5989d55e}{wc\_fontsiz\_status}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
140         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_afc85b364ccf07dbaf9e752ed5989d55e}{wc\_fontsiz\_status} = 
      \hyperlink{sys_2wince_2winMS_8h_a7442f104aaefe87a775e29f3c6f6a9d7}{NHFONT\_STATUS\_DEFAULT\_SIZE};
141 
142     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
143         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
144         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message} = \hyperlink{sys_2wince_2winMS_8h_a3e36546d4d3bf2ad78c8769ed202f8fd}{NHFONT\_DEFAULT\_SIZE};
145 
146     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
147         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
148         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text} = \hyperlink{sys_2wince_2winMS_8h_a3e36546d4d3bf2ad78c8769ed202f8fd}{NHFONT\_DEFAULT\_SIZE};
149 
150     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adc1e0097a78217c13f627b0ded61338d}{wc\_fontsiz\_menu}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
151         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adc1e0097a78217c13f627b0ded61338d}{wc\_fontsiz\_menu}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
152         \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adc1e0097a78217c13f627b0ded61338d}{wc\_fontsiz\_menu} = \hyperlink{sys_2wince_2winMS_8h_a3e36546d4d3bf2ad78c8769ed202f8fd}{NHFONT\_DEFAULT\_SIZE};
153 
154     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a1072207cf89377c1bf7a1891be5f66da}{wc\_align\_message}==0 ) \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a1072207cf89377c1bf7a1891be5f66da}{wc\_align\_message} = \hyperlink{winprocs_8h_ab546a081cc65499710bf3e8165a1477b}{ALIGN\_BOTTOM};
155     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a59e71b710998b8e0a611d775cee0dded}{wc\_align\_status}==0 ) \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a59e71b710998b8e0a611d775cee0dded}{wc\_align\_status} = \hyperlink{winprocs_8h_a22259b290850e32bb66006d1e215aff1}{ALIGN\_TOP};
156     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_acc0ddbf55d8eaa67df7b5a70d17448b8}{wc\_scroll\_margin}==0 ) \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_acc0ddbf55d8eaa67df7b5a70d17448b8}{wc\_scroll\_margin} = \hyperlink{sys_2wince_2mhmap_8h_aa287a33b047f21323504be68f4c23d56}{DEF\_CLIPAROUND\_MARGIN};
157     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a4be58c92f2e9fdc0f00c32655fa9ec2c}{wc\_tile\_width}==0 ) \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a4be58c92f2e9fdc0f00c32655fa9ec2c}{wc\_tile\_width} = 
      \hyperlink{sys_2wince_2winMS_8h_a9f3fae6a9058d02850af5deba9be4544}{TILE\_X};
158     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_ac52623febbb46475512c5b3e1cb1d3d7}{wc\_tile\_height}==0 ) \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_ac52623febbb46475512c5b3e1cb1d3d7}{wc\_tile\_height} = \hyperlink{sys_2wince_2winMS_8h_a4a62524a49a9be02996b8e667b45abc9}{TILE\_Y};
159 
160     \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a5dae0b9030e73537ec058bfb1b5f0291}{wc\_vary\_msgcount}==0 ) \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.
      \hyperlink{structinstance__flags_a5dae0b9030e73537ec058bfb1b5f0291}{wc\_vary\_msgcount} = 3;
161 
162     \textcolor{comment}{/* force tabs in menus */}
163     \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a85c9a72818b89578114f16b9f26a95c0}{menu\_tab\_sep} = 1;
164 
165     \textcolor{comment}{/* force toptenwin to be true.  toptenwin is the option that decides whether to}
166 \textcolor{comment}{     * write output to a window or stdout.  stdout doesn't make sense on Windows}
167 \textcolor{comment}{     * non-console applications}
168 \textcolor{comment}{     */}
169     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a82cef9011b510b91ae45af332672fcc6}{toptenwin} = 1;
170     \hyperlink{options_8c_a2b94ffacfcf7ac470a99aec3b2d8686b}{set\_option\_mod\_status}(\textcolor{stringliteral}{"toptenwin"}, \hyperlink{hack_8h_a499becbf729463cf6d3a25e31077522a}{SET\_IN\_FILE});
171 
172     \textcolor{comment}{/* initialize map tiles bitmap */}
173     \hyperlink{sys_2wince_2mswproc_8c_acb9d53f9f46ff9d6d3e721b3979e27a3}{initMapTiles}();
174 
175     \textcolor{comment}{/* set tile-related options to readonly */}
176     \hyperlink{options_8c_a2f53c130d6dc39ef10767feeadd52d48}{set\_wc\_option\_mod\_status}(
177        \hyperlink{winprocs_8h_a7d2346102233c9bcbb47e5a09e4737ea}{WC\_TILE\_WIDTH}|\hyperlink{winprocs_8h_aec86bb08f7de06942fa446b84514be12}{WC\_TILE\_HEIGHT}|\hyperlink{winprocs_8h_a91d167a6c27fe0ae6fd2eff0c4023c1c}{WC\_TILE\_FILE},
178        \hyperlink{hack_8h_a85bddc27e495e22cc80a321be0446fb0}{DISP\_IN\_GAME});
179 
180     \textcolor{comment}{/* init color table */}
181     \hyperlink{mhcolor_8c_a9a81b334da59d65759927c9b10affbe8}{mswin\_init\_color\_table}();
182 
183     \textcolor{comment}{/* set font-related options to change in the game */}
184     \hyperlink{options_8c_a2f53c130d6dc39ef10767feeadd52d48}{set\_wc\_option\_mod\_status}(
185         \hyperlink{winprocs_8h_aed6105dd9509d77a4abee8b7b7ca8143}{WC\_HILITE\_PET} |
186         \hyperlink{winprocs_8h_a828777e717c518f0eb4aa1bafdfc2651}{WC\_ALIGN\_MESSAGE} | 
187         \hyperlink{winprocs_8h_aca97b5f134bb2b1e29c2d4ad1eaee8d1}{WC\_ALIGN\_STATUS} |
188         \hyperlink{winprocs_8h_aaf5e233d400ce9a0a7ef76a3d8d0959e}{WC\_SCROLL\_MARGIN} | 
189         \hyperlink{winprocs_8h_ac432459c9f8051ea19ed5adf453da2e2}{WC\_MAP\_MODE} |
190         \hyperlink{winprocs_8h_a00a502766b5f0891aa45562972a26655}{WC\_FONT\_MESSAGE} |
191         \hyperlink{winprocs_8h_a8b47299a6bb9a7a48a8fcdac1ececa43}{WC\_FONT\_STATUS} |
192         \hyperlink{winprocs_8h_a2e92c8ba2578a71b53d4edb3fbadbb38}{WC\_FONT\_MENU} |
193         \hyperlink{winprocs_8h_a92a9f9c2f5a53aca05a078028e0b7715}{WC\_FONT\_TEXT} |
194         \hyperlink{winprocs_8h_a93bd7a0f067606885936c977843a995f}{WC\_FONTSIZ\_MESSAGE} | 
195         \hyperlink{winprocs_8h_a852fc7704fadf4e4802753accbf3acca}{WC\_FONTSIZ\_STATUS} | 
196         \hyperlink{winprocs_8h_a3dc36e61ff1559c9dff328ed0c96b766}{WC\_FONTSIZ\_MENU} | 
197         \hyperlink{winprocs_8h_a42ea26ac8ce43532a112a93c23263354}{WC\_FONTSIZ\_TEXT} |
198         \hyperlink{winprocs_8h_a3dd99c0ef6bcc37027405502b2585853}{WC\_VARY\_MSGCOUNT},
199         \hyperlink{hack_8h_a85493f074ab0108e0fef9369e11d58ea}{SET\_IN\_GAME} 
200     );
201 
202     \textcolor{comment}{/* WC2 options */}
203     \hyperlink{options_8c_abd6272106f5e4851ac98b4cf1db1b037}{set\_wc2\_option\_mod\_status}(
204         \hyperlink{winprocs_8h_a5301ac41e15a03b073d32be9e55adf08}{WC2\_FULLSCREEN}|
205         \hyperlink{winprocs_8h_a9efe88f3df8c03aabb7869dbdfe33db7}{WC2\_SOFTKEYBOARD},
206         \hyperlink{hack_8h_a499becbf729463cf6d3a25e31077522a}{SET\_IN\_FILE}
207     );
208     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a03ec520343918e83b3b20c9c08ee9d57}{bFullScreen} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a638a1aa6b9b6e53d7089d1baa3a1b05a}{wc2\_fullscreen};
209     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_af8a7fc1fc5568f109bb31fd054a38470}{bUseSIP} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_ad2bead45f3c69306cd123eaa8d1b296f}{wc2\_softkeyboard};
210     
211     \hyperlink{options_8c_abd6272106f5e4851ac98b4cf1db1b037}{set\_wc2\_option\_mod\_status}(
212         \hyperlink{winprocs_8h_acd436dd2d1e09d00dabe50f9c60cb187}{WC2\_WRAPTEXT},
213         \hyperlink{hack_8h_a85493f074ab0108e0fef9369e11d58ea}{SET\_IN\_GAME}
214     );
215     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a602ad0b692afb2be5e62dbec41942b17}{bWrapText} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a30ed864bd7a69483c6ca4eefbcf628b5}{wc2\_wraptext};
216 
217     \textcolor{comment}{/* create the main nethack window */}
218     hWnd = \hyperlink{sys_2wince_2mhmain_8c_af914e5694d808942cfff9fc0d3fbe44d}{mswin\_init\_main\_window}();
219     \textcolor{keywordflow}{if} (!hWnd) \hyperlink{txt2iff_8c_ab0824b6f5eb51db9371d2e9a222249d3}{panic}( \textcolor{stringliteral}{"Cannot create the main window."} );
220     ShowWindow(hWnd, \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->nCmdShow);
221     UpdateWindow(hWnd);
222     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ada318d77e9dd51678af5d9a3ce6ef03a}{hMainWnd} = hWnd;
223 
224     \textcolor{comment}{/* set Full screen if requested */}
225     \hyperlink{sys_2wince_2mswproc_8c_a418509e1e2b57a5bd8dc163b40d57b5e}{mswin\_set\_fullscreen}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->bFullScreen);
226 
227     \textcolor{comment}{/* let nethack code know that the window subsystem is ready */}
228     \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a2fc6c78c4c5f6e1d0027ac575135426f}{window\_inited} = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
229 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ad3ff4e54b425e4e94d7505395def2b2b}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+main\+\_\+loop@{mswin\+\_\+main\+\_\+loop}}
\index{mswin\+\_\+main\+\_\+loop@{mswin\+\_\+main\+\_\+loop}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+main\+\_\+loop}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+main\+\_\+loop (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{sys_2wince_2mswproc_8c_ad3ff4e54b425e4e94d7505395def2b2b}


Definition at line 1695 of file mswproc.\+c.



References Get\+N\+H\+App(), mswin\+\_\+have\+\_\+input(), and N\+U\+L\+L.



Referenced by mswin\+\_\+nh\+\_\+poskey(), and mswin\+\_\+nhgetch().


\begin{DoxyCode}
1696 \{
1697     MSG msg;
1698 
1699     \textcolor{keywordflow}{while}( !\hyperlink{wceconf_8h_ac3f8f3ca6bf373418ca678c94249d550}{mswin\_have\_input}() &&
1700            GetMessage(&msg, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0, 0)!=0 ) \{
1701         \textcolor{keywordflow}{if} (!TranslateAccelerator(msg.hwnd, \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hAccelTable, &msg)) \{
1702             TranslateMessage(&msg);
1703             DispatchMessage(&msg);
1704         \}
1705     \} 
1706 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_af993e944e82074015974564ad73dd225}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+mark\+\_\+synch@{mswin\+\_\+mark\+\_\+synch}}
\index{mswin\+\_\+mark\+\_\+synch@{mswin\+\_\+mark\+\_\+synch}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+mark\+\_\+synch}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+mark\+\_\+synch (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_af993e944e82074015974564ad73dd225}


Definition at line 1171 of file mswproc.\+c.


\begin{DoxyCode}
1172 \{
1173     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_mark\_synch()\(\backslash\)n"});
1174 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a090070d7e51913ace8e1949512da73ec}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+nh\+\_\+poskey@{mswin\+\_\+nh\+\_\+poskey}}
\index{mswin\+\_\+nh\+\_\+poskey@{mswin\+\_\+nh\+\_\+poskey}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+nh\+\_\+poskey}]{\setlength{\rightskip}{0pt plus 5cm}int mswin\+\_\+nh\+\_\+poskey (
\begin{DoxyParamCaption}
\item[{int $\ast$}]{x, }
\item[{int $\ast$}]{y, }
\item[{int $\ast$}]{mod}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a090070d7e51913ace8e1949512da73ec}


Definition at line 1304 of file mswproc.\+c.



Referenced by on\+M\+S\+N\+H\+Command().


\begin{DoxyCode}
1305 \{
1306     \hyperlink{structmswin__event}{PMSNHEvent} event;
1307     \textcolor{keywordtype}{int} key;
1308 
1309     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_nh\_poskey()\(\backslash\)n"});
1310 
1311     \textcolor{keywordflow}{while}( (event = \hyperlink{sys_2wince_2mhinput_8c_a956ca789dfd164267928c8d98e3ee13b}{mswin\_input\_pop}())==\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) 
      \hyperlink{sys_2wince_2mswproc_8c_ad3ff4e54b425e4e94d7505395def2b2b}{mswin\_main\_loop}();
1312 
1313     \textcolor{keywordflow}{if}( event->\hyperlink{structmswin__event_a2cd42be6dadd3c4d0340108b1c92fee7}{type}==\hyperlink{sys_2wince_2mhinput_8h_aefbe332d9b3e2ce9643ecb71acda73d0}{NHEVENT\_MOUSE} ) \{
1314         *mod = \textcolor{keyword}{event}->ms.mod;
1315         *x = \textcolor{keyword}{event}->ms.x;
1316         *y = \textcolor{keyword}{event}->ms.y;
1317         key = 0;
1318     \} \textcolor{keywordflow}{else} \{
1319         key = \textcolor{keyword}{event}->kbd.ch;
1320     \}
1321     \textcolor{keywordflow}{return} (key);
1322 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_acfd44b324a001d918123b85df7f81af1}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+nhbell@{mswin\+\_\+nhbell}}
\index{mswin\+\_\+nhbell@{mswin\+\_\+nhbell}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+nhbell}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+nhbell (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_acfd44b324a001d918123b85df7f81af1}


Definition at line 1328 of file mswproc.\+c.



Referenced by mswin\+\_\+yn\+\_\+function(), and on\+List\+Char().


\begin{DoxyCode}
1329 \{
1330     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_nhbell()\(\backslash\)n"});
1331 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_aed024ee2c1cc72c00ef0c1c47cc3cef4}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+nhgetch@{mswin\+\_\+nhgetch}}
\index{mswin\+\_\+nhgetch@{mswin\+\_\+nhgetch}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+nhgetch}]{\setlength{\rightskip}{0pt plus 5cm}int mswin\+\_\+nhgetch (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_aed024ee2c1cc72c00ef0c1c47cc3cef4}


Definition at line 1273 of file mswproc.\+c.



Referenced by mswin\+\_\+display\+\_\+nhwindow(), mswin\+\_\+get\+\_\+ext\+\_\+cmd(), mswin\+\_\+getlin(), mswin\+\_\+yn\+\_\+function(), and on\+Paint().


\begin{DoxyCode}
1274 \{
1275     \hyperlink{structmswin__event}{PMSNHEvent} event;
1276     \textcolor{keywordtype}{int} key = 0;
1277 
1278     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_nhgetch()\(\backslash\)n"});
1279     
1280 
1281     \textcolor{keywordflow}{while}( (event = \hyperlink{sys_2wince_2mhinput_8c_a956ca789dfd164267928c8d98e3ee13b}{mswin\_input\_pop}()) == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ||
1282            event->\hyperlink{structmswin__event_a2cd42be6dadd3c4d0340108b1c92fee7}{type} != \hyperlink{sys_2wince_2mhinput_8h_aa21ee5bbaf0dc20461decbe3869878e0}{NHEVENT\_CHAR} ) 
1283         \hyperlink{sys_2wince_2mswproc_8c_ad3ff4e54b425e4e94d7505395def2b2b}{mswin\_main\_loop}();
1284 
1285     key = \textcolor{keyword}{event}->kbd.ch;
1286     \textcolor{keywordflow}{return} (key);
1287 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ac1fa66773a0f1a958ec5883396c1024b}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+number\+\_\+pad@{mswin\+\_\+number\+\_\+pad}}
\index{mswin\+\_\+number\+\_\+pad@{mswin\+\_\+number\+\_\+pad}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+number\+\_\+pad}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+number\+\_\+pad (
\begin{DoxyParamCaption}
\item[{int}]{state}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ac1fa66773a0f1a958ec5883396c1024b}


Definition at line 1498 of file mswproc.\+c.


\begin{DoxyCode}
1499 \{
1500     \textcolor{comment}{/* Do Nothing */}
1501     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_number\_pad(%d)\(\backslash\)n"}, \hyperlink{random_8c_a12a8a0122ec9c2b08b4ef888b28f4c15}{state});
1502 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_aa7cfa611ccebcc183e29b4b30fd67489}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+outrip@{mswin\+\_\+outrip}}
\index{mswin\+\_\+outrip@{mswin\+\_\+outrip}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+outrip}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+outrip (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{how}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_aa7cfa611ccebcc183e29b4b30fd67489}


Definition at line 1554 of file mswproc.\+c.


\begin{DoxyCode}
1555 \{
1556     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_outrip(%d)\(\backslash\)n"}, wid, how);
1557     \textcolor{keywordflow}{if} ((wid >= 0) && (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) ) \{
1558         DestroyWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win);
1559         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = 
      \hyperlink{sys_2wince_2mhrip_8c_a873a3a9b144d63c71b5ea5b64474b964}{mswin\_init\_RIP\_window}();
1560         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_aacbfb89655cec852a2e1d64e626392ec}{type} = \hyperlink{sys_2wince_2winMS_8h_a0143988c915f8d929be99e4c918a5b6b}{NHW\_RIP};
1561         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
1562     \}
1563 
1564     genl\_outrip(wid, how);
1565 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_afa164dd1701209b71c2980d505275c53}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+player\+\_\+selection@{mswin\+\_\+player\+\_\+selection}}
\index{mswin\+\_\+player\+\_\+selection@{mswin\+\_\+player\+\_\+selection}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+player\+\_\+selection}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+player\+\_\+selection (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_afa164dd1701209b71c2980d505275c53}


Definition at line 236 of file mswproc.\+c.


\begin{DoxyCode}
237 \{
238     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_player\_selection()\(\backslash\)n"});
239 
240 \textcolor{preprocessor}{#if defined(WIN\_CE\_SMARTPHONE)}
241     \textcolor{comment}{/* SmartPhone does not supprt combo-boxes therefor we cannot}
242 \textcolor{comment}{       use dialog for player selection */}
243     \hyperlink{sys_2wince_2mswproc_8c_adb9397c80029a85e8242d9e9cf4a80f0}{prompt\_for\_player\_selection}();
244 \textcolor{preprocessor}{#else}
245     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a8c8a16eb50807ff19905909a1549e1a3}{wc\_player\_selection} == \hyperlink{winprocs_8h_aa02c60c8421d7ebc4bed60b3177dda47}{VIA\_DIALOG}) \{
246         \textcolor{keywordtype}{int} nRole;
247 
248         \textcolor{comment}{/* pick player type randomly (use pre-selected role/race/gender/alignment) */}
249         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall} ) \{
250         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} < 0) \{
251             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a45a06501725a029f2a6d153cc0018cef}{pick\_role}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
252                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
253             \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} < 0) \{
254                 \hyperlink{winprocs_8h_a49dffdcae248bae8b370f76b434ce744}{raw\_print}(\textcolor{stringliteral}{"Incompatible role!"});
255                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}();
256             \}
257         \}
258 
259         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} < 0 || !\hyperlink{role_8c_a648c22cd7c57851ea871247be474763b}{validrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace})) \{
260             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = \hyperlink{role_8c_aa6df5e095937cd04b595a860f324c3b6}{pick\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
261                                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
262             \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} < 0) \{
263                 \hyperlink{winprocs_8h_a49dffdcae248bae8b370f76b434ce744}{raw\_print}(\textcolor{stringliteral}{"Incompatible race!"});
264                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = \hyperlink{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{randrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole});
265             \}
266         \}
267 
268         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} < 0 || !\hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
269                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend})) \{
270             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{pick\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
271                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
272             \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} < 0) \{
273                 \hyperlink{winprocs_8h_a49dffdcae248bae8b370f76b434ce744}{raw\_print}(\textcolor{stringliteral}{"Incompatible gender!"});
274                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}{randgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
275             \}
276         \}
277 
278         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} < 0 || !\hyperlink{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{validalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
279                                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
280             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{pick\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
281                                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
282             \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} < 0) \{
283                 \hyperlink{winprocs_8h_a49dffdcae248bae8b370f76b434ce744}{raw\_print}(\textcolor{stringliteral}{"Incompatible alignment!"});
284                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{randalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
285             \}
286         \}
287         \} \textcolor{keywordflow}{else} \{
288         \textcolor{comment}{/* select a role */}
289         \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2mhdlg_8c_abfa652ee4def0674368c65a2578121a5}{mswin\_player\_selection\_window}( &nRole ) == IDCANCEL ) \{
290             \hyperlink{sys_2wince_2mswproc_8c_aa32bde5286c21c371bf075670d1a85aa}{bail}(0);
291         \}
292         \}
293     \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* iflags.wc\_player\_selection == VIA\_PROMPTS */}
294         \hyperlink{sys_2wince_2mswproc_8c_adb9397c80029a85e8242d9e9cf4a80f0}{prompt\_for\_player\_selection}();
295     \}
296 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* defined(WIN\_CE\_SMARTPHONE) */}\textcolor{preprocessor}{}
297 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a49804134a4aaa8874010372eae4612f9}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+popup\+\_\+destroy@{mswin\+\_\+popup\+\_\+destroy}}
\index{mswin\+\_\+popup\+\_\+destroy@{mswin\+\_\+popup\+\_\+destroy}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+popup\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+popup\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{h\+Wnd}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a49804134a4aaa8874010372eae4612f9}


Definition at line 1814 of file mswproc.\+c.



Referenced by mswin\+\_\+display\+\_\+text\+\_\+window(), and mswin\+\_\+menu\+\_\+window\+\_\+select\+\_\+menu().


\begin{DoxyCode}
1815 \{
1816     HWND hChild;
1817 
1818     \textcolor{comment}{/* enable game windows */}
1819     \textcolor{keywordflow}{for}( hChild=GetWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, GW\_CHILD);
1820          hChild;
1821          hChild = GetWindow(hChild, GW\_HWNDNEXT) ) \{
1822         \textcolor{keywordflow}{if}( hChild!= hWnd) \{
1823             EnableWindow(hChild, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1824         \}
1825     \}
1826 \textcolor{preprocessor}{#if defined(WIN\_CE\_SMARTPHONE)}
1827     ShowWindow(SHFindMenuBar(hWnd), SW\_HIDE);
1828     ShowWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMenuBar, SW\_SHOW);
1829 \textcolor{preprocessor}{#else}
1830     EnableWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMenuBar, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1831 \textcolor{preprocessor}{#endif}
1832 
1833     SetWindowPos(hWnd, HWND\_BOTTOM, 0, 0, 0, 0, SWP\_NOMOVE | SWP\_NOSIZE | SWP\_HIDEWINDOW);
1834     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a92e7b581dd0fad9d1af8364e5bcfe395}{hPopupWnd} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
1835     \hyperlink{sys_2wince_2mswproc_8c_a2dd95f399fc771e39649d2962c6b04f6}{mswin\_window\_mark\_dead}( \hyperlink{sys_2wince_2mswproc_8c_ab8710fc5a763a885ff66eb7e01215fd0}{mswin\_winid\_from\_handle}(hWnd) );
1836     DestroyWindow(hWnd);
1837 
1838     \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(hWnd);
1839 
1840     SetFocus(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd );
1841 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a2a23443a8cfc6b5b41024850877e0f5e}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+popup\+\_\+display@{mswin\+\_\+popup\+\_\+display}}
\index{mswin\+\_\+popup\+\_\+display@{mswin\+\_\+popup\+\_\+display}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+popup\+\_\+display}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+popup\+\_\+display (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{h\+Wnd, }
\item[{int $\ast$}]{done\+\_\+indicator}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a2a23443a8cfc6b5b41024850877e0f5e}


Definition at line 1774 of file mswproc.\+c.



Referenced by mswin\+\_\+display\+\_\+text\+\_\+window(), and mswin\+\_\+menu\+\_\+window\+\_\+select\+\_\+menu().


\begin{DoxyCode}
1775 \{
1776     MSG msg;
1777     HWND hChild;
1778 
1779     \textcolor{comment}{/* activate the menu window */}
1780     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a92e7b581dd0fad9d1af8364e5bcfe395}{hPopupWnd} = hWnd;
1781 
1782     \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(hWnd);
1783 
1784     \textcolor{comment}{/* disable game windows */}
1785     \textcolor{keywordflow}{for}( hChild=GetWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, GW\_CHILD);
1786          hChild;
1787          hChild = GetWindow(hChild, GW\_HWNDNEXT) ) \{
1788         \textcolor{keywordflow}{if}( hChild!=hWnd ) EnableWindow(hChild, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1789     \}
1790 \textcolor{preprocessor}{#if defined(WIN\_CE\_SMARTPHONE)}
1791     ShowWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMenuBar, SW\_HIDE);
1792     ShowWindow(SHFindMenuBar(hWnd), SW\_SHOW);
1793 \textcolor{preprocessor}{#else}
1794     EnableWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMenuBar, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1795 \textcolor{preprocessor}{#endif}
1796 
1797     \textcolor{comment}{/* bring menu window on top */}
1798     SetWindowPos(hWnd, HWND\_TOP, 0, 0, 0, 0, SWP\_NOMOVE | SWP\_NOSIZE | SWP\_SHOWWINDOW);
1799 
1800     \textcolor{comment}{/* go into message loop */}
1801     \textcolor{keywordflow}{if}( done\_indicator ) *done\_indicator = 0;
1802     \textcolor{keywordflow}{while}( IsWindow(hWnd) && 
1803            (done\_indicator==\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} || !*done\_indicator) &&
1804            GetMessage(&msg, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 0, 0)!=0 ) \{
1805         \textcolor{keywordflow}{if}( !IsDialogMessage(hWnd, &msg) ) \{
1806             \textcolor{keywordflow}{if} (!TranslateAccelerator(msg.hwnd, \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hAccelTable, &msg)) \{
1807                 TranslateMessage(&msg);
1808                 DispatchMessage(&msg);
1809             \}
1810         \}
1811     \}
1812 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a6104b99017fa070e5b95408b840ac737}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+preference\+\_\+update@{mswin\+\_\+preference\+\_\+update}}
\index{mswin\+\_\+preference\+\_\+update@{mswin\+\_\+preference\+\_\+update}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+preference\+\_\+update}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+preference\+\_\+update (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{pref}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a6104b99017fa070e5b95408b840ac737}


Definition at line 1568 of file mswproc.\+c.


\begin{DoxyCode}
1569 \{
1570     HDC hdc;
1571 
1572     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"font\_menu"})==0 ||
1573         \_stricmp( pref, \textcolor{stringliteral}{"font\_size\_menu"})==0 ) \{
1574         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adc1e0097a78217c13f627b0ded61338d}{wc\_fontsiz\_menu}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
1575             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adc1e0097a78217c13f627b0ded61338d}{wc\_fontsiz\_menu}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
1576             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_adc1e0097a78217c13f627b0ded61338d}{wc\_fontsiz\_menu} = \hyperlink{sys_2wince_2winMS_8h_a3e36546d4d3bf2ad78c8769ed202f8fd}{NHFONT\_DEFAULT\_SIZE};
1577 
1578         hdc = GetDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd);
1579         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1580         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1581         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}, \hyperlink{wintype_8h_a7ef561a4b6a48beeb1970b97b91a38ea}{ATR\_DIM}, hdc, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1582         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}, \hyperlink{wintype_8h_a9825a0f34fbbf473f8495b785fe54f7c}{ATR\_ULINE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1583         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}, \hyperlink{wintype_8h_a9d66a94b42076440893a6250fe72a8a8}{ATR\_BLINK}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1584         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU}, \hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1585         ReleaseDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, hdc);
1586 
1587         \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
1588         \textcolor{keywordflow}{return};
1589     \}
1590 
1591     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"font\_status"})==0 ||
1592         \_stricmp( pref, \textcolor{stringliteral}{"font\_size\_status"})==0 ) \{
1593 
1594         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_afc85b364ccf07dbaf9e752ed5989d55e}{wc\_fontsiz\_status}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
1595             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_afc85b364ccf07dbaf9e752ed5989d55e}{wc\_fontsiz\_status}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
1596             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_afc85b364ccf07dbaf9e752ed5989d55e}{wc\_fontsiz\_status} = 
      \hyperlink{sys_2wince_2winMS_8h_a3e36546d4d3bf2ad78c8769ed202f8fd}{NHFONT\_DEFAULT\_SIZE};
1597 
1598         hdc = GetDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd);
1599         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1600         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1601         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}, \hyperlink{wintype_8h_a7ef561a4b6a48beeb1970b97b91a38ea}{ATR\_DIM}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1602         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}, \hyperlink{wintype_8h_a9825a0f34fbbf473f8495b785fe54f7c}{ATR\_ULINE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1603         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}, \hyperlink{wintype_8h_a9d66a94b42076440893a6250fe72a8a8}{ATR\_BLINK}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1604         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a8ed5b99ab7f854ace5f67f89aaae5404}{NHW\_STATUS}, \hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1605         ReleaseDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, hdc);
1606 
1607         \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
1608         \textcolor{keywordflow}{return};
1609     \}
1610 
1611     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"font\_message"})==0 ||
1612         \_stricmp( pref, \textcolor{stringliteral}{"font\_size\_message"})==0 ) \{
1613 
1614         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
1615             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
1616             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a926efa0da25728957b82ffd8ac0c2ef9}{wc\_fontsiz\_message} = 
      \hyperlink{sys_2wince_2winMS_8h_a3e36546d4d3bf2ad78c8769ed202f8fd}{NHFONT\_DEFAULT\_SIZE};
1617 
1618         hdc = GetDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd);
1619         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1620         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1621         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}, \hyperlink{wintype_8h_a7ef561a4b6a48beeb1970b97b91a38ea}{ATR\_DIM}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1622         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}, \hyperlink{wintype_8h_a9825a0f34fbbf473f8495b785fe54f7c}{ATR\_ULINE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1623         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}, \hyperlink{wintype_8h_a9d66a94b42076440893a6250fe72a8a8}{ATR\_BLINK}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1624         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_ab3d471e84a363992b5a483392d0b2389}{NHW\_MESSAGE}, \hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1625         ReleaseDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, hdc);
1626 
1627         \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
1628         \textcolor{keywordflow}{return};
1629     \}
1630 
1631     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"font\_text"})==0 ||
1632         \_stricmp( pref, \textcolor{stringliteral}{"font\_size\_text"})==0 ) \{
1633 
1634         \textcolor{keywordflow}{if}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text}<\hyperlink{sys_2wince_2winMS_8h_ae680a61ec5bfc28f7ddb75abae5b02e0}{NHFONT\_SIZE\_MIN} || 
1635             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text}>\hyperlink{sys_2wince_2winMS_8h_a2e9bbc56bac245486049d6d7974e25eb}{NHFONT\_SIZE\_MAX} )
1636             \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_aed0e7dbf1efecc62fb651e1e6042cb78}{wc\_fontsiz\_text} = \hyperlink{sys_2wince_2winMS_8h_a3e36546d4d3bf2ad78c8769ed202f8fd}{NHFONT\_DEFAULT\_SIZE};
1637 
1638         hdc = GetDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd);
1639         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1640         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1641         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}, \hyperlink{wintype_8h_a7ef561a4b6a48beeb1970b97b91a38ea}{ATR\_DIM}, hdc, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1642         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}, \hyperlink{wintype_8h_a9825a0f34fbbf473f8495b785fe54f7c}{ATR\_ULINE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1643         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}, \hyperlink{wintype_8h_a9d66a94b42076440893a6250fe72a8a8}{ATR\_BLINK}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1644         \hyperlink{sys_2wince_2mhfont_8c_a480013e685b85460be07910c65a1ef51}{mswin\_get\_font}(\hyperlink{wintype_8h_a7e2bcc8531c4c62e8d8f1c5279c5789b}{NHW\_TEXT}, \hyperlink{wintype_8h_a043c5fd85034778be335623e273d0777}{ATR\_INVERSE}, hdc, 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1645         ReleaseDC(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, hdc);
1646 
1647         \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
1648         \textcolor{keywordflow}{return};
1649     \}
1650 
1651     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"scroll\_margin"})==0 ) \{
1652         \hyperlink{sys_2wince_2mswproc_8c_a7f6e502e24b0302832e4afada1d64805}{mswin\_cliparound}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
1653         \textcolor{keywordflow}{return};
1654     \}
1655 
1656     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"map\_mode"})==0 ) \{
1657         \hyperlink{sys_2wince_2mhmain_8c_aec9049c8d30f0f969cf38c358275afd4}{mswin\_select\_map\_mode}( \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a10495720747b71f0c42953aa2b96d5b5}{wc\_map\_mode} );
1658         \textcolor{keywordflow}{return};
1659     \}
1660 
1661     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"hilite\_pet"})==0 ) \{
1662         InvalidateRect(\hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}), 
      \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1663         \textcolor{keywordflow}{return};
1664     \}
1665 
1666     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"align\_message"})==0 ||
1667         \_stricmp( pref, \textcolor{stringliteral}{"align\_status"})==0 ) \{
1668         \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
1669         \textcolor{keywordflow}{return};
1670     \}
1671 
1672     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"vary\_msgcount"})==0 ) \{
1673         InvalidateRect(\hyperlink{sys_2wince_2mswproc_8c_a0890d6b16657f7ad53aebadc8818f147}{mswin\_hwnd\_from\_winid}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}), 
      \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1674         \hyperlink{sys_2wince_2mhmain_8c_a658d1edb48c312e41bc75c74008f27dc}{mswin\_layout\_main\_window}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
1675         \textcolor{keywordflow}{return};
1676     \}
1677 
1678     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"fullscreen"})==0 ) \{
1679         \hyperlink{sys_2wince_2mswproc_8c_a418509e1e2b57a5bd8dc163b40d57b5e}{mswin\_set\_fullscreen}(\hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a638a1aa6b9b6e53d7089d1baa3a1b05a}{wc2\_fullscreen});
1680         \textcolor{keywordflow}{return};
1681     \}
1682 
1683     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"softkeyboard"})==0 ) \{
1684         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_af8a7fc1fc5568f109bb31fd054a38470}{bUseSIP} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_ad2bead45f3c69306cd123eaa8d1b296f}{wc2\_softkeyboard};
1685         \textcolor{keywordflow}{return};
1686     \}
1687 
1688     \textcolor{keywordflow}{if}( \_stricmp( pref, \textcolor{stringliteral}{"wraptext"})==0 ) \{
1689         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a602ad0b692afb2be5e62dbec41942b17}{bWrapText} = \hyperlink{flag_8h_ae9cd54937dcb00432131e49e5e324075}{iflags}.\hyperlink{structinstance__flags_a30ed864bd7a69483c6ca4eefbcf628b5}{wc2\_wraptext};
1690         \textcolor{keywordflow}{return};
1691     \}
1692 
1693 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_adada3427db5c86f3a5b5daedfef8eecf}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+print\+\_\+glyph@{mswin\+\_\+print\+\_\+glyph}}
\index{mswin\+\_\+print\+\_\+glyph@{mswin\+\_\+print\+\_\+glyph}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+print\+\_\+glyph}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+print\+\_\+glyph (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{{\bf X\+C\+H\+A\+R\+\_\+\+P}}]{x, }
\item[{{\bf X\+C\+H\+A\+R\+\_\+\+P}}]{y, }
\item[{int}]{glyph}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_adada3427db5c86f3a5b5daedfef8eecf}


Definition at line 1218 of file mswproc.\+c.


\begin{DoxyCode}
1219 \{
1220     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_print\_glyph(%d, %d, %d, %d)\(\backslash\)n"}, wid, x, y, glyph);
1221 
1222     \textcolor{keywordflow}{if} ((wid >= 0) && 
1223         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
1224         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
1225     \{
1226         \hyperlink{structmswin__nhmsg__print__glyph}{MSNHMsgPrintGlyph} data;
1227 
1228         ZeroMemory(&data, \textcolor{keyword}{sizeof}(data) );
1229         data.\hyperlink{structmswin__nhmsg__print__glyph_a78882344ead9571272a05592dd30142b}{x} = x;
1230         data.\hyperlink{structmswin__nhmsg__print__glyph_a50e05842f25a1ae67f16ecba99cd0def}{y} = y;
1231         data.\hyperlink{structmswin__nhmsg__print__glyph_a2abfc84b5f4e679af1923281cde0f809}{glyph} = glyph;
1232         SendMessage( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
1233                  \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a8475ce07e844644a51c6ee4f4e07e769}{MSNH\_MSG\_PRINT\_GLYPH}, (LPARAM)
      &data );
1234     \}
1235 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a586edf714db367d60eebcf3f2c61a508}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+putstr@{mswin\+\_\+putstr}}
\index{mswin\+\_\+putstr@{mswin\+\_\+putstr}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+putstr}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+putstr (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{attr, }
\item[{{\bf const} char $\ast$}]{text}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a586edf714db367d60eebcf3f2c61a508}


Definition at line 937 of file mswproc.\+c.



Referenced by mswin\+\_\+display\+\_\+file(), and mswin\+\_\+yn\+\_\+function().


\begin{DoxyCode}
938 \{
939     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_putstr(%d, %d, %s)\(\backslash\)n"}, wid, \hyperlink{structtext__buffer__line_a2f755726b09338da45acd955ab8775e2}{attr}, \hyperlink{structtext__buffer__line_ab3af8e4e600d655d06c514cd743eca92}{text});
940 
941     \hyperlink{sys_2wince_2mswproc_8c_aeeecab20a5003598a88a3008835c8baa}{mswin\_putstr\_ex}(wid, \hyperlink{structtext__buffer__line_a2f755726b09338da45acd955ab8775e2}{attr}, \hyperlink{structtext__buffer__line_ab3af8e4e600d655d06c514cd743eca92}{text}, 0);
942 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_aeeecab20a5003598a88a3008835c8baa}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+putstr\+\_\+ex@{mswin\+\_\+putstr\+\_\+ex}}
\index{mswin\+\_\+putstr\+\_\+ex@{mswin\+\_\+putstr\+\_\+ex}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+putstr\+\_\+ex}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+putstr\+\_\+ex (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{attr, }
\item[{{\bf const} char $\ast$}]{text, }
\item[{{\bf boolean}}]{app}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_aeeecab20a5003598a88a3008835c8baa}


Definition at line 944 of file mswproc.\+c.



References mswin\+\_\+nhmsg\+\_\+putstr\+::append, mswin\+\_\+nhmsg\+\_\+putstr\+::attr, mswin\+\_\+nhwindow\+\_\+data\+::dead, Get\+N\+H\+App(), M\+A\+X\+W\+I\+N\+D\+O\+W\+S, M\+E\+N\+U\+\_\+\+T\+Y\+P\+E\+\_\+\+T\+E\+X\+T, M\+S\+N\+H\+\_\+\+M\+S\+G\+\_\+\+P\+U\+T\+S\+T\+R, mswin\+\_\+init\+\_\+menu\+\_\+window(), N\+H\+W\+\_\+\+M\+E\+N\+U, N\+U\+L\+L, mswin\+\_\+nhmsg\+\_\+putstr\+::text, type, mswin\+\_\+nhwindow\+\_\+data\+::win, mswin\+\_\+nhwindow\+\_\+app\+::windowlist, and W\+M\+\_\+\+M\+S\+N\+H\+\_\+\+C\+O\+M\+M\+A\+N\+D.



Referenced by mswin\+\_\+get\+\_\+ext\+\_\+cmd(), mswin\+\_\+getlin(), mswin\+\_\+putstr(), and mswin\+\_\+yn\+\_\+function().


\begin{DoxyCode}
945 \{
946     \textcolor{keywordflow}{if}( (wid >= 0) && 
947         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) )
948     \{
949         \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win==\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
950             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type}==\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU} ) \{
951             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = 
      \hyperlink{sys_2wince_2mhmenu_8c_a8c5ddcafb43564d6bbc9a6a422974797}{mswin\_init\_menu\_window}(\hyperlink{sys_2wince_2mhmenu_8h_ad863ba4d93ea3f9619d1f82c79c620e7}{MENU\_TYPE\_TEXT});
952             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
953         \}
954 
955         \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})
956         \{
957              \hyperlink{structmswin__nhmsg__putstr}{MSNHMsgPutstr} data;
958              ZeroMemory(&data, \textcolor{keyword}{sizeof}(data));
959              data.\hyperlink{structmswin__nhmsg__putstr_aefa22819f8c3ca3574cfbcfd583ded58}{attr} = \hyperlink{structtext__buffer__line_a2f755726b09338da45acd955ab8775e2}{attr};
960              data.\hyperlink{structmswin__nhmsg__putstr_a27f09d7286c01fe17c1289761b63502e}{text} = \hyperlink{structtext__buffer__line_ab3af8e4e600d655d06c514cd743eca92}{text};
961              data.\hyperlink{structmswin__nhmsg__putstr_af1e2c11564b34538c13ee0ec5c9dda56}{append} = app;
962              SendMessage( 
963                  \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
964                  \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a483b8d3a386f1c5d76da1dff6ed549a8}{MSNH\_MSG\_PUTSTR}, (LPARAM)&data );
965         \}
966     \}
967 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_af710d0c50e6d609411c4cee463cde502}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+raw\+\_\+print@{mswin\+\_\+raw\+\_\+print}}
\index{mswin\+\_\+raw\+\_\+print@{mswin\+\_\+raw\+\_\+print}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+raw\+\_\+print}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+raw\+\_\+print (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_af710d0c50e6d609411c4cee463cde502}


Definition at line 1246 of file mswproc.\+c.



Referenced by Win\+Main().


\begin{DoxyCode}
1247 \{
1248     TCHAR wbuf[255];
1249     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_raw\_print(%s)\(\backslash\)n"}, str);
1250     \textcolor{keywordflow}{if}( str && *str)
1251         \hyperlink{sys_2wince_2winhack_8c_a2879dc701085dff777122c1a265cc67f}{MessageBox}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}(str, wbuf, \textcolor{keyword}{sizeof}(wbuf)), TEXT(\textcolor{stringliteral}{"
      NetHack"}), MB\_OK );
1252 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ac4a83dc571aef8c90aedd5a94e0afa24}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+raw\+\_\+print\+\_\+bold@{mswin\+\_\+raw\+\_\+print\+\_\+bold}}
\index{mswin\+\_\+raw\+\_\+print\+\_\+bold@{mswin\+\_\+raw\+\_\+print\+\_\+bold}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+raw\+\_\+print\+\_\+bold}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+raw\+\_\+print\+\_\+bold (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ac4a83dc571aef8c90aedd5a94e0afa24}


Definition at line 1259 of file mswproc.\+c.



Referenced by Win\+Main().


\begin{DoxyCode}
1260 \{
1261     TCHAR wbuf[255];
1262     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_raw\_print\_bold(%s)\(\backslash\)n"}, str);
1263     \textcolor{keywordflow}{if}( str && *str)
1264         \hyperlink{sys_2wince_2winhack_8c_a2879dc701085dff777122c1a265cc67f}{MessageBox}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}(str, wbuf, \textcolor{keyword}{sizeof}(wbuf)), TEXT(\textcolor{stringliteral}{"
      NetHack"}), MB\_OK );
1265 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a091c3fdba0e00c1ca9da9b244318754c}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+read\+\_\+reg@{mswin\+\_\+read\+\_\+reg}}
\index{mswin\+\_\+read\+\_\+reg@{mswin\+\_\+read\+\_\+reg}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+read\+\_\+reg}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+read\+\_\+reg (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a091c3fdba0e00c1ca9da9b244318754c}


Definition at line 1935 of file mswproc.\+c.



Referenced by mswin\+\_\+init\+\_\+nhwindows().


\begin{DoxyCode}
1936 \{
1937 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a770c1208f41214003268edb8b15eb8b4}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+resume\+\_\+nhwindows@{mswin\+\_\+resume\+\_\+nhwindows}}
\index{mswin\+\_\+resume\+\_\+nhwindows@{mswin\+\_\+resume\+\_\+nhwindows}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+resume\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+resume\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a770c1208f41214003268edb8b15eb8b4}


Definition at line 696 of file mswproc.\+c.


\begin{DoxyCode}
697 \{
698     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_resume\_nhwindows()\(\backslash\)n"});
699     \textcolor{keywordflow}{return};
700 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_afd8e1e10d4b4d59f36856add9e28979f}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+select\+\_\+menu@{mswin\+\_\+select\+\_\+menu}}
\index{mswin\+\_\+select\+\_\+menu@{mswin\+\_\+select\+\_\+menu}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+select\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}int mswin\+\_\+select\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid, }
\item[{int}]{how, }
\item[{{\bf M\+E\+N\+U\+\_\+\+I\+T\+E\+M\+\_\+\+P} $\ast$$\ast$}]{selected}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_afd8e1e10d4b4d59f36856add9e28979f}


Definition at line 1141 of file mswproc.\+c.


\begin{DoxyCode}
1142 \{
1143     \textcolor{keywordtype}{int} nReturned = -1;
1144 
1145     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_select\_menu(%d, %d)\(\backslash\)n"}, wid, how);
1146 
1147     \textcolor{keywordflow}{if} ((wid >= 0) && 
1148         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) &&
1149         (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}))
1150     \{
1151         nReturned = \hyperlink{sys_2wince_2mhmenu_8c_ad900b8c309861a1826a11b4c49432c2a}{mswin\_menu\_window\_select\_menu}(
      \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, how, selected);
1152     \}
1153     \textcolor{keywordflow}{return} nReturned;
1154 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a418509e1e2b57a5bd8dc163b40d57b5e}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+set\+\_\+fullscreen@{mswin\+\_\+set\+\_\+fullscreen}}
\index{mswin\+\_\+set\+\_\+fullscreen@{mswin\+\_\+set\+\_\+fullscreen}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+set\+\_\+fullscreen}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+set\+\_\+fullscreen (
\begin{DoxyParamCaption}
\item[{B\+O\+O\+L}]{is\+\_\+fullscreen}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a418509e1e2b57a5bd8dc163b40d57b5e}


Definition at line 1843 of file mswproc.\+c.



References mswin\+\_\+nhwindow\+\_\+app\+::b\+Full\+Screen, F\+A\+L\+S\+E, and Get\+N\+H\+App().



Referenced by mswin\+\_\+init\+\_\+nhwindows(), and mswin\+\_\+preference\+\_\+update().


\begin{DoxyCode}
1844 \{
1845 \textcolor{preprocessor}{#if defined(WIN\_CE\_POCKETPC) || defined(WIN\_CE\_SMARTPHONE)}
1846     SetForegroundWindow(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd);
1847     \textcolor{keywordflow}{if}( is\_fullscreen ) \{
1848         SHFullScreen(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, SHFS\_HIDETASKBAR | SHFS\_HIDESTARTICON);
1849         MoveWindow(
1850             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd,
1851             0,
1852             0,
1853             GetSystemMetrics(SM\_CXSCREEN),
1854             GetSystemMetrics(SM\_CYSCREEN),
1855             \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}
1856         );
1857     \} \textcolor{keywordflow}{else} \{
1858         RECT rc;
1859         SystemParametersInfo(SPI\_GETWORKAREA, 0, &rc, 0);
1860         SHFullScreen(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd, SHFS\_SHOWTASKBAR | SHFS\_SHOWSTARTICON);
1861         MoveWindow(
1862             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->hMainWnd,
1863             rc.left,
1864             rc.top,
1865             rc.right - rc.left,
1866             rc.bottom - rc.top,
1867             \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}
1868         );
1869     \}
1870     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a03ec520343918e83b3b20c9c08ee9d57}{bFullScreen} = is\_fullscreen;
1871 \textcolor{preprocessor}{#else}
1872     \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_a03ec520343918e83b3b20c9c08ee9d57}{bFullScreen} = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1873 \textcolor{preprocessor}{#endif}
1874 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ab474b066703e5fb1cf32ccb58ab4ab72}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+start\+\_\+menu@{mswin\+\_\+start\+\_\+menu}}
\index{mswin\+\_\+start\+\_\+menu@{mswin\+\_\+start\+\_\+menu}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+start\+\_\+menu}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+start\+\_\+menu (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ab474b066703e5fb1cf32ccb58ab4ab72}


Definition at line 1010 of file mswproc.\+c.



Referenced by Activate\+Cell().


\begin{DoxyCode}
1011 \{
1012     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_start\_menu(%d)\(\backslash\)n"}, wid);
1013     \textcolor{keywordflow}{if}( (wid >= 0) && 
1014         (wid < \hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) ) \{
1015         \textcolor{keywordflow}{if}( \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win==\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} &&
1016             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type}==\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU} ) \{
1017             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = 
      \hyperlink{sys_2wince_2mhmenu_8c_a8c5ddcafb43564d6bbc9a6a422974797}{mswin\_init\_menu\_window}(\hyperlink{sys_2wince_2mhmenu_8h_a721a1d91420a4ebad6c2d4c37c344557}{MENU\_TYPE\_MENU});
1018             \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 0;
1019         \}
1020 
1021         \textcolor{keywordflow}{if}(\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
1022             SendMessage( 
1023                  \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[wid].win, 
1024                  \hyperlink{sys_2wince_2mhmsg_8h_a55eac656fabe0d462816201ac756eab6}{WM\_MSNH\_COMMAND}, (WPARAM)\hyperlink{sys_2wince_2mhmsg_8h_a7086205b68db99e06544110233c90219}{MSNH\_MSG\_STARTMENU}, (LPARAM)
      \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
1025             );
1026         \}
1027     \}
1028 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a683d58b72218bf358e3cb3b249ba09a2}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+start\+\_\+screen@{mswin\+\_\+start\+\_\+screen}}
\index{mswin\+\_\+start\+\_\+screen@{mswin\+\_\+start\+\_\+screen}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+start\+\_\+screen}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+start\+\_\+screen (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a683d58b72218bf358e3cb3b249ba09a2}


Definition at line 1533 of file mswproc.\+c.


\begin{DoxyCode}
1534 \{
1535     \textcolor{comment}{/* Do Nothing */}
1536     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_start\_screen()\(\backslash\)n"});
1537 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a533920622e148bb1602765b792786809}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+suspend\+\_\+nhwindows@{mswin\+\_\+suspend\+\_\+nhwindows}}
\index{mswin\+\_\+suspend\+\_\+nhwindows@{mswin\+\_\+suspend\+\_\+nhwindows}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+suspend\+\_\+nhwindows}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+suspend\+\_\+nhwindows (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a533920622e148bb1602765b792786809}


Definition at line 688 of file mswproc.\+c.


\begin{DoxyCode}
689 \{
690     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_suspend\_nhwindows(%s)\(\backslash\)n"}, str);
691     \textcolor{keywordflow}{return};
692 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a6433399ede33100bcebd691fb3d8c7be}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+update\+\_\+inventory@{mswin\+\_\+update\+\_\+inventory}}
\index{mswin\+\_\+update\+\_\+inventory@{mswin\+\_\+update\+\_\+inventory}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+update\+\_\+inventory}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+update\+\_\+inventory (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a6433399ede33100bcebd691fb3d8c7be}


Definition at line 1161 of file mswproc.\+c.


\begin{DoxyCode}
1162 \{
1163     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_update\_inventory()\(\backslash\)n"});
1164 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_aa0a7ada24bbf66cdd9213f97b401a004}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+wait\+\_\+synch@{mswin\+\_\+wait\+\_\+synch}}
\index{mswin\+\_\+wait\+\_\+synch@{mswin\+\_\+wait\+\_\+synch}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+wait\+\_\+synch}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+wait\+\_\+synch (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_aa0a7ada24bbf66cdd9213f97b401a004}


Definition at line 1182 of file mswproc.\+c.


\begin{DoxyCode}
1183 \{
1184     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_wait\_synch()\(\backslash\)n"});
1185 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a2dd95f399fc771e39649d2962c6b04f6}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+window\+\_\+mark\+\_\+dead@{mswin\+\_\+window\+\_\+mark\+\_\+dead}}
\index{mswin\+\_\+window\+\_\+mark\+\_\+dead@{mswin\+\_\+window\+\_\+mark\+\_\+dead}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+window\+\_\+mark\+\_\+dead}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+window\+\_\+mark\+\_\+dead (
\begin{DoxyParamCaption}
\item[{{\bf winid}}]{wid}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a2dd95f399fc771e39649d2962c6b04f6}


Definition at line 860 of file mswproc.\+c.



Referenced by mswin\+\_\+popup\+\_\+destroy(), N\+H\+R\+I\+P\+Wnd\+Proc(), N\+H\+Splash\+Wnd\+Proc(), and N\+H\+Text\+Wnd\+Proc().


\begin{DoxyCode}
861 \{
862     \textcolor{keywordflow}{if}( wid>=0 && wid<\hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}) \{
863         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_ae10a423b314e3c84ef33e6c57f7447d4}{win} = \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
864         \hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->\hyperlink{structmswin__nhwindow__app_ae17570be9f8535fa8868079618f03e7e}{windowlist}[wid].\hyperlink{structmswin__nhwindow__data_acd523d0a823e7b01d8ae620ec69fd953}{dead} = 1;
865     \}
866 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ab8710fc5a763a885ff66eb7e01215fd0}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+winid\+\_\+from\+\_\+handle@{mswin\+\_\+winid\+\_\+from\+\_\+handle}}
\index{mswin\+\_\+winid\+\_\+from\+\_\+handle@{mswin\+\_\+winid\+\_\+from\+\_\+handle}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+winid\+\_\+from\+\_\+handle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf winid} mswin\+\_\+winid\+\_\+from\+\_\+handle (
\begin{DoxyParamCaption}
\item[{H\+W\+N\+D}]{h\+Wnd}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ab8710fc5a763a885ff66eb7e01215fd0}


Definition at line 840 of file mswproc.\+c.



Referenced by mswin\+\_\+popup\+\_\+destroy(), N\+H\+R\+I\+P\+Wnd\+Proc(), N\+H\+Splash\+Wnd\+Proc(), and N\+H\+Text\+Wnd\+Proc().


\begin{DoxyCode}
841 \{
842     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} i = 0;
843 
844     \textcolor{keywordflow}{for} (i=1; i<\hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}; i++)
845       \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].win == hWnd)
846           \textcolor{keywordflow}{return} i;
847     \textcolor{keywordflow}{return} -1;
848 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a57e27ce5d15b0dfe1985171f9b966041}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+winid\+\_\+from\+\_\+type@{mswin\+\_\+winid\+\_\+from\+\_\+type}}
\index{mswin\+\_\+winid\+\_\+from\+\_\+type@{mswin\+\_\+winid\+\_\+from\+\_\+type}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+winid\+\_\+from\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}{\bf winid} mswin\+\_\+winid\+\_\+from\+\_\+type (
\begin{DoxyParamCaption}
\item[{int}]{type}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a57e27ce5d15b0dfe1985171f9b966041}


Definition at line 850 of file mswproc.\+c.



Referenced by mswin\+\_\+select\+\_\+map\+\_\+mode().


\begin{DoxyCode}
851 \{
852     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} i = 0;
853 
854     \textcolor{keywordflow}{for} (i=1; i<\hyperlink{sys_2wince_2winMS_8h_af269a7b9e75b06eb55576655ce6e5530}{MAXWINDOWS}; i++)
855       \textcolor{keywordflow}{if} (\hyperlink{sys_2wince_2winhack_8c_ad72c8d80c9fc01eaf07a3c2463ab88bd}{GetNHApp}()->windowlist[i].\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type} == \hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type})
856           \textcolor{keywordflow}{return} i;
857     \textcolor{keywordflow}{return} -1;
858 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_a01db214b8bcc177cdc331eb27e24eac0}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+write\+\_\+reg@{mswin\+\_\+write\+\_\+reg}}
\index{mswin\+\_\+write\+\_\+reg@{mswin\+\_\+write\+\_\+reg}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+write\+\_\+reg}]{\setlength{\rightskip}{0pt plus 5cm}void mswin\+\_\+write\+\_\+reg (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_a01db214b8bcc177cdc331eb27e24eac0}


Definition at line 1943 of file mswproc.\+c.



Referenced by mswin\+\_\+exit\+\_\+nhwindows().


\begin{DoxyCode}
1944 \{
1945 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_ac5159e6dd0c6d3d11d7d7e7d0412104f}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+yn\+\_\+function@{mswin\+\_\+yn\+\_\+function}}
\index{mswin\+\_\+yn\+\_\+function@{mswin\+\_\+yn\+\_\+function}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+yn\+\_\+function}]{\setlength{\rightskip}{0pt plus 5cm}char mswin\+\_\+yn\+\_\+function (
\begin{DoxyParamCaption}
\item[{{\bf const} char $\ast$}]{question, }
\item[{{\bf const} char $\ast$}]{choices, }
\item[{{\bf C\+H\+A\+R\+\_\+\+P}}]{def}
\end{DoxyParamCaption}
)}}\label{sys_2wince_2mswproc_8c_ac5159e6dd0c6d3d11d7d7e7d0412104f}


Definition at line 1364 of file mswproc.\+c.


\begin{DoxyCode}
1366 \{
1367     \textcolor{keywordtype}{int} result=-1;
1368     \textcolor{keywordtype}{char} ch;
1369     \textcolor{keywordtype}{char} \hyperlink{winX_8c_a7dd015f980e8d798c219b645465751c6}{yn\_esc\_map}=\textcolor{charliteral}{'\(\backslash\)033'};
1370     \textcolor{keywordtype}{char} message[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
1371     \textcolor{keywordtype}{char} res\_ch[2];
1372 
1373     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"mswin\_yn\_function(%s, %s, %d)\(\backslash\)n"}, question, choices, def);
1374 
1375     \textcolor{keywordflow}{if} (choices) \{
1376         \textcolor{keywordtype}{char} *cb, choicebuf[\hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ}];
1377         \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(choicebuf, choices);
1378         \textcolor{keywordflow}{if} ((cb = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choicebuf, \textcolor{charliteral}{'\(\backslash\)033'})) != 0) \{
1379             \textcolor{comment}{/* anything beyond <esc> is hidden */}
1380             *cb = \textcolor{charliteral}{'\(\backslash\)0'};
1381         \}
1382         sprintf(message, \textcolor{stringliteral}{"%s [%s] "}, question, choicebuf);
1383         \textcolor{keywordflow}{if} (def) sprintf(\hyperlink{makedefs_8c_a72563303ed4b67f2a7dd9f2d15a01558}{eos}(message), \textcolor{stringliteral}{"(%c) "}, def);
1384         \textcolor{comment}{/* escape maps to 'q' or 'n' or default, in that order */}
1385         yn\_esc\_map = (\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices, \textcolor{charliteral}{'q'}) ? \textcolor{charliteral}{'q'} :
1386              (\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices, \textcolor{charliteral}{'n'}) ? \textcolor{charliteral}{'n'} : def));
1387     \} \textcolor{keywordflow}{else} \{
1388         \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(message, question);
1389     \}
1390 
1391 \textcolor{preprocessor}{#if defined(WIN\_CE\_SMARTPHONE)}
1392     \{
1393     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
1394     ZeroMemory(buf, \textcolor{keyword}{sizeof}(buf));
1395     \textcolor{keywordflow}{if}( choices ) \{
1396         \textcolor{keywordflow}{if}( !\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices, \textcolor{charliteral}{'\(\backslash\)033'}) ) buf[0]=\textcolor{charliteral}{'\(\backslash\)033'}; \textcolor{comment}{/* make sure ESC is always available */}
1397         strncat( buf, choices, \textcolor{keyword}{sizeof}(buf)-2);
1398         NHSPhoneSetKeypadFromString( buf );
1399     \} \textcolor{keywordflow}{else} \{
1400         \textcolor{comment}{/* sometimes choices are included in the message itself, e.g. "what? [abcd]" */}
1401         \textcolor{keywordtype}{char} *p1, *p2;
1402         p1 = strchr(question, \textcolor{charliteral}{'['});
1403         p2 = strrchr(question, \textcolor{charliteral}{']'});
1404         \textcolor{keywordflow}{if}( p1 && p2 && p1<p2 ) \{
1405             buf[0]=\textcolor{charliteral}{'\(\backslash\)033'}; \textcolor{comment}{/* make sure ESC is always available */}
1406             strncat(buf, p1+1, p2-p1-1);
1407             NHSPhoneSetKeypadFromString( buf );
1408         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( strstr(question, \textcolor{stringliteral}{"direction"}) ) \{
1409             \textcolor{comment}{/* asking for direction here */}
1410             NHSPhoneSetKeypadDirection( );
1411         \} \textcolor{keywordflow}{else} \{
1412             \textcolor{comment}{/* anything goes */}
1413             NHSPhoneSetKeypadFromString( \textcolor{stringliteral}{"\(\backslash\)0330-9a-zA-Z"} );
1414         \}
1415     \}
1416     \}
1417 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* defined(WIN\_CE\_SMARTPHONE) */}\textcolor{preprocessor}{}
1418 
1419     \hyperlink{sys_2wince_2mswproc_8c_a586edf714db367d60eebcf3f2c61a508}{mswin\_putstr}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, message);
1420 
1421     \textcolor{comment}{/* Only here if main window is not present */}
1422     \textcolor{keywordflow}{while} (result<0) \{
1423     ch=\hyperlink{sys_2wince_2mswproc_8c_aed024ee2c1cc72c00ef0c1c47cc3cef4}{mswin\_nhgetch}();
1424     \textcolor{keywordflow}{if} (ch==\textcolor{charliteral}{'\(\backslash\)033'}) \{
1425         result=\hyperlink{winX_8c_a7dd015f980e8d798c219b645465751c6}{yn\_esc\_map};
1426     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (choices && !\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(choices,ch)) \{
1427         \textcolor{comment}{/* FYI: ch==-115 is for KP\_ENTER */}
1428         \textcolor{keywordflow}{if} (def && (ch==\textcolor{charliteral}{' '} || ch==\textcolor{charliteral}{'\(\backslash\)r'} || ch==\textcolor{charliteral}{'\(\backslash\)n'} || ch==-115)) \{
1429         result=def;
1430         \} \textcolor{keywordflow}{else} \{
1431         \hyperlink{sys_2wince_2mswproc_8c_acfd44b324a001d918123b85df7f81af1}{mswin\_nhbell}();
1432         \textcolor{comment}{/* and try again... */}
1433         \}
1434     \} \textcolor{keywordflow}{else} \{
1435         result=ch;
1436     \}
1437     \}
1438 
1439     \textcolor{comment}{/* display selection in the message window */}
1440     \textcolor{keywordflow}{if}( isprint(ch) ) \{
1441         res\_ch[0] = ch;
1442         res\_ch[1] = \textcolor{stringliteral}{'\(\backslash\)x0'};
1443         \hyperlink{sys_2wince_2mswproc_8c_aeeecab20a5003598a88a3008835c8baa}{mswin\_putstr\_ex}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{wintype_8h_a3bdd83c2b946e860e76de6aac6a4edfe}{ATR\_BOLD}, res\_ch, 1);
1444     \}
1445 
1446     \textcolor{comment}{/* prevent "--more--" prompt from appearing when several }
1447 \textcolor{comment}{       questions being asked in the same loop (like selling }
1448 \textcolor{comment}{       something in the shop)}
1449 \textcolor{comment}{       It does not really clears the window - mhmsgwnd.c */}
1450     \hyperlink{sys_2wince_2mswproc_8c_a096a654edcca105c2c1be28d22ee0048}{mswin\_clear\_nhwindow}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE});
1451 
1452 \textcolor{preprocessor}{#if defined(WIN\_CE\_SMARTPHONE)}
1453     NHSPhoneSetKeypadDefault();
1454 \textcolor{preprocessor}{#endif}
1455     \textcolor{keywordflow}{return} result;
1456 \}
\end{DoxyCode}
\hypertarget{sys_2wince_2mswproc_8c_adb9397c80029a85e8242d9e9cf4a80f0}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!prompt\+\_\+for\+\_\+player\+\_\+selection@{prompt\+\_\+for\+\_\+player\+\_\+selection}}
\index{prompt\+\_\+for\+\_\+player\+\_\+selection@{prompt\+\_\+for\+\_\+player\+\_\+selection}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{prompt\+\_\+for\+\_\+player\+\_\+selection}]{\setlength{\rightskip}{0pt plus 5cm}void prompt\+\_\+for\+\_\+player\+\_\+selection (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{sys_2wince_2mswproc_8c_adb9397c80029a85e8242d9e9cf4a80f0}


Definition at line 299 of file mswproc.\+c.



References any\+::a\+\_\+int, any\+::a\+\_\+void, add\+\_\+menu, aligns, A\+T\+R\+\_\+\+N\+O\+N\+E, bail(), B\+U\+F\+S\+Z, build\+\_\+plselection\+\_\+prompt(), C\+O, create\+\_\+nhwindow, destroy\+\_\+nhwindow, end\+\_\+menu, Role\+Name\+::f, flags, free(), genders, index(), flag\+::initalign, flag\+::initgend, flag\+::initrace, flag\+::initrole, mi\+::item, log\+Debug(), lowc(), Role\+Name\+::m, M\+E\+N\+U\+\_\+\+U\+N\+S\+E\+L\+E\+C\+T\+E\+D, Message\+Box(), Role\+::name, name, N\+H\+\_\+\+A2\+W, N\+H\+W\+\_\+\+M\+E\+N\+U, N\+O\+\_\+\+G\+L\+Y\+P\+H, Race\+::noun, N\+U\+L\+L, ok\+\_\+align(), ok\+\_\+gend(), ok\+\_\+race(), ok\+\_\+role(), pick\+\_\+align(), pick\+\_\+gend(), P\+I\+C\+K\+\_\+\+O\+N\+E, pick\+\_\+race(), P\+I\+C\+K\+\_\+\+R\+A\+N\+D\+O\+M, pick\+\_\+role(), Q\+B\+U\+F\+S\+Z, quitchars, races, randalign(), randgend(), flag\+::randomall, randrace(), randrole(), rigid\+\_\+role\+\_\+checks(), R\+O\+L\+E\+\_\+\+A\+L\+I\+G\+N\+S, R\+O\+L\+E\+\_\+\+G\+E\+N\+D\+E\+R\+S, R\+O\+L\+E\+\_\+\+N\+O\+N\+E, R\+O\+L\+E\+\_\+\+R\+A\+N\+D\+O\+M, roles, root\+\_\+plselection\+\_\+prompt(), select\+\_\+menu, Sprintf, start\+\_\+menu, Strcat, Strcpy, validalign(), validgend(), validrace(), and ynqchars.



Referenced by mswin\+\_\+player\+\_\+selection().


\begin{DoxyCode}
300 \{
301     \textcolor{keywordtype}{int} i, k, n;
302     \textcolor{keywordtype}{char} pick4u = \textcolor{charliteral}{'n'}, thisch, lastch = 0;
303     \textcolor{keywordtype}{char} pbuf[\hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ}], plbuf[\hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ}];
304     \hyperlink{wintype_8h_adc2de956a3f084b1691cf080e1d1412b}{winid} win;
305     \hyperlink{unionany}{anything} \hyperlink{unionany}{any};
306     \hyperlink{structmi}{menu\_item} *selected = 0;
307     \textcolor{keywordtype}{int} box\_result;
308     TCHAR wbuf[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
309 
310     \hyperlink{sys_2wince_2mswproc_8c_afae099b6156e38336d151a83fd7a7ee6}{logDebug}(\textcolor{stringliteral}{"prompt\_for\_player\_selection()\(\backslash\)n"});
311 
312     \textcolor{comment}{/* prevent an unnecessary prompt */}
313     \hyperlink{role_8c_a521efbade09bd358497df48478d916cd}{rigid\_role\_checks}();
314 
315     \textcolor{comment}{/* Should we randomly pick for the player? */}
316     \textcolor{keywordflow}{if} (!\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall} &&
317         (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} ||
318          \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} == \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE})) \{
319         \textcolor{comment}{/* int echoline; */}
320         \textcolor{keywordtype}{char} *prompt = \hyperlink{role_8c_aeb13a1e08874572ded1b2c8f72339a70}{build\_plselection\_prompt}(pbuf, 
      \hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole},
321                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign});
322 
323         \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, ""); */}
324         \textcolor{comment}{/* echoline = wins[BASE\_WINDOW]->cury; */}
325         box\_result = \hyperlink{sys_2wince_2winhack_8c_a2879dc701085dff777122c1a265cc67f}{MessageBox}(\hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 
326                     \hyperlink{wceconf_8h_a2ed36c9ee770dfe5f2d0e3088a62adad}{NH\_A2W}(prompt, wbuf, \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}), 
327                     TEXT(\textcolor{stringliteral}{"NetHack for Windows"}),
328 #\textcolor{keywordflow}{if} defined(WIN\_CE\_SMARTPHONE)
329                     MB\_YESNO | MB\_DEFBUTTON1 
330 #\textcolor{keywordflow}{else}                   
331                     MB\_YESNOCANCEL | MB\_DEFBUTTON1 
332 #endif
333                     );
334 
335         pick4u = (box\_result == IDYES) ? \textcolor{charliteral}{'y'} : (box\_result == IDNO) ? \textcolor{charliteral}{'n'} : \textcolor{charliteral}{'\(\backslash\)033'};
336         \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, prompt); */}
337         \textcolor{keywordflow}{do} \{
338         \textcolor{comment}{/* pick4u = lowc(readchar()); */}
339         \textcolor{keywordflow}{if} (\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(\hyperlink{decl_8h_acf3ecfe1055b7bede365ef39613f2b7c}{quitchars}, pick4u)) pick4u = \textcolor{charliteral}{'y'};
340         \} \textcolor{keywordflow}{while}(!\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(\hyperlink{decl_8h_a435ebb3887b48075c97ff301b972ba1b}{ynqchars}, pick4u));
341         \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})strlen(prompt) + 1 < \hyperlink{winext_8h_abdcb66bae1fc240beb333f1932bdc30d}{CO}) \{
342         \textcolor{comment}{/* Echo choice and move back down line */}
343         \textcolor{comment}{/* tty\_putsym(BASE\_WINDOW, (int)strlen(prompt)+1, echoline, pick4u); */}
344         \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, ""); */}
345         \} \textcolor{keywordflow}{else}
346         \textcolor{comment}{/* Otherwise it's hard to tell where to echo, and things are}
347 \textcolor{comment}{         * wrapping a bit messily anyway, so (try to) make sure the next}
348 \textcolor{comment}{         * question shows up well and doesn't get wrapped at the}
349 \textcolor{comment}{         * bottom of the window.}
350 \textcolor{comment}{         */}
351         \textcolor{comment}{/* tty\_clear\_nhwindow(BASE\_WINDOW) */} ;
352         
353         \textcolor{keywordflow}{if} (pick4u != \textcolor{charliteral}{'y'} && pick4u != \textcolor{charliteral}{'n'}) \{
354 give\_up:    \textcolor{comment}{/* Quit */}
355         \textcolor{keywordflow}{if} (selected) \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t}) selected);
356         \hyperlink{sys_2wince_2mswproc_8c_aa32bde5286c21c371bf075670d1a85aa}{bail}((\textcolor{keywordtype}{char} *)0);
357         \textcolor{comment}{/*NOTREACHED*/}
358         \textcolor{keywordflow}{return};
359         \}
360     \}
361 
362     (void)  \hyperlink{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}{root\_plselection\_prompt}(plbuf, \hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ} - 1,
363             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign});
364 
365     \textcolor{comment}{/* Select a role, if necessary */}
366     \textcolor{comment}{/* we'll try to be compatible with pre-selected race/gender/alignment,}
367 \textcolor{comment}{     * but may not succeed */}
368     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} < 0) \{
369         \textcolor{keywordtype}{char} rolenamebuf[\hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ}];
370         \textcolor{comment}{/* Process the choice */}
371         \textcolor{keywordflow}{if} (pick4u == \textcolor{charliteral}{'y'} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM} || 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall}) \{
372         \textcolor{comment}{/* Pick a random role */}
373         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a45a06501725a029f2a6d153cc0018cef}{pick\_role}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
374                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
375         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} < 0) \{
376             \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Incompatible role!"); */}
377             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}();
378         \}
379         \} \textcolor{keywordflow}{else} \{
380             \textcolor{comment}{/* tty\_clear\_nhwindow(BASE\_WINDOW); */}
381         \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Choosing Character's Role"); */}
382         \textcolor{comment}{/* Prompt for a role */}
383         win = \hyperlink{winprocs_8h_aa13fb35379049d1836397492d10b6b0c}{create\_nhwindow}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU});
384         \hyperlink{winprocs_8h_a466fbda9d8533b050350184f5a095617}{start\_menu}(win);
385         any.\hyperlink{unionany_a570c320f6790aab4b51733abc54827d7}{a\_void} = 0;         \textcolor{comment}{/* zero out all bits */}
386         \textcolor{keywordflow}{for} (i = 0; \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.\hyperlink{structRoleName_a264d1ed0d4715edaaad295e8ab4c1002}{m}; i++) \{
387             \textcolor{keywordflow}{if} (\hyperlink{role_8c_a318d1e9bf43d8ea42709dc462487d4e2}{ok\_role}(i, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
388                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
389             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;   \textcolor{comment}{/* must be non-zero */}
390             thisch = \hyperlink{winmain_8c_aa30998af60fa0de85b3457cb346c88e6}{lowc}(\hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m[0]);
391             \textcolor{keywordflow}{if} (thisch == lastch) thisch = highc(thisch);
392             \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} != \hyperlink{you_8h_a2ebee97eaa15f8971117c3aa8e40126c}{ROLE\_NONE} && \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} != \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM}) \{
393                 \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} == 1  && \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{structRole_aca88aa13366db080d9a996e0c8a6c767}{name}.
      \hyperlink{structRoleName_a9d8f4b8c99abfbf5ca40901e5dcc581a}{f})
394                     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(rolenamebuf, \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f);
395                 \textcolor{keywordflow}{else}
396                     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(rolenamebuf, \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m);
397             \} \textcolor{keywordflow}{else} \{
398                 \textcolor{keywordflow}{if} (\hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f) \{
399                     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(rolenamebuf, \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m);
400                     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(rolenamebuf, \textcolor{stringliteral}{"/"});
401                     \hyperlink{global_8h_a6d985a6c569a61be75fcacf7623f0988}{Strcat}(rolenamebuf, \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.f);
402                 \} \textcolor{keywordflow}{else} 
403                     \hyperlink{global_8h_add22f733d1f2c380499f495068e42b7c}{Strcpy}(rolenamebuf, \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[i].\hyperlink{lev__main_8c_a8f8f80d37794cde9472343e4487ba3eb}{name}.m);
404             \}   
405             \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any, thisch,
406                 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, an(rolenamebuf), \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
407             lastch = thisch;
408             \}
409         \}
410         any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_a45a06501725a029f2a6d153cc0018cef}{pick\_role}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
411                     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM})+1;
412         \textcolor{keywordflow}{if} (any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} == 0)    \textcolor{comment}{/* must be non-zero */}
413             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}()+1;
414         \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'*'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
415                 \textcolor{stringliteral}{"Random"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
416         any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;   \textcolor{comment}{/* must be non-zero */}
417         \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'q'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
418                 \textcolor{stringliteral}{"Quit"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
419         \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(pbuf, \textcolor{stringliteral}{"Pick a role for your %s"}, plbuf);
420         \hyperlink{winprocs_8h_a26f49f5dfc880f4a810f61b5beae4a71}{end\_menu}(win, pbuf);
421         n = \hyperlink{winprocs_8h_afdaac8ee2b6bdd0a0045b81a0cfbe1fc}{select\_menu}(win, \hyperlink{wintype_8h_a53377e7b2fddfaf7cc2351dab3b2b139}{PICK\_ONE}, &selected);
422         \hyperlink{winprocs_8h_a77ac4f50de0eedeaead791812762c6a0}{destroy\_nhwindow}(win);
423 
424         \textcolor{comment}{/* Process the choice */}
425         \textcolor{keywordflow}{if} (n != 1 || selected[0].item.a\_int == any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int})
426             \textcolor{keywordflow}{goto} give\_up;       \textcolor{comment}{/* Selected quit */}
427 
428         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole} = selected[0].\hyperlink{structmi_a24f26cd1b01d3cf3ed16b1fd020d3a08}{item}.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} - 1;
429         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t}) selected),  selected = 0;
430         \}
431         (void)  \hyperlink{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}{root\_plselection\_prompt}(plbuf, \hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ} - 1,
432             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign});
433     \}
434     
435     \textcolor{comment}{/* Select a race, if necessary */}
436     \textcolor{comment}{/* force compatibility with role, try for compatibility with}
437 \textcolor{comment}{     * pre-selected gender/alignment */}
438     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} < 0 || !\hyperlink{role_8c_a648c22cd7c57851ea871247be474763b}{validrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace})) \{
439         \textcolor{comment}{/* pre-selected race not valid */}
440         \textcolor{keywordflow}{if} (pick4u == \textcolor{charliteral}{'y'} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM} || 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall}) \{
441         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = \hyperlink{role_8c_aa6df5e095937cd04b595a860f324c3b6}{pick\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
442                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
443         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} < 0) \{
444             \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Incompatible race!"); */}
445             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = \hyperlink{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{randrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole});
446         \}
447         \} \textcolor{keywordflow}{else} \{    \textcolor{comment}{/* pick4u == 'n' */}
448         \textcolor{comment}{/* Count the number of valid races */}
449         n = 0;  \textcolor{comment}{/* number valid */}
450         k = 0;  \textcolor{comment}{/* valid race */}
451         \textcolor{keywordflow}{for} (i = 0; \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++) \{
452             \textcolor{keywordflow}{if} (\hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, i, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
453                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
454             n++;
455             k = i;
456             \}
457         \}
458         \textcolor{keywordflow}{if} (n == 0) \{
459             \textcolor{keywordflow}{for} (i = 0; \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++) \{
460             \textcolor{keywordflow}{if} (\hyperlink{role_8c_a648c22cd7c57851ea871247be474763b}{validrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, i)) \{
461                 n++;
462                 k = i;
463             \}
464             \}
465         \}
466 
467         \textcolor{comment}{/* Permit the user to pick, if there is more than one */}
468         \textcolor{keywordflow}{if} (n > 1) \{
469             \textcolor{comment}{/* tty\_clear\_nhwindow(BASE\_WINDOW); */}
470             \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Choosing Race"); */}
471             win = \hyperlink{winprocs_8h_aa13fb35379049d1836397492d10b6b0c}{create\_nhwindow}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU});
472             \hyperlink{winprocs_8h_a466fbda9d8533b050350184f5a095617}{start\_menu}(win);
473             any.\hyperlink{unionany_a570c320f6790aab4b51733abc54827d7}{a\_void} = 0;         \textcolor{comment}{/* zero out all bits */}
474             \textcolor{keywordflow}{for} (i = 0; \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].\hyperlink{structRace_a5a94ed91d36f9a470a6bb7c5b28dd8a2}{noun}; i++)
475             \textcolor{keywordflow}{if} (\hyperlink{role_8c_a56d4f004e4333c757761926cdba6f86b}{ok\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, i, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
476                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
477                 any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;   \textcolor{comment}{/* must be non-zero */}
478                 \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any, \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].noun[0],
479                 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, \hyperlink{you_8h_a7ebf30ca392e4038a1d95c63f317d967}{races}[i].noun, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
480             \}
481             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_aa6df5e095937cd04b595a860f324c3b6}{pick\_race}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
482                     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM})+1;
483             \textcolor{keywordflow}{if} (any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} == 0)    \textcolor{comment}{/* must be non-zero */}
484             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_a9add865e024d4a3d730b7b820e2ea2ef}{randrace}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole})+1;
485             \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'*'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
486                     \textcolor{stringliteral}{"Random"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
487             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;   \textcolor{comment}{/* must be non-zero */}
488             \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'q'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
489                     \textcolor{stringliteral}{"Quit"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
490             \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(pbuf, \textcolor{stringliteral}{"Pick the race of your %s"}, plbuf);
491             \hyperlink{winprocs_8h_a26f49f5dfc880f4a810f61b5beae4a71}{end\_menu}(win, pbuf);
492             n = \hyperlink{winprocs_8h_afdaac8ee2b6bdd0a0045b81a0cfbe1fc}{select\_menu}(win, \hyperlink{wintype_8h_a53377e7b2fddfaf7cc2351dab3b2b139}{PICK\_ONE}, &selected);
493             \hyperlink{winprocs_8h_a77ac4f50de0eedeaead791812762c6a0}{destroy\_nhwindow}(win);
494             \textcolor{keywordflow}{if} (n != 1 || selected[0].item.a\_int == any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int})
495             \textcolor{keywordflow}{goto} give\_up;       \textcolor{comment}{/* Selected quit */}
496 
497             k = selected[0].\hyperlink{structmi_a24f26cd1b01d3cf3ed16b1fd020d3a08}{item}.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} - 1;
498             \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t}) selected),  selected = 0;
499         \}
500         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace} = k;
501         \}
502         (void)  \hyperlink{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}{root\_plselection\_prompt}(plbuf, \hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ} - 1,
503             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign});
504     \}
505 
506     \textcolor{comment}{/* Select a gender, if necessary */}
507     \textcolor{comment}{/* force compatibility with role/race, try for compatibility with}
508 \textcolor{comment}{     * pre-selected alignment */}
509     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} < 0 || !\hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
510                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend})) \{
511         \textcolor{comment}{/* pre-selected gender not valid */}
512         \textcolor{keywordflow}{if} (pick4u == \textcolor{charliteral}{'y'} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM} || 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall}) \{
513         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{pick\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
514                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
515         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} < 0) \{
516             \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Incompatible gender!"); */}
517             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = \hyperlink{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}{randgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
518         \}
519         \} \textcolor{keywordflow}{else} \{    \textcolor{comment}{/* pick4u == 'n' */}
520         \textcolor{comment}{/* Count the number of valid genders */}
521         n = 0;  \textcolor{comment}{/* number valid */}
522         k = 0;  \textcolor{comment}{/* valid gender */}
523         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
524             \textcolor{keywordflow}{if} (\hyperlink{role_8c_adc510807e3362f828c9c14174f622e9b}{ok\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i,
525                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
526             n++;
527             k = i;
528             \}
529         \}
530         \textcolor{keywordflow}{if} (n == 0) \{
531             \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++) \{
532             \textcolor{keywordflow}{if} (\hyperlink{role_8c_a2205e818d885f836907a6cf7ffa869de}{validgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i)) \{
533                 n++;
534                 k = i;
535             \}
536             \}
537         \}
538 
539         \textcolor{comment}{/* Permit the user to pick, if there is more than one */}
540         \textcolor{keywordflow}{if} (n > 1) \{
541             \textcolor{comment}{/* tty\_clear\_nhwindow(BASE\_WINDOW); */}
542             \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Choosing Gender"); */}
543             win = \hyperlink{winprocs_8h_aa13fb35379049d1836397492d10b6b0c}{create\_nhwindow}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU});
544             \hyperlink{winprocs_8h_a466fbda9d8533b050350184f5a095617}{start\_menu}(win);
545             any.\hyperlink{unionany_a570c320f6790aab4b51733abc54827d7}{a\_void} = 0;         \textcolor{comment}{/* zero out all bits */}
546             \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a8b377306ace79d33d0b4b74dbd88b819}{ROLE\_GENDERS}; i++)
547             \textcolor{keywordflow}{if} (\hyperlink{role_8c_adc510807e3362f828c9c14174f622e9b}{ok\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i,
548                                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
549                 any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;
550                 \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any, \hyperlink{you_8h_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].adj[0],
551                 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, \hyperlink{you_8h_a054315bd2a7d5525da7f008b40c3a6bf}{genders}[i].adj, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
552             \}
553             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_a183d9c61e1fe467eb71ae8a4215c2b32}{pick\_gend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
554                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM})+1;
555             \textcolor{keywordflow}{if} (any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} == 0)    \textcolor{comment}{/* must be non-zero */}
556             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_aaebe91ffe175f0b637abb9f5eb06b61c}{randgend}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace})+1;
557             \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'*'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
558                     \textcolor{stringliteral}{"Random"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
559             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;   \textcolor{comment}{/* must be non-zero */}
560             \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'q'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
561                     \textcolor{stringliteral}{"Quit"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
562             \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(pbuf, \textcolor{stringliteral}{"Pick the gender of your %s"}, plbuf);
563             \hyperlink{winprocs_8h_a26f49f5dfc880f4a810f61b5beae4a71}{end\_menu}(win, pbuf);
564             n = \hyperlink{winprocs_8h_afdaac8ee2b6bdd0a0045b81a0cfbe1fc}{select\_menu}(win, \hyperlink{wintype_8h_a53377e7b2fddfaf7cc2351dab3b2b139}{PICK\_ONE}, &selected);
565             \hyperlink{winprocs_8h_a77ac4f50de0eedeaead791812762c6a0}{destroy\_nhwindow}(win);
566             \textcolor{keywordflow}{if} (n != 1 || selected[0].item.a\_int == any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int})
567             \textcolor{keywordflow}{goto} give\_up;       \textcolor{comment}{/* Selected quit */}
568 
569             k = selected[0].\hyperlink{structmi_a24f26cd1b01d3cf3ed16b1fd020d3a08}{item}.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} - 1;
570             \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t}) selected),  selected = 0;
571         \}
572         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend} = k;
573         \}
574         (void)  \hyperlink{role_8c_a21c76bcc98f4aa12b7ba5b8c11a027d6}{root\_plselection\_prompt}(plbuf, \hyperlink{global_8h_a1bb6bf3db7bf52ca1e9fa8fbcd6e9630}{QBUFSZ} - 1,
575             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign});
576     \}
577 
578     \textcolor{comment}{/* Select an alignment, if necessary */}
579     \textcolor{comment}{/* force compatibility with role/race/gender */}
580     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} < 0 || !\hyperlink{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{validalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
581                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign})) \{
582         \textcolor{comment}{/* pre-selected alignment not valid */}
583         \textcolor{keywordflow}{if} (pick4u == \textcolor{charliteral}{'y'} || \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} == \hyperlink{you_8h_a7ddd1e4a9a55365ad9e36cd524be0480}{ROLE\_RANDOM} || 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a06854edfd7c6649ef7381c7ca1865f85}{randomall}) \{
584         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{pick\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
585                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM});
586         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} < 0) \{
587             \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Incompatible alignment!"); */}
588             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = \hyperlink{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{randalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace});
589         \}
590         \} \textcolor{keywordflow}{else} \{    \textcolor{comment}{/* pick4u == 'n' */}
591         \textcolor{comment}{/* Count the number of valid alignments */}
592         n = 0;  \textcolor{comment}{/* number valid */}
593         k = 0;  \textcolor{comment}{/* valid alignment */}
594         \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
595             \textcolor{keywordflow}{if} (\hyperlink{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{ok\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend},
596                             i)) \{
597             n++;
598             k = i;
599             \}
600         \}
601         \textcolor{keywordflow}{if} (n == 0) \{
602             \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++) \{
603             \textcolor{keywordflow}{if} (\hyperlink{role_8c_ab01f2c791fe250b69c15c02535bca8b0}{validalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace}, i)) \{
604                 n++;
605                 k = i;
606             \}
607             \}
608         \}
609 
610         \textcolor{comment}{/* Permit the user to pick, if there is more than one */}
611         \textcolor{keywordflow}{if} (n > 1) \{
612             \textcolor{comment}{/* tty\_clear\_nhwindow(BASE\_WINDOW); */}
613             \textcolor{comment}{/* tty\_putstr(BASE\_WINDOW, 0, "Choosing Alignment"); */}
614             win = \hyperlink{winprocs_8h_aa13fb35379049d1836397492d10b6b0c}{create\_nhwindow}(\hyperlink{wintype_8h_a60a03e50aaeef35cd7cd3bf6f790791c}{NHW\_MENU});
615             \hyperlink{winprocs_8h_a466fbda9d8533b050350184f5a095617}{start\_menu}(win);
616             any.\hyperlink{unionany_a570c320f6790aab4b51733abc54827d7}{a\_void} = 0;         \textcolor{comment}{/* zero out all bits */}
617             \textcolor{keywordflow}{for} (i = 0; i < \hyperlink{you_8h_a06accde00ac7683fc3293968cbc5e17a}{ROLE\_ALIGNS}; i++)
618             \textcolor{keywordflow}{if} (\hyperlink{role_8c_adf8f18a510b62a0c8f43f9521e2b8cc5}{ok\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.
      \hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
619                             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, i)) \{
620                 any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;
621                 \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any, \hyperlink{you_8h_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[i].adj[0],
622                  0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE}, \hyperlink{you_8h_abbb6c9f0c6fc7aa532b2ed8dec7ffb29}{aligns}[i].adj, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
623             \}
624             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_a9697cef7cfa173a40d57e0626fed19c5}{pick\_align}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace},
625                         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ad3655bdc9c8984f4d3c4944a7a72795a}{initgend}, \hyperlink{hack_8h_ad866a8283b1279be18b8066faa764467}{PICK\_RANDOM})+1;
626             \textcolor{keywordflow}{if} (any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} == 0)    \textcolor{comment}{/* must be non-zero */}
627             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = \hyperlink{role_8c_a2dae87abbcfc7f0fea6b779bc3387c69}{randalign}(\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a3b31f41da5faa08ea53d1e7ddf857088}{initrole}, 
      \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a4c946d68b3e8e39311a0d20be0027a26}{initrace})+1;
628             \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'*'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
629                     \textcolor{stringliteral}{"Random"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
630             any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} = i+1;   \textcolor{comment}{/* must be non-zero */}
631             \hyperlink{winprocs_8h_a67d909f9e2dbdf82e7af48ed950c0e07}{add\_menu}(win, \hyperlink{display_8h_ac36b9cc8436af3cf1f7f9919878d8354}{NO\_GLYPH}, &any , \textcolor{charliteral}{'q'}, 0, \hyperlink{wintype_8h_a20a20b74e8cf84ecfbf3c8665c059636}{ATR\_NONE},
632                     \textcolor{stringliteral}{"Quit"}, \hyperlink{hack_8h_a1b4cfefbc89386fb8977794f02b0a13c}{MENU\_UNSELECTED});
633             \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(pbuf, \textcolor{stringliteral}{"Pick the alignment of your %s"}, plbuf);
634             \hyperlink{winprocs_8h_a26f49f5dfc880f4a810f61b5beae4a71}{end\_menu}(win, pbuf);
635             n = \hyperlink{winprocs_8h_afdaac8ee2b6bdd0a0045b81a0cfbe1fc}{select\_menu}(win, \hyperlink{wintype_8h_a53377e7b2fddfaf7cc2351dab3b2b139}{PICK\_ONE}, &selected);
636             \hyperlink{winprocs_8h_a77ac4f50de0eedeaead791812762c6a0}{destroy\_nhwindow}(win);
637             \textcolor{keywordflow}{if} (n != 1 || selected[0].item.a\_int == any.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int})
638             \textcolor{keywordflow}{goto} give\_up;       \textcolor{comment}{/* Selected quit */}
639 
640             k = selected[0].\hyperlink{structmi_a24f26cd1b01d3cf3ed16b1fd020d3a08}{item}.\hyperlink{unionany_aae9fa40e12da390154868ea24a96c561}{a\_int} - 1;
641             \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}((\hyperlink{tradstdc_8h_ad4a7dab7269b4b00e3c7c7d2e66f31cd}{genericptr\_t}) selected),  selected = 0;
642         \}
643         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a66f0ee2707e5a565a25f948658362ced}{initalign} = k;
644         \}
645     \}
646     \textcolor{comment}{/* Success! */}
647     \textcolor{comment}{/* tty\_display\_nhwindow(BASE\_WINDOW, FALSE); */}
648 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{sys_2wince_2mswproc_8c_a64dbea5b4c581d1412e4fa6db6587c89}{\index{sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}!mswin\+\_\+procs@{mswin\+\_\+procs}}
\index{mswin\+\_\+procs@{mswin\+\_\+procs}!sys/wince/mswproc.\+c@{sys/wince/mswproc.\+c}}
\subsubsection[{mswin\+\_\+procs}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf window\+\_\+procs} mswin\+\_\+procs}}\label{sys_2wince_2mswproc_8c_a64dbea5b4c581d1412e4fa6db6587c89}


Definition at line 40 of file mswproc.\+c.

