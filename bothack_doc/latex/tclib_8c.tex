\hypertarget{tclib_8c}{\section{nethack/sys/share/tclib.c File Reference}
\label{tclib_8c}\index{nethack/sys/share/tclib.\+c@{nethack/sys/share/tclib.\+c}}
}
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{tclib_8c_aabe12332269bfd961876a51f7daf3435}{T\+E\+R\+M\+C\+A\+P}~\char`\"{}/etc/termcap\char`\"{}
\item 
\#define \hyperlink{tclib_8c_aa764c7e6f061f4756a7463899c07761c}{T\+C\+B\+U\+F\+S\+I\+Z}~1024
\item 
\#define \hyperlink{tclib_8c_a4af1b6159e447ba72652bb7fcdfa726e}{E\+S\+C}~'\textbackslash{}033'	/$\ast$ termcap's '\textbackslash{}\hyperlink{win_2win32_2winMS_8h_a07484107e6d9fdf38b53edf631d6511d}{E}' $\ast$/
\item 
\#define \hyperlink{tclib_8c_ab610cca62532f04c7b1e0d61eb7816ee}{B\+E\+L}~'\textbackslash{}007'	/$\ast$ A\+N\+S\+I \hyperlink{gnsignal_8c_ad1368c2a0fa68385ecdd9f1016563c08}{C}'s '\textbackslash{}a' (we assume A\+S\+C\+I\+I here...) $\ast$/
\item 
\#define \hyperlink{tclib_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}(a, b)~((a)$<$(b)?(a)\+:(b))
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{tclib_8c_a4bd9888f5fc590d16ec1d1efd9d85ab7}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_ae9cab69a6f99636ad8607ddde519ae6d}{tgetent},(char $\ast$, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$))
\item 
int \hyperlink{tclib_8c_acc568101b22ba0d0855c91e6a9fcc3f8}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_aa742ee6433dc536257d1e4a375d4daf1}{tgetflag},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$))
\item 
int \hyperlink{tclib_8c_a5750eb9e113fcc03a3e3033aca2fe689}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_a5756e7324140595a92f4fa43bd2042ee}{tgetnum},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$))
\item 
char $\ast$ \hyperlink{tclib_8c_ac995ec64213be0bf17f7913bac253a33}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_a5fe11388a3903379d823ca0f63b2808d}{tgetstr},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, char $\ast$$\ast$))
\item 
char $\ast$ \hyperlink{tclib_8c_add9c14248e074794fc38ac7da12a5899}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_a713e2ae84f728c2d4f4be7ff21b2b0fe}{tgoto},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, int, int))
\item 
char $\ast$ \hyperlink{tclib_8c_ac4aae92a15dd32ed949c6c7d8df14216}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_a471b5d9aa9621d6fdd83f7277b6dfd32}{tparam},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, char $\ast$, int, int, int, int, int))
\item 
void \hyperlink{tclib_8c_a2d41393a3a2a77e73ea55e2458559f02}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_a113ec2892c2fa48959fff022f8363a92}{tputs},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, int, int($\ast$)()))
\item 
static int \hyperlink{tclib_8c_a28e47abed4210d387999663ae675549e}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_a185d6a990a884eb19a1c4e28bcfbafa7}{tc\+\_\+store},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$))
\item 
static char $\ast$ \hyperlink{tclib_8c_a8cdec1420e985b3dabe53f0939a36add}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_ae91a8a40ca057b4a1df3a6851a4a2db6}{tc\+\_\+find},(F\+I\+L\+E $\ast$, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, char $\ast$, int))
\item 
static char $\ast$ \hyperlink{tclib_8c_a8853fac68f612abfef5c5c34614c5069}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_abf3c45708c92fd7948d238cc881b8c63}{tc\+\_\+name},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, char $\ast$))
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{tclib_8c_a2cbdd0b23e020277b77180d767e9352f}{F\+D\+E\+C\+L} (\hyperlink{tclib_8c_aa7d148560dbec2e0735394e12d9da072}{tc\+\_\+field},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$$\ast$))
\item 
int \hyperlink{tclib_8c_ae9cab69a6f99636ad8607ddde519ae6d}{tgetent} (char $\ast$entbuf, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$term)
\item 
static int \hyperlink{tclib_8c_a185d6a990a884eb19a1c4e28bcfbafa7}{tc\+\_\+store} (char $\ast$trm, char $\ast$ent) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
static char $\ast$ \hyperlink{tclib_8c_ae91a8a40ca057b4a1df3a6851a4a2db6}{tc\+\_\+find} (F\+I\+L\+E $\ast$\hyperlink{tile2bmp_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp}, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$term, char $\ast$buffer, int bufsiz)
\item 
static char $\ast$ \hyperlink{tclib_8c_abf3c45708c92fd7948d238cc881b8c63}{tc\+\_\+name} (char $\ast$nam, char $\ast$ent) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
int \hyperlink{tclib_8c_a5756e7324140595a92f4fa43bd2042ee}{tgetnum} (char $\ast$which) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
int \hyperlink{tclib_8c_aa742ee6433dc536257d1e4a375d4daf1}{tgetflag} (char $\ast$which) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
char $\ast$ \hyperlink{tclib_8c_a5fe11388a3903379d823ca0f63b2808d}{tgetstr} (char $\ast$which, char $\ast$$\ast$outptr) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{tclib_8c_aa7d148560dbec2e0735394e12d9da072}{tc\+\_\+field} (char $\ast$field, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$$\ast$tc\+\_\+end) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
char $\ast$ \hyperlink{tclib_8c_a713e2ae84f728c2d4f4be7ff21b2b0fe}{tgoto} (char $\ast$cm, int col, int row) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
char $\ast$ \hyperlink{tclib_8c_a471b5d9aa9621d6fdd83f7277b6dfd32}{tparam} (char $\ast$ctl, char $\ast$\hyperlink{xpm2img_8c_a6f4b9854141692d23b0d072176044ca6}{buf}, int buflen, int row, int col, int row2, int col2) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
void \hyperlink{tclib_8c_a113ec2892c2fa48959fff022f8363a92}{tputs} (char $\ast$string, int range, int($\ast$output\+\_\+func)()) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char \hyperlink{tclib_8c_a5c0353915cefce9e14f1c887a044f8e6}{P\+C}
\item 
char $\ast$ \hyperlink{tclib_8c_a49c4bb41d1742e3b2e57330cd2071f83}{B\+C}
\item 
char $\ast$ \hyperlink{tclib_8c_abcd8bb6995506a465b2544dd6af0b2bd}{U\+P}
\item 
short \hyperlink{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}{ospeed}
\item 
static char $\ast$ \hyperlink{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{tc\+\_\+entry}
\item 
static char \hyperlink{tclib_8c_a0f7a0044f467c39ec019a185323f87b7}{bc\+\_\+up\+\_\+buf} \mbox{[}24\mbox{]}
\item 
static short \hyperlink{tclib_8c_ac48c9eb12879313eae9e23d4076ed8bf}{baud\+\_\+rates} \mbox{[}$\,$\mbox{]}
\item 
static char \hyperlink{tclib_8c_a78176ceaa4966543a360443bbbab8714}{cmbuf} \mbox{[}64\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{tclib_8c_ab610cca62532f04c7b1e0d61eb7816ee}{\index{tclib.\+c@{tclib.\+c}!B\+E\+L@{B\+E\+L}}
\index{B\+E\+L@{B\+E\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{B\+E\+L}]{\setlength{\rightskip}{0pt plus 5cm}\#define B\+E\+L~'\textbackslash{}007'	/$\ast$ A\+N\+S\+I {\bf C}'s '\textbackslash{}a' (we assume A\+S\+C\+I\+I here...) $\ast$/}}\label{tclib_8c_ab610cca62532f04c7b1e0d61eb7816ee}


Definition at line 16 of file tclib.\+c.



Referenced by tgetstr().

\hypertarget{tclib_8c_a4af1b6159e447ba72652bb7fcdfa726e}{\index{tclib.\+c@{tclib.\+c}!E\+S\+C@{E\+S\+C}}
\index{E\+S\+C@{E\+S\+C}!tclib.\+c@{tclib.\+c}}
\subsubsection[{E\+S\+C}]{\setlength{\rightskip}{0pt plus 5cm}\#define E\+S\+C~'\textbackslash{}033'	/$\ast$ termcap's '\textbackslash{}{\bf E}' $\ast$/}}\label{tclib_8c_a4af1b6159e447ba72652bb7fcdfa726e}


Definition at line 15 of file tclib.\+c.



Referenced by tgetstr().

\hypertarget{tclib_8c_ac6afabdc09a49a433ee19d8a9486056d}{\index{tclib.\+c@{tclib.\+c}!min@{min}}
\index{min@{min}!tclib.\+c@{tclib.\+c}}
\subsubsection[{min}]{\setlength{\rightskip}{0pt plus 5cm}\#define min(
\begin{DoxyParamCaption}
\item[{}]{a, }
\item[{}]{b}
\end{DoxyParamCaption}
)~((a)$<$(b)?(a)\+:(b))}}\label{tclib_8c_ac6afabdc09a49a433ee19d8a9486056d}


Definition at line 58 of file tclib.\+c.



Referenced by tc\+\_\+find().

\hypertarget{tclib_8c_aa764c7e6f061f4756a7463899c07761c}{\index{tclib.\+c@{tclib.\+c}!T\+C\+B\+U\+F\+S\+I\+Z@{T\+C\+B\+U\+F\+S\+I\+Z}}
\index{T\+C\+B\+U\+F\+S\+I\+Z@{T\+C\+B\+U\+F\+S\+I\+Z}!tclib.\+c@{tclib.\+c}}
\subsubsection[{T\+C\+B\+U\+F\+S\+I\+Z}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+C\+B\+U\+F\+S\+I\+Z~1024}}\label{tclib_8c_aa764c7e6f061f4756a7463899c07761c}


Definition at line 13 of file tclib.\+c.



Referenced by tc\+\_\+find(), and tgetent().

\hypertarget{tclib_8c_aabe12332269bfd961876a51f7daf3435}{\index{tclib.\+c@{tclib.\+c}!T\+E\+R\+M\+C\+A\+P@{T\+E\+R\+M\+C\+A\+P}}
\index{T\+E\+R\+M\+C\+A\+P@{T\+E\+R\+M\+C\+A\+P}!tclib.\+c@{tclib.\+c}}
\subsubsection[{T\+E\+R\+M\+C\+A\+P}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+E\+R\+M\+C\+A\+P~\char`\"{}/etc/termcap\char`\"{}}}\label{tclib_8c_aabe12332269bfd961876a51f7daf3435}


Definition at line 10 of file tclib.\+c.



Referenced by tgetent().



\subsection{Function Documentation}
\hypertarget{tclib_8c_a4bd9888f5fc590d16ec1d1efd9d85ab7}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}int F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tgetent}}]{, }
\item[{(char $\ast$, {\bf const} char $\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{tclib_8c_a4bd9888f5fc590d16ec1d1efd9d85ab7}
\hypertarget{tclib_8c_acc568101b22ba0d0855c91e6a9fcc3f8}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}int F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tgetflag}}]{, }
\item[{({\bf const} char $\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{tclib_8c_acc568101b22ba0d0855c91e6a9fcc3f8}
\hypertarget{tclib_8c_a5750eb9e113fcc03a3e3033aca2fe689}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}int F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tgetnum}}]{, }
\item[{({\bf const} char $\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{tclib_8c_a5750eb9e113fcc03a3e3033aca2fe689}
\hypertarget{tclib_8c_ac995ec64213be0bf17f7913bac253a33}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tgetstr}}]{, }
\item[{({\bf const} char $\ast$, char $\ast$$\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{tclib_8c_ac995ec64213be0bf17f7913bac253a33}
\hypertarget{tclib_8c_add9c14248e074794fc38ac7da12a5899}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tgoto}}]{, }
\item[{({\bf const} char $\ast$, int, int)}]{}
\end{DoxyParamCaption}
)}}\label{tclib_8c_add9c14248e074794fc38ac7da12a5899}
\hypertarget{tclib_8c_ac4aae92a15dd32ed949c6c7d8df14216}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tparam}}]{, }
\item[{({\bf const} char $\ast$, char $\ast$, int, int, int, int, int)}]{}
\end{DoxyParamCaption}
)}}\label{tclib_8c_ac4aae92a15dd32ed949c6c7d8df14216}
\hypertarget{tclib_8c_a2d41393a3a2a77e73ea55e2458559f02}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tputs}}]{, }
\item[{({\bf const} char $\ast$, int, int($\ast$)())}]{}
\end{DoxyParamCaption}
)}}\label{tclib_8c_a2d41393a3a2a77e73ea55e2458559f02}
\hypertarget{tclib_8c_a28e47abed4210d387999663ae675549e}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static int F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tc\+\_\+store}}]{, }
\item[{({\bf const} char $\ast$, {\bf const} char $\ast$)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a28e47abed4210d387999663ae675549e}
\hypertarget{tclib_8c_a8cdec1420e985b3dabe53f0939a36add}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static char$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tc\+\_\+find}}]{, }
\item[{(F\+I\+L\+E $\ast$, {\bf const} char $\ast$, char $\ast$, int)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a8cdec1420e985b3dabe53f0939a36add}
\hypertarget{tclib_8c_a8853fac68f612abfef5c5c34614c5069}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static char$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tc\+\_\+name}}]{, }
\item[{({\bf const} char $\ast$, char $\ast$)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a8853fac68f612abfef5c5c34614c5069}
\hypertarget{tclib_8c_a2cbdd0b23e020277b77180d767e9352f}{\index{tclib.\+c@{tclib.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!tclib.\+c@{tclib.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf const} char$\ast$ F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf tc\+\_\+field}}]{, }
\item[{({\bf const} char $\ast$, {\bf const} char $\ast$$\ast$)}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a2cbdd0b23e020277b77180d767e9352f}
\hypertarget{tclib_8c_aa7d148560dbec2e0735394e12d9da072}{\index{tclib.\+c@{tclib.\+c}!tc\+\_\+field@{tc\+\_\+field}}
\index{tc\+\_\+field@{tc\+\_\+field}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tc\+\_\+field}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf const} char$\ast$ tc\+\_\+field (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{field, }
\item[{{\bf const} char $\ast$$\ast$}]{tc\+\_\+end}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_aa7d148560dbec2e0735394e12d9da072}


Definition at line 295 of file tclib.\+c.



References index(), and tc\+\_\+entry.



Referenced by tgetflag(), tgetnum(), and tgetstr().


\begin{DoxyCode}
298 \{
299     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *end, *q, *p = \hyperlink{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{tc\_entry};
300 
301     end = p + strlen(p);
302     \textcolor{keywordflow}{while} (p < end) \{
303     \textcolor{keywordflow}{if} ((p = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(p, \textcolor{charliteral}{':'})) == 0)
304         \textcolor{keywordflow}{break};
305     ++p;
306     \textcolor{keywordflow}{if} (p[0] == field[0] && p[1] == field[1]
307      && (p[2] == \textcolor{charliteral}{':'} || p[2] == \textcolor{charliteral}{'='} || p[2] == \textcolor{charliteral}{'#'} || p[2] == \textcolor{charliteral}{'@'}))
308         \textcolor{keywordflow}{break};
309     \}
310     \textcolor{keywordflow}{if} (tc\_end) \{
311     \textcolor{keywordflow}{if} (p) \{
312         \textcolor{keywordflow}{if} ((q = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(p + 2, \textcolor{charliteral}{':'})) == 0)  q = end;
313     \} \textcolor{keywordflow}{else}
314         q = 0;
315     *tc\_end = q;
316     \}
317     \textcolor{keywordflow}{return} p;
318 \}
\end{DoxyCode}
\hypertarget{tclib_8c_ae91a8a40ca057b4a1df3a6851a4a2db6}{\index{tclib.\+c@{tclib.\+c}!tc\+\_\+find@{tc\+\_\+find}}
\index{tc\+\_\+find@{tc\+\_\+find}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tc\+\_\+find}]{\setlength{\rightskip}{0pt plus 5cm}static char$\ast$ tc\+\_\+find (
\begin{DoxyParamCaption}
\item[{F\+I\+L\+E $\ast$}]{fp, }
\item[{{\bf const} char $\ast$}]{term, }
\item[{char $\ast$}]{buffer, }
\item[{int}]{bufsiz}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_ae91a8a40ca057b4a1df3a6851a4a2db6}


Definition at line 138 of file tclib.\+c.



References B\+U\+F\+S\+I\+Z, in, index(), min, rewind, tc\+\_\+name(), and T\+C\+B\+U\+F\+S\+I\+Z.



Referenced by tgetent().


\begin{DoxyCode}
143 \{
144     \textcolor{keywordtype}{int} \hyperlink{mrecover_8c_a9ea2e00e47c9215b7502040089d8e601}{in}, len, first, skip;
145     \textcolor{keywordtype}{char} *ip, *op, *tc\_fetch, tcbuf[\hyperlink{tclib_8c_aa764c7e6f061f4756a7463899c07761c}{TCBUFSIZ}];
146 
147     buffer[0] = \textcolor{charliteral}{'\(\backslash\)0'};
148     \textcolor{keywordflow}{do} \{
149     ip = tcbuf,  in = \hyperlink{tclib_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}(bufsiz,\hyperlink{tclib_8c_aa764c7e6f061f4756a7463899c07761c}{TCBUFSIZ});
150     first = 1,  skip = 0;
151     \textcolor{comment}{/* load entire next entry, including any continuations */}
152     \textcolor{keywordflow}{do} \{
153         \textcolor{keywordflow}{if} (!fgets(ip, \hyperlink{tclib_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}(in,\hyperlink{wceconf_8h_a72a591cf0a96cf23c63df5c78712dabe}{BUFSIZ}), \hyperlink{tile2img_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp}))  \textcolor{keywordflow}{break};
154         \textcolor{keywordflow}{if} (first)  skip = (*ip == \textcolor{charliteral}{'#'}),  first = 0;
155         len = (int)strlen(ip);
156         \textcolor{keywordflow}{if} (!skip && len > 1
157          && *(ip + len - 1) == \textcolor{charliteral}{'\(\backslash\)n'} && *(ip + len - 2) == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'})
158         len -= 2;
159         ip += len,  in -= len;
160     \} \textcolor{keywordflow}{while} (*(ip - 1) != \textcolor{charliteral}{'\(\backslash\)n'} && in > 0);
161     \textcolor{keywordflow}{if} (ferror(\hyperlink{tile2img_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp}) || ip == buffer || *(ip - 1) != \textcolor{charliteral}{'\(\backslash\)n'})
162         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *)0;
163     *--ip = \textcolor{charliteral}{'\(\backslash\)0'};       \textcolor{comment}{/* strip newline */}
164     \textcolor{keywordflow}{if} (!skip)  ip = \hyperlink{tclib_8c_abf3c45708c92fd7948d238cc881b8c63}{tc\_name}(term, tcbuf);
165     \} \textcolor{keywordflow}{while} (skip || !ip);
166 
167     \textcolor{comment}{/* we have the desired entry; strip cruft and look for :tc=other: */}
168     tc\_fetch = 0;
169     \textcolor{keywordflow}{for} (op = buffer; *ip; ip++) \{
170     \textcolor{keywordflow}{if} (op == buffer || *(op - 1) != \textcolor{charliteral}{':'}
171      || (*ip != \textcolor{charliteral}{' '} && *ip != \textcolor{charliteral}{'\(\backslash\)t'} && *ip != \textcolor{charliteral}{':'}))
172         *op++ = *ip,  bufsiz -= 1;
173     \textcolor{keywordflow}{if} (ip[0] == \textcolor{charliteral}{':'} && ip[1] == \textcolor{charliteral}{'t'} && ip[2] == \textcolor{charliteral}{'c'} && ip[3] == \textcolor{charliteral}{'='}) \{
174         tc\_fetch = &ip[4];
175         \textcolor{keywordflow}{if} ((ip = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(tc\_fetch, \textcolor{charliteral}{':'})) != 0)  *ip = \textcolor{charliteral}{'\(\backslash\)0'};
176         \textcolor{keywordflow}{break};
177     \}
178     \}
179     *op = \textcolor{charliteral}{'\(\backslash\)0'};
180 
181     \textcolor{keywordflow}{if} (tc\_fetch) \{
182     \hyperlink{wceconf_8h_a86902ea8a7ab08315282c0e5472611f7}{rewind}(\hyperlink{tile2img_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp});
183     tc\_fetch = \hyperlink{tclib_8c_ae91a8a40ca057b4a1df3a6851a4a2db6}{tc\_find}(\hyperlink{tile2img_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp}, tc\_fetch, tcbuf, \hyperlink{tclib_8c_ac6afabdc09a49a433ee19d8a9486056d}{min}(bufsiz,\hyperlink{tclib_8c_aa764c7e6f061f4756a7463899c07761c}{TCBUFSIZ}));
184     \textcolor{keywordflow}{if} (!tc\_fetch)
185         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *)0;
186     \textcolor{keywordflow}{if} (op > buffer && *(op - 1) == \textcolor{charliteral}{':'} && *tc\_fetch == \textcolor{charliteral}{':'})
187         ++tc\_fetch;
188     strcpy(op, tc\_fetch);
189     \}
190     \textcolor{keywordflow}{return} buffer;
191 \}
\end{DoxyCode}
\hypertarget{tclib_8c_abf3c45708c92fd7948d238cc881b8c63}{\index{tclib.\+c@{tclib.\+c}!tc\+\_\+name@{tc\+\_\+name}}
\index{tc\+\_\+name@{tc\+\_\+name}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tc\+\_\+name}]{\setlength{\rightskip}{0pt plus 5cm}static char$\ast$ tc\+\_\+name (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{nam, }
\item[{char $\ast$}]{ent}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_abf3c45708c92fd7948d238cc881b8c63}


Definition at line 195 of file tclib.\+c.



References index().



Referenced by tc\+\_\+find().


\begin{DoxyCode}
198 \{
199     \textcolor{keywordtype}{char} *nxt, *lst, *p = ent;
200     \textcolor{keywordtype}{size\_t} n = strlen(nam);
201 
202     \textcolor{keywordflow}{if} ((lst = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(p, \textcolor{charliteral}{':'})) == 0)  lst = p + strlen(p);
203 
204     \textcolor{keywordflow}{while} (p < lst) \{
205     \textcolor{keywordflow}{if} ((nxt = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(p, \textcolor{charliteral}{'|'})) == 0 || nxt > lst)  nxt = lst;
206     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{long})(nxt - p) == (\textcolor{keywordtype}{long})n && strncmp(p, nam, n) == 0)
207         \textcolor{keywordflow}{return} lst;
208     p = nxt + 1;
209     \}
210     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *)0;
211 \}
\end{DoxyCode}
\hypertarget{tclib_8c_a185d6a990a884eb19a1c4e28bcfbafa7}{\index{tclib.\+c@{tclib.\+c}!tc\+\_\+store@{tc\+\_\+store}}
\index{tc\+\_\+store@{tc\+\_\+store}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tc\+\_\+store}]{\setlength{\rightskip}{0pt plus 5cm}static int tc\+\_\+store (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{trm, }
\item[{char $\ast$}]{ent}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a185d6a990a884eb19a1c4e28bcfbafa7}


Definition at line 98 of file tclib.\+c.



References B\+C, bc\+\_\+up\+\_\+buf, index(), ospeed, P\+C, S\+I\+Z\+E, tgetnum(), tgetstr(), and U\+P.



Referenced by tgetent().


\begin{DoxyCode}
100 \{
101     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *bar, *col;
102     \textcolor{keywordtype}{char} *s;
103     \textcolor{keywordtype}{size\_t} n;
104     \textcolor{keywordtype}{int} k;
105 
106     \textcolor{keywordflow}{if} (!ent || !*ent || !trm || !*trm || (col = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(ent, \textcolor{charliteral}{':'})) == 0)
107     \textcolor{keywordflow}{return} 0;
108     (void) strcpy(\hyperlink{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{tc\_entry}, trm);
109     \textcolor{keywordflow}{if} (((bar = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(ent, \textcolor{charliteral}{'|'})) != 0 && bar < col)
110      || ((long)(n = strlen(trm)) == (\textcolor{keywordtype}{long})(col - ent)
111         && strncmp(ent, trm, n) == 0))
112     (void) strcat(\hyperlink{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{tc\_entry}, col);
113     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (*ent == \textcolor{charliteral}{':'})
114     (void) strcat(\hyperlink{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{tc\_entry}, ent);
115     \textcolor{keywordflow}{else}
116     (\textcolor{keywordtype}{void}) strcat(strcat(\hyperlink{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{tc\_entry}, \textcolor{stringliteral}{":"}), ent);
117 
118     \textcolor{comment}{/* initialize global variables */}
119     k = \hyperlink{tclib_8c_a5756e7324140595a92f4fa43bd2042ee}{tgetnum}(\textcolor{stringliteral}{"pc"});
120     \hyperlink{tclib_8c_a5c0353915cefce9e14f1c887a044f8e6}{PC} = (k == -1) ? \textcolor{charliteral}{'\(\backslash\)0'} : (\textcolor{keywordtype}{char})k;
121     \hyperlink{tclib_8c_a49c4bb41d1742e3b2e57330cd2071f83}{BC} = s = \hyperlink{tclib_8c_a0f7a0044f467c39ec019a185323f87b7}{bc\_up\_buf};
122     \textcolor{keywordflow}{if} (!\hyperlink{tclib_8c_a5fe11388a3903379d823ca0f63b2808d}{tgetstr}(\textcolor{stringliteral}{"bc"}, &s))  (\textcolor{keywordtype}{void})strcpy(s, \textcolor{stringliteral}{"\(\backslash\)b"}),  s += 2;
123     \hyperlink{tclib_8c_abcd8bb6995506a465b2544dd6af0b2bd}{UP} = s;
124     (void)\hyperlink{tclib_8c_a5fe11388a3903379d823ca0f63b2808d}{tgetstr}(\textcolor{stringliteral}{"up"}, &s);
125 \textcolor{preprocessor}{#ifndef NO\_DELAY\_PADDING}
126     \textcolor{comment}{/* caller must set `ospeed' */}
127     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})\hyperlink{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}{ospeed} >= (int)\hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{tclib_8c_ac48c9eb12879313eae9e23d4076ed8bf}{baud\_rates}))
128     \hyperlink{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}{ospeed} = (\textcolor{keywordtype}{short})(\hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{tclib_8c_ac48c9eb12879313eae9e23d4076ed8bf}{baud\_rates}) - 1);
129     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}{ospeed} < 0)
130     \hyperlink{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}{ospeed} = 0;
131 \textcolor{preprocessor}{#endif  }\textcolor{comment}{/* !NO\_DELAY\_PADDING */}\textcolor{preprocessor}{}
132 
133     \textcolor{keywordflow}{return} 1;
134 \}
\end{DoxyCode}
\hypertarget{tclib_8c_ae9cab69a6f99636ad8607ddde519ae6d}{\index{tclib.\+c@{tclib.\+c}!tgetent@{tgetent}}
\index{tgetent@{tgetent}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tgetent}]{\setlength{\rightskip}{0pt plus 5cm}int tgetent (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{entbuf, }
\item[{{\bf const} char $\ast$}]{term}
\end{DoxyParamCaption}
)}}\label{tclib_8c_ae9cab69a6f99636ad8607ddde519ae6d}


Definition at line 63 of file tclib.\+c.



References fp, getenv, tc\+\_\+find(), tc\+\_\+store(), T\+C\+B\+U\+F\+S\+I\+Z, and T\+E\+R\+M\+C\+A\+P.


\begin{DoxyCode}
66 \{
67     \textcolor{keywordtype}{int} result;
68     FILE *\hyperlink{tile2img_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp};
69     \textcolor{keywordtype}{char} *tc = \hyperlink{wceconf_8h_a83c38fc4fff128c27ecf1e12f593a676}{getenv}(\textcolor{stringliteral}{"TERMCAP"});
70 
71     \hyperlink{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{tc\_entry} = entbuf;
72     \textcolor{keywordflow}{if} (!entbuf || !term)
73     \textcolor{keywordflow}{return} -1;
74     \textcolor{comment}{/* if $\{TERMCAP\} is found as a file, it's not an inline termcap entry */}
75     \textcolor{keywordflow}{if} ((fp = fopen(tc ? tc : \hyperlink{tclib_8c_aabe12332269bfd961876a51f7daf3435}{TERMCAP}, \textcolor{stringliteral}{"r"})) != 0)
76     tc = 0;
77     \textcolor{comment}{/* if $\{TERMCAP\} isn't a file and `term' matches $\{TERM\}, use $\{TERMCAP\} */}
78     \textcolor{keywordflow}{if} (tc) \{
79     \textcolor{keywordtype}{char} *\hyperlink{structtm}{tm} = \hyperlink{wceconf_8h_a83c38fc4fff128c27ecf1e12f593a676}{getenv}(\textcolor{stringliteral}{"TERM"});
80     \textcolor{keywordflow}{if} (tm && strcmp(tm, term) == 0)
81         \textcolor{keywordflow}{return} \hyperlink{tclib_8c_a185d6a990a884eb19a1c4e28bcfbafa7}{tc\_store}(term, tc);
82     fp = fopen(TERMCAP, \textcolor{stringliteral}{"r"});
83     \}
84     \textcolor{comment}{/* otherwise, look `term' up in the file */}
85     \textcolor{keywordflow}{if} (fp) \{
86     \textcolor{keywordtype}{char} wrkbuf[\hyperlink{tclib_8c_aa764c7e6f061f4756a7463899c07761c}{TCBUFSIZ}];
87     tc = \hyperlink{tclib_8c_ae91a8a40ca057b4a1df3a6851a4a2db6}{tc\_find}(fp, term, wrkbuf, (\textcolor{keywordtype}{int})(\textcolor{keyword}{sizeof} wrkbuf - strlen(term)));
88     result = \hyperlink{tclib_8c_a185d6a990a884eb19a1c4e28bcfbafa7}{tc\_store}(term, tc);
89     (void) fclose(fp);
90     \} \textcolor{keywordflow}{else} \{
91     result = -1;
92     \}
93     \textcolor{keywordflow}{return} result;
94 \}
\end{DoxyCode}
\hypertarget{tclib_8c_aa742ee6433dc536257d1e4a375d4daf1}{\index{tclib.\+c@{tclib.\+c}!tgetflag@{tgetflag}}
\index{tgetflag@{tgetflag}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tgetflag}]{\setlength{\rightskip}{0pt plus 5cm}int tgetflag (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{which}
\end{DoxyParamCaption}
) const}}\label{tclib_8c_aa742ee6433dc536257d1e4a375d4daf1}


Definition at line 234 of file tclib.\+c.



References tc\+\_\+field().


\begin{DoxyCode}
236 \{
237     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *p = \hyperlink{tclib_8c_aa7d148560dbec2e0735394e12d9da072}{tc\_field}(which, (\textcolor{keyword}{const} \textcolor{keywordtype}{char} **)0);
238 
239     \textcolor{keywordflow}{return} (!p || p[2] != \textcolor{charliteral}{':'}) ? 0 : 1;
240 \}
\end{DoxyCode}
\hypertarget{tclib_8c_a5756e7324140595a92f4fa43bd2042ee}{\index{tclib.\+c@{tclib.\+c}!tgetnum@{tgetnum}}
\index{tgetnum@{tgetnum}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tgetnum}]{\setlength{\rightskip}{0pt plus 5cm}int tgetnum (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{which}
\end{DoxyParamCaption}
) const}}\label{tclib_8c_a5756e7324140595a92f4fa43bd2042ee}


Definition at line 215 of file tclib.\+c.



References tc\+\_\+field().



Referenced by tc\+\_\+store().


\begin{DoxyCode}
217 \{
218     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *q, *p = \hyperlink{tclib_8c_aa7d148560dbec2e0735394e12d9da072}{tc\_field}(which, &q);
219     \textcolor{keywordtype}{char} numbuf[32];
220     \textcolor{keywordtype}{size\_t} n;
221 
222     \textcolor{keywordflow}{if} (!p || p[2] != \textcolor{charliteral}{'#'})
223     \textcolor{keywordflow}{return} -1;
224     p += 3;
225     \textcolor{keywordflow}{if} ((n = (\textcolor{keywordtype}{size\_t})(q - p)) >= \textcolor{keyword}{sizeof} numbuf)
226     \textcolor{keywordflow}{return} -1;
227     (void) strncpy(numbuf, p, n);
228     numbuf[n] = \textcolor{charliteral}{'\(\backslash\)0'};
229     \textcolor{keywordflow}{return} atoi(numbuf);
230 \}
\end{DoxyCode}
\hypertarget{tclib_8c_a5fe11388a3903379d823ca0f63b2808d}{\index{tclib.\+c@{tclib.\+c}!tgetstr@{tgetstr}}
\index{tgetstr@{tgetstr}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tgetstr}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tgetstr (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{which, }
\item[{char $\ast$$\ast$}]{outptr}
\end{DoxyParamCaption}
) const}}\label{tclib_8c_a5fe11388a3903379d823ca0f63b2808d}


Definition at line 244 of file tclib.\+c.



References B\+E\+L, E\+S\+C, index(), and tc\+\_\+field().



Referenced by tc\+\_\+store().


\begin{DoxyCode}
247 \{
248     \textcolor{keywordtype}{int} n;
249     \textcolor{keywordtype}{char} c, *r, *result;
250     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *q, *p = \hyperlink{tclib_8c_aa7d148560dbec2e0735394e12d9da072}{tc\_field}(which, &q);
251 
252     \textcolor{keywordflow}{if} (!p || p[2] != \textcolor{charliteral}{'='})
253     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *)0;
254     p += 3;
255     \textcolor{keywordflow}{if} ((q = \hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(p, \textcolor{charliteral}{':'})) == 0)  q = p + strlen(p);
256     r = result = *outptr;
257     \textcolor{keywordflow}{while} (p < q) \{
258     \textcolor{keywordflow}{switch} ((*r = *p++)) \{
259      \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}:
260         \textcolor{keywordflow}{switch} ((c = *p++)) \{
261          \textcolor{keywordflow}{case} \textcolor{charliteral}{'E'}:  *r = \hyperlink{tclib_8c_a4af1b6159e447ba72652bb7fcdfa726e}{ESC};   \textcolor{keywordflow}{break};
262          \textcolor{keywordflow}{case} \textcolor{charliteral}{'a'}:  *r = \hyperlink{tclib_8c_ab610cca62532f04c7b1e0d61eb7816ee}{BEL};   \textcolor{keywordflow}{break};
263          \textcolor{keywordflow}{case} \textcolor{charliteral}{'b'}:  *r = \textcolor{charliteral}{'\(\backslash\)b'};  \textcolor{keywordflow}{break};
264          \textcolor{keywordflow}{case} \textcolor{charliteral}{'f'}:  *r = \textcolor{charliteral}{'\(\backslash\)f'};  \textcolor{keywordflow}{break};
265          \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:  *r = \textcolor{charliteral}{'\(\backslash\)n'};  \textcolor{keywordflow}{break};
266          \textcolor{keywordflow}{case} \textcolor{charliteral}{'r'}:  *r = \textcolor{charliteral}{'\(\backslash\)r'};  \textcolor{keywordflow}{break};
267          \textcolor{keywordflow}{case} \textcolor{charliteral}{'t'}:  *r = \textcolor{charliteral}{'\(\backslash\)t'};  \textcolor{keywordflow}{break};
268          \textcolor{keywordflow}{case} \textcolor{charliteral}{'0'}: \textcolor{keywordflow}{case} \textcolor{charliteral}{'1'}: \textcolor{keywordflow}{case} \textcolor{charliteral}{'2'}: \textcolor{keywordflow}{case} \textcolor{charliteral}{'3'}:
269          \textcolor{keywordflow}{case} \textcolor{charliteral}{'4'}: \textcolor{keywordflow}{case} \textcolor{charliteral}{'5'}: \textcolor{keywordflow}{case} \textcolor{charliteral}{'6'}: \textcolor{keywordflow}{case} \textcolor{charliteral}{'7'}:
270             n = c - \textcolor{charliteral}{'0'};
271             \textcolor{keywordflow}{if} (*p >= \textcolor{charliteral}{'0'} && *p <= \textcolor{charliteral}{'7'})  n = 8 * n + (*p++ - \textcolor{charliteral}{'0'});
272             \textcolor{keywordflow}{if} (*p >= \textcolor{charliteral}{'0'} && *p <= \textcolor{charliteral}{'7'})  n = 8 * n + (*p++ - \textcolor{charliteral}{'0'});
273             *r = (char)n;
274             \textcolor{keywordflow}{break};
275       \textcolor{comment}{/* case '^': case '\(\backslash\)\(\backslash\)': */}
276          \textcolor{keywordflow}{default}:   *r = c;     \textcolor{keywordflow}{break};
277         \}
278         \textcolor{keywordflow}{break};
279      \textcolor{keywordflow}{case} \textcolor{charliteral}{'^'}:
280         *r = (*p++ & 037);
281         \textcolor{keywordflow}{if} (!*r)  *r = (char)\textcolor{stringliteral}{'\(\backslash\)200'};
282         \textcolor{keywordflow}{break};
283      \textcolor{keywordflow}{default}:
284         \textcolor{keywordflow}{break};
285     \}
286     ++r;
287     \}
288     *r++ = \textcolor{charliteral}{'\(\backslash\)0'};
289     *outptr = r;
290     \textcolor{keywordflow}{return} result;
291 \}
\end{DoxyCode}
\hypertarget{tclib_8c_a713e2ae84f728c2d4f4be7ff21b2b0fe}{\index{tclib.\+c@{tclib.\+c}!tgoto@{tgoto}}
\index{tgoto@{tgoto}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tgoto}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tgoto (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{cm, }
\item[{int}]{col, }
\item[{int}]{row}
\end{DoxyParamCaption}
) const}}\label{tclib_8c_a713e2ae84f728c2d4f4be7ff21b2b0fe}


Definition at line 324 of file tclib.\+c.



References tparam().


\begin{DoxyCode}
327 \{
328     \textcolor{keywordflow}{return} \hyperlink{tclib_8c_a471b5d9aa9621d6fdd83f7277b6dfd32}{tparam}(cm, \hyperlink{tclib_8c_a78176ceaa4966543a360443bbbab8714}{cmbuf}, (\textcolor{keywordtype}{int})(\textcolor{keyword}{sizeof} \hyperlink{tclib_8c_a78176ceaa4966543a360443bbbab8714}{cmbuf}), row, col, 0, 0);
329 \}
\end{DoxyCode}
\hypertarget{tclib_8c_a471b5d9aa9621d6fdd83f7277b6dfd32}{\index{tclib.\+c@{tclib.\+c}!tparam@{tparam}}
\index{tparam@{tparam}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tparam}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tparam (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{ctl, }
\item[{char $\ast$}]{buf, }
\item[{int}]{buflen, }
\item[{int}]{row, }
\item[{int}]{col, }
\item[{int}]{row2, }
\item[{int}]{col2}
\end{DoxyParamCaption}
) const}}\label{tclib_8c_a471b5d9aa9621d6fdd83f7277b6dfd32}


Definition at line 333 of file tclib.\+c.



References B\+C, buf, index(), and U\+P.



Referenced by tgoto().


\begin{DoxyCode}
338 \{
339     \textcolor{keywordtype}{int} atmp, ac, av[5];
340     \textcolor{keywordtype}{char} c, *r, *z, *bufend, numbuf[32];
341     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fmt;
342 \textcolor{preprocessor}{#ifndef NO\_SPECIAL\_CHARS\_FIXUP}
343     \textcolor{keywordtype}{int} bc = 0, up = 0;
344 \textcolor{preprocessor}{#endif}
345 
346     av[0] = row,  av[1] = col,  av[2] = row2,  av[3] = col2,  av[4] = 0;
347     ac = 0;
348     r = \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf},  bufend = r + buflen - 1;
349     \textcolor{keywordflow}{while} (*ctl) \{
350     \textcolor{keywordflow}{if} ((*r = *ctl++) == \textcolor{charliteral}{'%'}) \{
351         \textcolor{keywordflow}{if} (ac > 4)  ac = 4;
352         fmt = 0;
353         \textcolor{keywordflow}{switch} ((c = *ctl++)) \{
354          \textcolor{keywordflow}{case} \textcolor{charliteral}{'%'}:          \textcolor{keywordflow}{break};  \textcolor{comment}{/* '%' already copied */}
355          \textcolor{keywordflow}{case} \textcolor{charliteral}{'d'}:  fmt = \textcolor{stringliteral}{"%d"}; \textcolor{keywordflow}{break};
356          \textcolor{keywordflow}{case} \textcolor{charliteral}{'2'}:  fmt = \textcolor{stringliteral}{"%02d"};   \textcolor{keywordflow}{break};
357          \textcolor{keywordflow}{case} \textcolor{charliteral}{'3'}:  fmt = \textcolor{stringliteral}{"%03d"};   \textcolor{keywordflow}{break};
358          \textcolor{keywordflow}{case} \textcolor{charliteral}{'+'}:  \textcolor{comment}{/*FALLTHRU*/}
359          \textcolor{keywordflow}{case} \textcolor{charliteral}{'.'}:  *r = (char)av[ac++];
360             \textcolor{keywordflow}{if} (c == \textcolor{charliteral}{'+'})  *r += *ctl++;
361             \textcolor{keywordflow}{if} (!*r) \{
362                 *r = (char)\textcolor{stringliteral}{'\(\backslash\)200'};
363             \} \textcolor{keywordflow}{else} \{
364 \textcolor{preprocessor}{#ifndef NO\_SPECIAL\_CHARS\_FIXUP}
365                 \textcolor{comment}{/* avoid terminal driver intervention for}
366 \textcolor{comment}{                   various control characters, to prevent}
367 \textcolor{comment}{                   LF from becoming CR+LF, for instance; only}
368 \textcolor{comment}{                   makes sense if this is a cursor positioning}
369 \textcolor{comment}{                   sequence, but we have no way to check that */}
370                 \textcolor{keywordflow}{while} (\hyperlink{uudecode_8c_ac82f3cc16110a05458f2b2483236afb7}{index}(\textcolor{stringliteral}{"\(\backslash\)004\(\backslash\)t\(\backslash\)n\(\backslash\)013\(\backslash\)f\(\backslash\)r"}, *r)) \{
371                 \textcolor{keywordflow}{if} (ac & 1) \{       \textcolor{comment}{/* row */}
372                     \textcolor{keywordflow}{if} (!\hyperlink{tclib_8c_abcd8bb6995506a465b2544dd6af0b2bd}{UP} || !*\hyperlink{tclib_8c_abcd8bb6995506a465b2544dd6af0b2bd}{UP})  \textcolor{keywordflow}{break};    \textcolor{comment}{/* can't fix */}
373                     ++up;   \textcolor{comment}{/* incr row now, later move up */}
374                 \} \textcolor{keywordflow}{else} \{        \textcolor{comment}{/* column */}
375                     \textcolor{keywordflow}{if} (!\hyperlink{tclib_8c_a49c4bb41d1742e3b2e57330cd2071f83}{BC} || !*\hyperlink{tclib_8c_a49c4bb41d1742e3b2e57330cd2071f83}{BC})  \textcolor{keywordflow}{break};    \textcolor{comment}{/* can't fix */}
376                     ++bc;   \textcolor{comment}{/* incr column, later backspace */}
377                 \}
378                 (*r)++;
379                 \}
380 \textcolor{preprocessor}{#endif  }\textcolor{comment}{/* !NO\_SPECIAL\_CHARS\_FIXUP */}\textcolor{preprocessor}{}
381             \}                       \textcolor{keywordflow}{break};
382          \textcolor{keywordflow}{case} \textcolor{charliteral}{'>'}:  \textcolor{keywordflow}{if} (av[ac] > (*ctl++ & 0377))
383                 av[ac] += *ctl;
384             ++ctl;                      \textcolor{keywordflow}{break};
385          \textcolor{keywordflow}{case} \textcolor{charliteral}{'r'}:  atmp = av[0];  av[0] = av[1];  av[1] = atmp;
386             atmp = av[2];  av[2] = av[3];  av[3] = atmp;
387             --r;                        \textcolor{keywordflow}{break};
388          \textcolor{keywordflow}{case} \textcolor{charliteral}{'i'}:  ++av[0];  ++av[1];  ++av[2];  ++av[3];
389             --r;                        \textcolor{keywordflow}{break};
390          \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:  av[0] ^= 0140;  av[1] ^= 0140;
391             av[2] ^= 0140;  av[3] ^= 0140;
392             --r;                        \textcolor{keywordflow}{break};
393          \textcolor{keywordflow}{case} \textcolor{charliteral}{'B'}:  av[0] = ((av[0] / 10) << 4) + (av[0] % 10);
394             av[1] = ((av[1] / 10) << 4) + (av[1] % 10);
395             av[2] = ((av[2] / 10) << 4) + (av[2] % 10);
396             av[3] = ((av[3] / 10) << 4) + (av[3] % 10);
397             --r;                        \textcolor{keywordflow}{break};
398          \textcolor{keywordflow}{case} \textcolor{charliteral}{'D'}:  av[0] -= (av[0] & 15) << 1;
399             av[1] -= (av[1] & 15) << 1;
400             av[2] -= (av[2] & 15) << 1;
401             av[3] -= (av[3] & 15) << 1;
402             --r;                        \textcolor{keywordflow}{break};
403          \textcolor{keywordflow}{default}:   *++r = c;   \textcolor{keywordflow}{break};  \textcolor{comment}{/* erroneous entry... */}
404         \}
405         \textcolor{keywordflow}{if} (fmt) \{
406         (void) sprintf(numbuf, fmt, av[ac++]);
407         \textcolor{keywordflow}{for} (z = numbuf; *z && r <= bufend; z++)
408             *r++ = *z;
409         --r;        \textcolor{comment}{/* will be re-incremented below */}
410         \}
411     \}
412     \textcolor{keywordflow}{if} (++r > bufend)
413         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *)0;
414     \}
415 \textcolor{preprocessor}{#ifndef NO\_SPECIAL\_CHARS\_FIXUP}
416     \textcolor{keywordflow}{if} (bc || up) \{
417     \textcolor{keywordflow}{while} (--bc >= 0)
418         \textcolor{keywordflow}{for} (z = \hyperlink{tclib_8c_a49c4bb41d1742e3b2e57330cd2071f83}{BC}; *z && r <= bufend; z++)
419         *r++ = *z;
420     \textcolor{keywordflow}{while} (--up >= 0)
421         \textcolor{keywordflow}{for} (z = \hyperlink{tclib_8c_abcd8bb6995506a465b2544dd6af0b2bd}{UP}; *z && r <= bufend; z++)
422         *r++ = *z;
423     \textcolor{keywordflow}{if} (r > bufend)
424         \textcolor{keywordflow}{return} (\textcolor{keywordtype}{char} *)0;
425     \}
426 \textcolor{preprocessor}{#endif  }\textcolor{comment}{/* !NO\_SPECIAL\_CHARS\_FIXUP */}\textcolor{preprocessor}{}
427     *r = \textcolor{charliteral}{'\(\backslash\)0'};
428     \textcolor{keywordflow}{return} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf};
429 \}
\end{DoxyCode}
\hypertarget{tclib_8c_a113ec2892c2fa48959fff022f8363a92}{\index{tclib.\+c@{tclib.\+c}!tputs@{tputs}}
\index{tputs@{tputs}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tputs}]{\setlength{\rightskip}{0pt plus 5cm}void tputs (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{string, }
\item[{int}]{range, }
\item[{int ($\ast$)()}]{output\+\_\+func}
\end{DoxyParamCaption}
) const}}\label{tclib_8c_a113ec2892c2fa48959fff022f8363a92}


Definition at line 433 of file tclib.\+c.



References ospeed, and P\+C.


\begin{DoxyCode}
437 \{
438     \textcolor{keyword}{register} \textcolor{keywordtype}{int} c, num = 0;
439     \textcolor{keyword}{register} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *p = string;
440 
441     \textcolor{keywordflow}{if} (!p || !*p)
442     \textcolor{keywordflow}{return};
443 
444     \textcolor{comment}{/* pick out padding prefix, if any */}
445     \textcolor{keywordflow}{if} (*p >= \textcolor{charliteral}{'0'} && *p <= \textcolor{charliteral}{'9'}) \{
446     \textcolor{keywordflow}{do} \{        \textcolor{comment}{/* note: scale `num' by 10 to accommodate fraction */}
447         num += (*p++ - \textcolor{charliteral}{'0'}),  num *= 10;
448     \} \textcolor{keywordflow}{while} (*p >= \textcolor{charliteral}{'0'} && *p <= \textcolor{charliteral}{'9'});
449     \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{'.'})
450         ++p,  num += (*p >= \textcolor{charliteral}{'0'} && *p <= \textcolor{charliteral}{'9'}) ? (*p++ - \textcolor{charliteral}{'0'}) : 0;
451     \textcolor{keywordflow}{if} (*p == \textcolor{charliteral}{'*'})
452         ++p,  num *= range;
453     \}
454 
455     \textcolor{comment}{/* output the string */}
456     \textcolor{keywordflow}{while} ((c = *p++) != \textcolor{charliteral}{'\(\backslash\)0'}) \{
457     \textcolor{keywordflow}{if} (c == \textcolor{stringliteral}{'\(\backslash\)200'})  c = \textcolor{charliteral}{'\(\backslash\)0'}; \textcolor{comment}{/* undo tgetstr's encoding */}
458     (void) (*output\_func)(c);
459     \}
460 
461 \textcolor{preprocessor}{#ifndef NO\_DELAY\_PADDING}
462     \textcolor{comment}{/* perform padding */}
463     \textcolor{keywordflow}{if} (num) \{
464     \textcolor{keywordtype}{long} \hyperlink{structpad}{pad};
465 
466     \textcolor{comment}{/* figure out how many chars needed to produce desired elapsed time */}
467     pad = (long)\hyperlink{tclib_8c_ac48c9eb12879313eae9e23d4076ed8bf}{baud\_rates}[\hyperlink{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}{ospeed}];
468     \textcolor{keywordflow}{if} (pad < 0)  pad *= -100L;
469     pad *= (long)num;
470     \textcolor{comment}{/* 100000 == 10 bits/char * (1000 millisec/sec scaled by 10) */}
471     num = (int)(pad / 100000L); \textcolor{comment}{/* number of characters */}
472 
473     c = \hyperlink{tclib_8c_a5c0353915cefce9e14f1c887a044f8e6}{PC};       \textcolor{comment}{/* assume output\_func isn't allowed to change PC */}
474     \textcolor{keywordflow}{while} (--num >= 0)
475         (void) (*output\_func)(c);
476     \}
477 \textcolor{preprocessor}{#endif  }\textcolor{comment}{/* !NO\_DELAY\_PADDING */}\textcolor{preprocessor}{}
478 
479     \textcolor{keywordflow}{return};
480 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{tclib_8c_ac48c9eb12879313eae9e23d4076ed8bf}{\index{tclib.\+c@{tclib.\+c}!baud\+\_\+rates@{baud\+\_\+rates}}
\index{baud\+\_\+rates@{baud\+\_\+rates}!tclib.\+c@{tclib.\+c}}
\subsubsection[{baud\+\_\+rates}]{\setlength{\rightskip}{0pt plus 5cm}short baud\+\_\+rates\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_ac48c9eb12879313eae9e23d4076ed8bf}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    0,   50,   75,  110,  135,  150,


        
      200,  300,  600, 1200, 1800,       2400,       4800,

     9600, -192, -384,      



\}
\end{DoxyCode}


Definition at line 37 of file tclib.\+c.

\hypertarget{tclib_8c_a49c4bb41d1742e3b2e57330cd2071f83}{\index{tclib.\+c@{tclib.\+c}!B\+C@{B\+C}}
\index{B\+C@{B\+C}!tclib.\+c@{tclib.\+c}}
\subsubsection[{B\+C}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ B\+C}}\label{tclib_8c_a49c4bb41d1742e3b2e57330cd2071f83}


Definition at line 20 of file tclib.\+c.



Referenced by tc\+\_\+store(), and tparam().

\hypertarget{tclib_8c_a0f7a0044f467c39ec019a185323f87b7}{\index{tclib.\+c@{tclib.\+c}!bc\+\_\+up\+\_\+buf@{bc\+\_\+up\+\_\+buf}}
\index{bc\+\_\+up\+\_\+buf@{bc\+\_\+up\+\_\+buf}!tclib.\+c@{tclib.\+c}}
\subsubsection[{bc\+\_\+up\+\_\+buf}]{\setlength{\rightskip}{0pt plus 5cm}char bc\+\_\+up\+\_\+buf\mbox{[}24\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a0f7a0044f467c39ec019a185323f87b7}


Definition at line 34 of file tclib.\+c.



Referenced by tc\+\_\+store().

\hypertarget{tclib_8c_a78176ceaa4966543a360443bbbab8714}{\index{tclib.\+c@{tclib.\+c}!cmbuf@{cmbuf}}
\index{cmbuf@{cmbuf}!tclib.\+c@{tclib.\+c}}
\subsubsection[{cmbuf}]{\setlength{\rightskip}{0pt plus 5cm}char cmbuf\mbox{[}64\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a78176ceaa4966543a360443bbbab8714}


Definition at line 320 of file tclib.\+c.

\hypertarget{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}{\index{tclib.\+c@{tclib.\+c}!ospeed@{ospeed}}
\index{ospeed@{ospeed}!tclib.\+c@{tclib.\+c}}
\subsubsection[{ospeed}]{\setlength{\rightskip}{0pt plus 5cm}short ospeed}}\label{tclib_8c_ac95761f812b1cd22186a50db1ef8030b}


Definition at line 21 of file tclib.\+c.



Referenced by tc\+\_\+store(), and tputs().

\hypertarget{tclib_8c_a5c0353915cefce9e14f1c887a044f8e6}{\index{tclib.\+c@{tclib.\+c}!P\+C@{P\+C}}
\index{P\+C@{P\+C}!tclib.\+c@{tclib.\+c}}
\subsubsection[{P\+C}]{\setlength{\rightskip}{0pt plus 5cm}char P\+C}}\label{tclib_8c_a5c0353915cefce9e14f1c887a044f8e6}


Definition at line 19 of file tclib.\+c.



Referenced by tc\+\_\+store(), and tputs().

\hypertarget{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}{\index{tclib.\+c@{tclib.\+c}!tc\+\_\+entry@{tc\+\_\+entry}}
\index{tc\+\_\+entry@{tc\+\_\+entry}!tclib.\+c@{tclib.\+c}}
\subsubsection[{tc\+\_\+entry}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ tc\+\_\+entry\hspace{0.3cm}{\ttfamily [static]}}}\label{tclib_8c_a4bd3b24444f0c5e5ad322020350b1a06}


Definition at line 33 of file tclib.\+c.



Referenced by tc\+\_\+field().

\hypertarget{tclib_8c_abcd8bb6995506a465b2544dd6af0b2bd}{\index{tclib.\+c@{tclib.\+c}!U\+P@{U\+P}}
\index{U\+P@{U\+P}!tclib.\+c@{tclib.\+c}}
\subsubsection[{U\+P}]{\setlength{\rightskip}{0pt plus 5cm}char $\ast$ U\+P}}\label{tclib_8c_abcd8bb6995506a465b2544dd6af0b2bd}


Definition at line 20 of file tclib.\+c.



Referenced by tc\+\_\+store(), and tparam().

