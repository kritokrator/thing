\hypertarget{pray_8c}{\section{nethack/src/pray.c File Reference}
\label{pray_8c}\index{nethack/src/pray.\+c@{nethack/src/pray.\+c}}
}
{\ttfamily \#include \char`\"{}hack.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}epri.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\+\_\+obj}(\hyperlink{structobj}{obj}, typ)~((\hyperlink{structobj}{obj}) \&\& (\hyperlink{structobj}{obj})-\/$>$otyp == (typ) \&\& (\hyperlink{structobj}{obj})-\/$>$cursed)
\item 
\#define \hyperlink{pray_8c_ae08701348ec21089f9bbe60f6b5e7507}{P\+I\+O\+U\+S}~20
\item 
\#define \hyperlink{pray_8c_a01cd1c29fdf18404de71e8930548d68e}{D\+E\+V\+O\+U\+T}~14
\item 
\#define \hyperlink{pray_8c_aff79af547fea9680adcbb35a784455da}{F\+E\+R\+V\+E\+N\+T}~9
\item 
\#define \hyperlink{pray_8c_a4c7a387f19f0bd40b659c3722171e3f3}{S\+T\+R\+I\+D\+E\+N\+T}~4
\item 
\#define \hyperlink{pray_8c_abe72c2a944c131a98568e372b21cdde0}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D}~13
\item 
\#define \hyperlink{pray_8c_a7c00d5cda83746f252466940df254cf5}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D}~12
\item 
\#define \hyperlink{pray_8c_ae5a6843a406f7ef67150251c0f481648}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D}~11
\item 
\#define \hyperlink{pray_8c_aa9aae24bd38313b0661a974501255484}{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A}~10
\item 
\#define \hyperlink{pray_8c_a6878986afb98c5efca97db6d615b2d73}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K}~9
\item 
\#define \hyperlink{pray_8c_af7a7dec137df4eeb20ff575e7c301d8a}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G}~8
\item 
\#define \hyperlink{pray_8c_a5364ece57a436a9b28cb0fb659d94d54}{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T}~7
\item 
\#define \hyperlink{pray_8c_a6eadc63855312f21b5f6cc7259b530b0}{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E}~6
\item 
\#define \hyperlink{pray_8c_a979f9a50b0ac7177855fbdef1a4c970c}{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G}~5
\item 
\#define \hyperlink{pray_8c_a75c4f126c3b7e393a3694f5782566133}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L}~4
\item 
\#define \hyperlink{pray_8c_adb471df240344fa9b29233dbdfd1b3d4}{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N}~3
\item 
\#define \hyperlink{pray_8c_a398648d07d2e7c344bd75605f705ba43}{T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S}~2
\item 
\#define \hyperlink{pray_8c_a1f2fc0d973d368e4a92afbb1bc7a2731}{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D}~1
\item 
\#define \hyperlink{pray_8c_af0ff264889abcede3489461c49015827}{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D}~(-\/1)
\item 
\#define \hyperlink{pray_8c_a66451c68de0cf0bd9d84b1150c05a2f0}{T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G}~(-\/2)
\item 
\#define \hyperlink{pray_8c_a1504f6dcdcf93be698a85d222cbfbace}{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S}~(-\/3)
\item 
\#define \hyperlink{pray_8c_adbe9ad131b4e2efc0027b6c3240e5c79}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E}~(-\/4)
\item 
\#define \hyperlink{pray_8c_a7821d5ab2ada9a3f3b9d5550aa91d38b}{T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D}~(-\/5)
\item 
\#define \hyperlink{pray_8c_ad4a74656da132ccd7279f5aefeee1a62}{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D}~(-\/6)
\item 
\#define \hyperlink{pray_8c_a2d5b5fb7ff08f14d13310c37eb8bafa5}{T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S}~(-\/7)
\item 
\#define \hyperlink{pray_8c_a0cf0a6c09665e2feafa5cc21ae363396}{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y}~(-\/8)
\item 
\#define \hyperlink{pray_8c_ab1bbc98198d9067a9364c183568c63ad}{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D}~(-\/9)
\item 
\#define \hyperlink{pray_8c_a5ebb0678b672e788b4bb8035285fccb7}{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D}~(-\/10)
\item 
\#define \hyperlink{pray_8c_a1ed7c0bff2cb0d38c5ce0cb424de3899}{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N}~(-\/11)
\item 
\#define \hyperlink{pray_8c_a5a0dc3308cb8c9e6ad45efafb24d4a8b}{ugod\+\_\+is\+\_\+angry}()~(u.\+ualign.\+record $<$ 0)
\item 
\#define \hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\+\_\+altar}()~\hyperlink{rm_8h_a06b1605590c29bd5f7e218035b45f949}{I\+S\+\_\+\+A\+L\+T\+A\+R}(\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}\mbox{[}u.\+ux\mbox{]}\mbox{[}u.\+uy\mbox{]}.typ)
\item 
\#define \hyperlink{pray_8c_ab568d8f74dd31fde0d7eec1a5d9d3e70}{on\+\_\+shrine}()~((\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}\mbox{[}u.\+ux\mbox{]}\mbox{[}u.\+uy\mbox{]}.\hyperlink{rm_8h_a4c769be4545ff9ea0f2af9e0a87f233f}{altarmask} \& \hyperlink{rm_8h_a9c8de6ca56b5ef907390c5fa518df9ed}{A\+M\+\_\+\+S\+H\+R\+I\+N\+E}) != 0)
\item 
\#define \hyperlink{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{a\+\_\+align}(x, y)~((\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp})\hyperlink{align_8h_a66f124a6eb13a3c3432946891aedcba4}{Amask2align}(\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}\mbox{[}x\mbox{]}\mbox{[}y\mbox{]}.\hyperlink{rm_8h_a4c769be4545ff9ea0f2af9e0a87f233f}{altarmask} \& \hyperlink{align_8h_aefa78fd6b130faaca4e115602869b57c}{A\+M\+\_\+\+M\+A\+S\+K}))
\item 
\#define \hyperlink{pray_8c_ab1e8b9f8b2fea9975b65a09f5723ae83}{S\+A\+T\+I\+A\+T\+E\+D}~0
\item 
\#define \hyperlink{pray_8c_a4b677b31da38edfd309a272a6ed2e9c1}{N\+O\+T\+\_\+\+H\+U\+N\+G\+R\+Y}~1
\item 
\#define \hyperlink{pray_8c_a7b98f8e1ebd9fad556acbf6e335883d9}{H\+U\+N\+G\+R\+Y}~2
\item 
\#define \hyperlink{pray_8c_ad1480e9557edcc543498ca259cee6c7d}{W\+E\+A\+K}~3
\item 
\#define \hyperlink{pray_8c_a9c664e09faf770d86c098222592aaa2d}{F\+A\+I\+N\+T\+I\+N\+G}~4
\item 
\#define \hyperlink{pray_8c_a982b22def0794c23d4a5a1ac9fd488f3}{F\+A\+I\+N\+T\+E\+D}~5
\item 
\#define \hyperlink{pray_8c_acee35bd193e2435a3a7978761a731dad}{S\+T\+A\+R\+V\+E\+D}~6
\item 
\#define \hyperlink{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}{M\+A\+X\+V\+A\+L\+U\+E}~24 /$\ast$ Highest corpse value (besides Wiz) $\ast$/
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{hack_8h_ac0f6cfba4138e5e6a773d15a80ea82ff}{S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} int \hyperlink{pray_8c_afbef177d5fca3fea273f0dc821a9768b}{N\+D\+E\+C\+L} (\hyperlink{pray_8c_a61079895bf22e534d68de669f9c63836}{prayer\+\_\+done})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} struct \hyperlink{structobj}{obj} $\ast$ \hyperlink{pray_8c_a473d707f8f633d67d7f39776827d7f96}{N\+D\+E\+C\+L} (\hyperlink{pray_8c_a21015c4f3b8fe89777f97aee852a6dbc}{worst\+\_\+cursed\+\_\+item})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} int \hyperlink{pray_8c_a80a94e59c8e85051f8eadbf7bc26db6a}{N\+D\+E\+C\+L} (\hyperlink{pray_8c_ad52190f72755f5c12aeae3824379ba15}{in\+\_\+trouble})
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_a152c51673cfbe255e0b51c20fb4e1339}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}{fix\+\_\+worst\+\_\+trouble},(int))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_a37a1dd1795ee8e96e6583dc4c3c21567}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_aa4786bc219e4f070008e558bed51bb33}{angrygods},(\hyperlink{wingem1_8c_ad68001b04240583f6667841a186ef26a}{A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_a9ced55f18ca9b287ea04e52ed2bac079}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a3c5bd4338b52b9ce45fa159cebdd2881}{at\+\_\+your\+\_\+feet},(\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_ac51e78fdf061eeedc8f0afd45136c552}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a002dea99577fe01e5fa0823f4336b970}{pleased},(\hyperlink{wingem1_8c_ad68001b04240583f6667841a186ef26a}{A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_a7adcb9530a69ef263527e5b357be8ae4}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice},(\hyperlink{wingem1_8c_ad68001b04240583f6667841a186ef26a}{A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_a6905f7da28d0b52a2fdd2eaa1c9f1e65}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a700e2edee689fce4e59c382f4d657b31}{god\+\_\+zaps\+\_\+you},(\hyperlink{wingem1_8c_ad68001b04240583f6667841a186ef26a}{A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_af409c566452687f86f68652de23f0158}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a73163f066e42d7a8aa41446937d8ffeb}{fry\+\_\+by\+\_\+god},(\hyperlink{wingem1_8c_ad68001b04240583f6667841a186ef26a}{A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_a3932c33432dfaf77e25fc7b8f93c7ef1}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a5e5e2d647c235527b6d264d5f6dfa57a}{gods\+\_\+angry},(\hyperlink{wingem1_8c_ad68001b04240583f6667841a186ef26a}{A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_a2795a76923600d229d9ee316162f01d1}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a6cabf3685d23faa243c94ea29a606dd4}{gods\+\_\+upset},(\hyperlink{wingem1_8c_ad68001b04240583f6667841a186ef26a}{A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void \hyperlink{pray_8c_abfec6a541a05845e6e57ec48b3789f1d}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a1e6495b1ddb567620415066e240b4cae}{consume\+\_\+offering},(struct \hyperlink{structobj}{obj} $\ast$))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} \hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{pray_8c_a1adc9c81f11024cd0f5376805c97075c}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}{water\+\_\+prayer},(\hyperlink{wingem1_8c_aa2723cc3af18a5199ab4ce7cca84d82b}{B\+O\+O\+L\+E\+A\+N\+\_\+\+P}))
\item 
\hyperlink{hack_8h_a0c2ce0eef98596c51b3a10e50a29dd5e}{S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} \hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{pray_8c_a90195f8746ae3fb783009c5f9b3ef0c2}{F\+D\+E\+C\+L} (\hyperlink{pray_8c_afd5b1ba8422f9c3df6799ad9d7f8bff2}{blocked\+\_\+boulder},(int, int))
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} int \hyperlink{pray_8c_ad52190f72755f5c12aeae3824379ba15}{in\+\_\+trouble} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} struct \hyperlink{structobj}{obj} $\ast$ \hyperlink{pray_8c_a21015c4f3b8fe89777f97aee852a6dbc}{worst\+\_\+cursed\+\_\+item} ()
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}{fix\+\_\+worst\+\_\+trouble} (int trouble)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_a700e2edee689fce4e59c382f4d657b31}{god\+\_\+zaps\+\_\+you} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} resp\+\_\+god)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_a73163f066e42d7a8aa41446937d8ffeb}{fry\+\_\+by\+\_\+god} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} resp\+\_\+god)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_aa4786bc219e4f070008e558bed51bb33}{angrygods} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} resp\+\_\+god)
\item 
static void \hyperlink{pray_8c_a3c5bd4338b52b9ce45fa159cebdd2881}{at\+\_\+your\+\_\+feet} (char $\ast$str) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_a002dea99577fe01e5fa0823f4336b970}{pleased} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} g\+\_\+align)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} \hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}{water\+\_\+prayer} (\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} bless\+\_\+water)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} g\+\_\+align, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$words)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_a5e5e2d647c235527b6d264d5f6dfa57a}{gods\+\_\+angry} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} g\+\_\+align)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_a6cabf3685d23faa243c94ea29a606dd4}{gods\+\_\+upset} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} g\+\_\+align)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void \hyperlink{pray_8c_a1e6495b1ddb567620415066e240b4cae}{consume\+\_\+offering} (struct \hyperlink{structobj}{obj} $\ast$\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp})
\item 
int \hyperlink{pray_8c_ab0eaf047f389aa6a0f6f0c2d0aadf369}{dosacrifice} ()
\item 
\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{pray_8c_a2807cfd789d621072343bc921e94b1ae}{can\+\_\+pray} (\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} praying)
\item 
int \hyperlink{pray_8c_a28ffe1a786aa155dd481a3baaa8dde1e}{dopray} ()
\item 
\hyperlink{hack_8h_ac0f6cfba4138e5e6a773d15a80ea82ff}{S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} int \hyperlink{pray_8c_a61079895bf22e534d68de669f9c63836}{prayer\+\_\+done} ()
\item 
int \hyperlink{pray_8c_a3ca702b33bf7aac7c5768a6f409fe9ca}{doturn} ()
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\+\_\+gname} ()
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_a0a4b23aa5ea1ac09050be292bcb93f0d}{a\+\_\+gname\+\_\+at} (\hyperlink{global_8h_a2043b7d01ce89f4ee2fa6c345a752d32}{xchar} x, \hyperlink{global_8h_a2043b7d01ce89f4ee2fa6c345a752d32}{xchar} y)
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\+\_\+gname} ()
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\+\_\+gname} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} alignment)
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_a1aaa36a51bae4a40bd59beb7c664b59f}{halu\+\_\+gname} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} alignment)
\item 
\hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_a47e91145b4bc062d384a798de405d405}{align\+\_\+gtitle} (\hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} alignment)
\item 
void \hyperlink{pray_8c_a43ac407d23c96525bb221608ceec2534}{altar\+\_\+wrath} (int x, int y)
\item 
\hyperlink{hack_8h_a6584b0687fb4e0040a85bbcdaa3e0ee1}{S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} \hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean} \hyperlink{pray_8c_afd5b1ba8422f9c3df6799ad9d7f8bff2}{blocked\+\_\+boulder} (int dx, int dy)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_ab5d33410760309a3f6faa2b20924e009}{Moloch} = \char`\"{}Moloch\char`\"{}
\item 
static \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$ \hyperlink{pray_8c_af51a4b26d88a1b7a6f362b1b0d47865c}{godvoices} \mbox{[}$\,$\mbox{]}
\item 
static \hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} \hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\+\_\+aligntyp}
\item 
static int \hyperlink{pray_8c_a34114bd61cdbc0e7781089fadc444f1a}{p\+\_\+trouble}
\item 
static int \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\+\_\+type}
\item 
static \hyperlink{config1_8h_a9987bf629301f5fe76ddd96aa2717ca1}{N\+E\+A\+R\+D\+A\+T\+A} \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char \hyperlink{pray_8c_ad9e5e939d01dc5fba6482d4ceefa259b}{sacrifice\+\_\+types} \mbox{[}$\,$\mbox{]} = \{ \hyperlink{objclass_8h_a98c4704dea5f0606fe545294b44f8fd6}{F\+O\+O\+D\+\_\+\+C\+L\+A\+S\+S}, \hyperlink{objclass_8h_af05e45a3c94a4a19096ee4f048ee96cd}{A\+M\+U\+L\+E\+T\+\_\+\+C\+L\+A\+S\+S}, 0 \}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{\index{pray.\+c@{pray.\+c}!a\+\_\+align@{a\+\_\+align}}
\index{a\+\_\+align@{a\+\_\+align}!pray.\+c@{pray.\+c}}
\subsubsection[{a\+\_\+align}]{\setlength{\rightskip}{0pt plus 5cm}\#define a\+\_\+align(
\begin{DoxyParamCaption}
\item[{}]{x, }
\item[{}]{y}
\end{DoxyParamCaption}
)~(({\bf aligntyp}){\bf Amask2align}({\bf levl}\mbox{[}x\mbox{]}\mbox{[}y\mbox{]}.{\bf altarmask} \& {\bf A\+M\+\_\+\+M\+A\+S\+K}))}}\label{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}


Definition at line 117 of file pray.\+c.



Referenced by a\+\_\+gname\+\_\+at(), altar\+\_\+wrath(), angrygods(), can\+\_\+pray(), and dosacrifice().

\hypertarget{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{\index{pray.\+c@{pray.\+c}!Cursed\+\_\+obj@{Cursed\+\_\+obj}}
\index{Cursed\+\_\+obj@{Cursed\+\_\+obj}!pray.\+c@{pray.\+c}}
\subsubsection[{Cursed\+\_\+obj}]{\setlength{\rightskip}{0pt plus 5cm}\#define Cursed\+\_\+obj(
\begin{DoxyParamCaption}
\item[{}]{{\bf obj}, }
\item[{}]{typ}
\end{DoxyParamCaption}
)~(({\bf obj}) \&\& ({\bf obj})-\/$>$otyp == (typ) \&\& ({\bf obj})-\/$>$cursed)}}\label{pray_8c_a68224ec61236b8f309d6aaa956b0b783}


Definition at line 28 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), in\+\_\+trouble(), and worst\+\_\+cursed\+\_\+item().

\hypertarget{pray_8c_a01cd1c29fdf18404de71e8930548d68e}{\index{pray.\+c@{pray.\+c}!D\+E\+V\+O\+U\+T@{D\+E\+V\+O\+U\+T}}
\index{D\+E\+V\+O\+U\+T@{D\+E\+V\+O\+U\+T}!pray.\+c@{pray.\+c}}
\subsubsection[{D\+E\+V\+O\+U\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\+E\+V\+O\+U\+T~14}}\label{pray_8c_a01cd1c29fdf18404de71e8930548d68e}


Definition at line 62 of file pray.\+c.



Referenced by pleased().

\hypertarget{pray_8c_a982b22def0794c23d4a5a1ac9fd488f3}{\index{pray.\+c@{pray.\+c}!F\+A\+I\+N\+T\+E\+D@{F\+A\+I\+N\+T\+E\+D}}
\index{F\+A\+I\+N\+T\+E\+D@{F\+A\+I\+N\+T\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+A\+I\+N\+T\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+A\+I\+N\+T\+E\+D~5}}\label{pray_8c_a982b22def0794c23d4a5a1ac9fd488f3}
\hypertarget{pray_8c_a9c664e09faf770d86c098222592aaa2d}{\index{pray.\+c@{pray.\+c}!F\+A\+I\+N\+T\+I\+N\+G@{F\+A\+I\+N\+T\+I\+N\+G}}
\index{F\+A\+I\+N\+T\+I\+N\+G@{F\+A\+I\+N\+T\+I\+N\+G}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+A\+I\+N\+T\+I\+N\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+A\+I\+N\+T\+I\+N\+G~4}}\label{pray_8c_a9c664e09faf770d86c098222592aaa2d}
\hypertarget{pray_8c_aff79af547fea9680adcbb35a784455da}{\index{pray.\+c@{pray.\+c}!F\+E\+R\+V\+E\+N\+T@{F\+E\+R\+V\+E\+N\+T}}
\index{F\+E\+R\+V\+E\+N\+T@{F\+E\+R\+V\+E\+N\+T}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+E\+R\+V\+E\+N\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\+E\+R\+V\+E\+N\+T~9}}\label{pray_8c_aff79af547fea9680adcbb35a784455da}


Definition at line 63 of file pray.\+c.

\hypertarget{pray_8c_a7b98f8e1ebd9fad556acbf6e335883d9}{\index{pray.\+c@{pray.\+c}!H\+U\+N\+G\+R\+Y@{H\+U\+N\+G\+R\+Y}}
\index{H\+U\+N\+G\+R\+Y@{H\+U\+N\+G\+R\+Y}!pray.\+c@{pray.\+c}}
\subsubsection[{H\+U\+N\+G\+R\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\+U\+N\+G\+R\+Y~2}}\label{pray_8c_a7b98f8e1ebd9fad556acbf6e335883d9}


Referenced by in\+\_\+trouble().

\hypertarget{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}{\index{pray.\+c@{pray.\+c}!M\+A\+X\+V\+A\+L\+U\+E@{M\+A\+X\+V\+A\+L\+U\+E}}
\index{M\+A\+X\+V\+A\+L\+U\+E@{M\+A\+X\+V\+A\+L\+U\+E}!pray.\+c@{pray.\+c}}
\subsubsection[{M\+A\+X\+V\+A\+L\+U\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+A\+X\+V\+A\+L\+U\+E~24 /$\ast$ Highest corpse value (besides Wiz) $\ast$/}}\label{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}


Referenced by dosacrifice().

\hypertarget{pray_8c_a4b677b31da38edfd309a272a6ed2e9c1}{\index{pray.\+c@{pray.\+c}!N\+O\+T\+\_\+\+H\+U\+N\+G\+R\+Y@{N\+O\+T\+\_\+\+H\+U\+N\+G\+R\+Y}}
\index{N\+O\+T\+\_\+\+H\+U\+N\+G\+R\+Y@{N\+O\+T\+\_\+\+H\+U\+N\+G\+R\+Y}!pray.\+c@{pray.\+c}}
\subsubsection[{N\+O\+T\+\_\+\+H\+U\+N\+G\+R\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define N\+O\+T\+\_\+\+H\+U\+N\+G\+R\+Y~1}}\label{pray_8c_a4b677b31da38edfd309a272a6ed2e9c1}
\hypertarget{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{\index{pray.\+c@{pray.\+c}!on\+\_\+altar@{on\+\_\+altar}}
\index{on\+\_\+altar@{on\+\_\+altar}!pray.\+c@{pray.\+c}}
\subsubsection[{on\+\_\+altar}]{\setlength{\rightskip}{0pt plus 5cm}\#define on\+\_\+altar(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~{\bf I\+S\+\_\+\+A\+L\+T\+A\+R}({\bf levl}\mbox{[}u.\+ux\mbox{]}\mbox{[}u.\+uy\mbox{]}.typ)}}\label{pray_8c_a441e247fdf4c05ccfc10d44014228feb}


Definition at line 115 of file pray.\+c.



Referenced by angrygods(), can\+\_\+pray(), dosacrifice(), pleased(), and prayer\+\_\+done().

\hypertarget{pray_8c_ab568d8f74dd31fde0d7eec1a5d9d3e70}{\index{pray.\+c@{pray.\+c}!on\+\_\+shrine@{on\+\_\+shrine}}
\index{on\+\_\+shrine@{on\+\_\+shrine}!pray.\+c@{pray.\+c}}
\subsubsection[{on\+\_\+shrine}]{\setlength{\rightskip}{0pt plus 5cm}\#define on\+\_\+shrine(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~(({\bf levl}\mbox{[}u.\+ux\mbox{]}\mbox{[}u.\+uy\mbox{]}.{\bf altarmask} \& {\bf A\+M\+\_\+\+S\+H\+R\+I\+N\+E}) != 0)}}\label{pray_8c_ab568d8f74dd31fde0d7eec1a5d9d3e70}


Definition at line 116 of file pray.\+c.



Referenced by pleased().

\hypertarget{pray_8c_ae08701348ec21089f9bbe60f6b5e7507}{\index{pray.\+c@{pray.\+c}!P\+I\+O\+U\+S@{P\+I\+O\+U\+S}}
\index{P\+I\+O\+U\+S@{P\+I\+O\+U\+S}!pray.\+c@{pray.\+c}}
\subsubsection[{P\+I\+O\+U\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+I\+O\+U\+S~20}}\label{pray_8c_ae08701348ec21089f9bbe60f6b5e7507}


Definition at line 61 of file pray.\+c.



Referenced by pleased().

\hypertarget{pray_8c_ab1e8b9f8b2fea9975b65a09f5723ae83}{\index{pray.\+c@{pray.\+c}!S\+A\+T\+I\+A\+T\+E\+D@{S\+A\+T\+I\+A\+T\+E\+D}}
\index{S\+A\+T\+I\+A\+T\+E\+D@{S\+A\+T\+I\+A\+T\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{S\+A\+T\+I\+A\+T\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+A\+T\+I\+A\+T\+E\+D~0}}\label{pray_8c_ab1e8b9f8b2fea9975b65a09f5723ae83}
\hypertarget{pray_8c_acee35bd193e2435a3a7978761a731dad}{\index{pray.\+c@{pray.\+c}!S\+T\+A\+R\+V\+E\+D@{S\+T\+A\+R\+V\+E\+D}}
\index{S\+T\+A\+R\+V\+E\+D@{S\+T\+A\+R\+V\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{S\+T\+A\+R\+V\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+A\+R\+V\+E\+D~6}}\label{pray_8c_acee35bd193e2435a3a7978761a731dad}
\hypertarget{pray_8c_a4c7a387f19f0bd40b659c3722171e3f3}{\index{pray.\+c@{pray.\+c}!S\+T\+R\+I\+D\+E\+N\+T@{S\+T\+R\+I\+D\+E\+N\+T}}
\index{S\+T\+R\+I\+D\+E\+N\+T@{S\+T\+R\+I\+D\+E\+N\+T}!pray.\+c@{pray.\+c}}
\subsubsection[{S\+T\+R\+I\+D\+E\+N\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\+T\+R\+I\+D\+E\+N\+T~4}}\label{pray_8c_a4c7a387f19f0bd40b659c3722171e3f3}


Definition at line 64 of file pray.\+c.



Referenced by angrygods(), and pleased().

\hypertarget{pray_8c_a7821d5ab2ada9a3f3b9d5550aa91d38b}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D~(-\/5)}}\label{pray_8c_a7821d5ab2ada9a3f3b9d5550aa91d38b}


Definition at line 91 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a979f9a50b0ac7177855fbdef1a4c970c}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G~5}}\label{pray_8c_a979f9a50b0ac7177855fbdef1a4c970c}


Definition at line 81 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a5ebb0678b672e788b4bb8035285fccb7}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D~(-\/10)}}\label{pray_8c_a5ebb0678b672e788b4bb8035285fccb7}


Definition at line 96 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a1f2fc0d973d368e4a92afbb1bc7a2731}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D~1}}\label{pray_8c_a1f2fc0d973d368e4a92afbb1bc7a2731}


Definition at line 85 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a1504f6dcdcf93be698a85d222cbfbace}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S~(-\/3)}}\label{pray_8c_a1504f6dcdcf93be698a85d222cbfbace}


Definition at line 89 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_adb471df240344fa9b29233dbdfd1b3d4}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N@{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N~3}}\label{pray_8c_adb471df240344fa9b29233dbdfd1b3d4}


Definition at line 83 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a66451c68de0cf0bd9d84b1150c05a2f0}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G@{T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G@{T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G~(-\/2)}}\label{pray_8c_a66451c68de0cf0bd9d84b1150c05a2f0}


Definition at line 88 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a1ed7c0bff2cb0d38c5ce0cb424de3899}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N@{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N@{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N~(-\/11)}}\label{pray_8c_a1ed7c0bff2cb0d38c5ce0cb424de3899}


Definition at line 97 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a5364ece57a436a9b28cb0fb659d94d54}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T@{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T@{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T~7}}\label{pray_8c_a5364ece57a436a9b28cb0fb659d94d54}


Definition at line 79 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a0cf0a6c09665e2feafa5cc21ae363396}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y@{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y@{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y~(-\/8)}}\label{pray_8c_a0cf0a6c09665e2feafa5cc21ae363396}


Definition at line 94 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_aa9aae24bd38313b0661a974501255484}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A@{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A@{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A~10}}\label{pray_8c_aa9aae24bd38313b0661a974501255484}


Definition at line 76 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a6eadc63855312f21b5f6cc7259b530b0}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E@{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E@{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E~6}}\label{pray_8c_a6eadc63855312f21b5f6cc7259b530b0}


Definition at line 80 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_ad4a74656da132ccd7279f5aefeee1a62}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D~(-\/6)}}\label{pray_8c_ad4a74656da132ccd7279f5aefeee1a62}


Definition at line 92 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_af0ff264889abcede3489461c49015827}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D~(-\/1)}}\label{pray_8c_af0ff264889abcede3489461c49015827}


Definition at line 87 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_adbe9ad131b4e2efc0027b6c3240e5c79}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E~(-\/4)}}\label{pray_8c_adbe9ad131b4e2efc0027b6c3240e5c79}


Definition at line 90 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a6878986afb98c5efca97db6d615b2d73}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K~9}}\label{pray_8c_a6878986afb98c5efca97db6d615b2d73}


Definition at line 77 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a7c00d5cda83746f252466940df254cf5}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D~12}}\label{pray_8c_a7c00d5cda83746f252466940df254cf5}


Definition at line 74 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_af7a7dec137df4eeb20ff575e7c301d8a}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G~8}}\label{pray_8c_af7a7dec137df4eeb20ff575e7c301d8a}


Definition at line 78 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_abe72c2a944c131a98568e372b21cdde0}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D~13}}\label{pray_8c_abe72c2a944c131a98568e372b21cdde0}


Definition at line 73 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_ae5a6843a406f7ef67150251c0f481648}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D~11}}\label{pray_8c_ae5a6843a406f7ef67150251c0f481648}


Definition at line 75 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a75c4f126c3b7e393a3694f5782566133}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L~4}}\label{pray_8c_a75c4f126c3b7e393a3694f5782566133}


Definition at line 82 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_ab1bbc98198d9067a9364c183568c63ad}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D@{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D~(-\/9)}}\label{pray_8c_ab1bbc98198d9067a9364c183568c63ad}


Definition at line 95 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a398648d07d2e7c344bd75605f705ba43}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S@{T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S@{T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S~2}}\label{pray_8c_a398648d07d2e7c344bd75605f705ba43}


Definition at line 84 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a2d5b5fb7ff08f14d13310c37eb8bafa5}{\index{pray.\+c@{pray.\+c}!T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S@{T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S}}
\index{T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S@{T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S}!pray.\+c@{pray.\+c}}
\subsubsection[{T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S~(-\/7)}}\label{pray_8c_a2d5b5fb7ff08f14d13310c37eb8bafa5}


Definition at line 93 of file pray.\+c.



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().

\hypertarget{pray_8c_a5a0dc3308cb8c9e6ad45efafb24d4a8b}{\index{pray.\+c@{pray.\+c}!ugod\+\_\+is\+\_\+angry@{ugod\+\_\+is\+\_\+angry}}
\index{ugod\+\_\+is\+\_\+angry@{ugod\+\_\+is\+\_\+angry}!pray.\+c@{pray.\+c}}
\subsubsection[{ugod\+\_\+is\+\_\+angry}]{\setlength{\rightskip}{0pt plus 5cm}\#define ugod\+\_\+is\+\_\+angry(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~(u.\+ualign.\+record $<$ 0)}}\label{pray_8c_a5a0dc3308cb8c9e6ad45efafb24d4a8b}


Definition at line 114 of file pray.\+c.



Referenced by angrygods(), and dosacrifice().

\hypertarget{pray_8c_ad1480e9557edcc543498ca259cee6c7d}{\index{pray.\+c@{pray.\+c}!W\+E\+A\+K@{W\+E\+A\+K}}
\index{W\+E\+A\+K@{W\+E\+A\+K}!pray.\+c@{pray.\+c}}
\subsubsection[{W\+E\+A\+K}]{\setlength{\rightskip}{0pt plus 5cm}\#define W\+E\+A\+K~3}}\label{pray_8c_ad1480e9557edcc543498ca259cee6c7d}


Referenced by in\+\_\+trouble().



\subsection{Function Documentation}
\hypertarget{pray_8c_ac1a9d6549dceb2b050630809056c744f}{\index{pray.\+c@{pray.\+c}!a\+\_\+gname@{a\+\_\+gname}}
\index{a\+\_\+gname@{a\+\_\+gname}!pray.\+c@{pray.\+c}}
\subsubsection[{a\+\_\+gname}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ a\+\_\+gname (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_ac1a9d6549dceb2b050630809056c744f}


Definition at line 1747 of file pray.\+c.



References a\+\_\+gname\+\_\+at(), u, you\+::ux, and you\+::uy.



Referenced by dosacrifice().


\begin{DoxyCode}
1748 \{
1749     \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a0a4b23aa5ea1ac09050be292bcb93f0d}{a\_gname\_at}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}));
1750 \}
\end{DoxyCode}
\hypertarget{pray_8c_a0a4b23aa5ea1ac09050be292bcb93f0d}{\index{pray.\+c@{pray.\+c}!a\+\_\+gname\+\_\+at@{a\+\_\+gname\+\_\+at}}
\index{a\+\_\+gname\+\_\+at@{a\+\_\+gname\+\_\+at}!pray.\+c@{pray.\+c}}
\subsubsection[{a\+\_\+gname\+\_\+at}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ a\+\_\+gname\+\_\+at (
\begin{DoxyParamCaption}
\item[{{\bf xchar}}]{x, }
\item[{{\bf xchar}}]{y}
\end{DoxyParamCaption}
)}}\label{pray_8c_a0a4b23aa5ea1ac09050be292bcb93f0d}


Definition at line 1753 of file pray.\+c.



References a\+\_\+align, align\+\_\+gname(), I\+S\+\_\+\+A\+L\+T\+A\+R, and levl.



Referenced by a\+\_\+gname().


\begin{DoxyCode}
1755 \{
1756     \textcolor{keywordflow}{if}(!\hyperlink{rm_8h_a06b1605590c29bd5f7e218035b45f949}{IS\_ALTAR}(\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[x][y].typ)) \textcolor{keywordflow}{return}((\textcolor{keywordtype}{char} *)0);
1757 
1758     \textcolor{keywordflow}{return} \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(\hyperlink{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{a\_align}(x,y));
1759 \}
\end{DoxyCode}
\hypertarget{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{\index{pray.\+c@{pray.\+c}!align\+\_\+gname@{align\+\_\+gname}}
\index{align\+\_\+gname@{align\+\_\+gname}!pray.\+c@{pray.\+c}}
\subsubsection[{align\+\_\+gname}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ align\+\_\+gname (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{alignment}
\end{DoxyParamCaption}
)}}\label{pray_8c_af3e995a7dd99833d915ecd826c5f610e}


Definition at line 1768 of file pray.\+c.



References A\+\_\+\+C\+H\+A\+O\+T\+I\+C, A\+\_\+\+L\+A\+W\+F\+U\+L, A\+\_\+\+N\+E\+U\+T\+R\+A\+L, A\+\_\+\+N\+O\+N\+E, Role\+::cgod, Role\+::lgod, Moloch, Role\+::ngod, and urole.



Referenced by a\+\_\+gname\+\_\+at(), altar\+\_\+wrath(), angrygods(), can\+\_\+pray(), convert\+\_\+arg(), fry\+\_\+by\+\_\+god(), god\+\_\+zaps\+\_\+you(), godvoice(), halu\+\_\+gname(), pleased(), prayer\+\_\+done(), summon\+\_\+minion(), and u\+\_\+gname().


\begin{DoxyCode}
1770 \{
1771     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *gnam;
1772 
1773     \textcolor{keywordflow}{switch} (alignment) \{
1774      \textcolor{keywordflow}{case} \hyperlink{align_8h_abe65d0cb8c8ae018c5bd63a280000eaa}{A\_NONE}: gnam = \hyperlink{pray_8c_ab5d33410760309a3f6faa2b20924e009}{Moloch}; \textcolor{keywordflow}{break};
1775      \textcolor{keywordflow}{case} \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL}: gnam = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a71dfd97228277634b596856f4732e74b}{lgod}; \textcolor{keywordflow}{break};
1776      \textcolor{keywordflow}{case} \hyperlink{align_8h_a58fee99b3a5a5db767e86d4c6705c9a1}{A\_NEUTRAL}:   gnam = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aa4c0b03524de8f7c7efcaa301b8badbb}{ngod}; \textcolor{keywordflow}{break};
1777      \textcolor{keywordflow}{case} \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC}:   gnam = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a72dc55eac27db8d205b94bcb35c708fd}{cgod}; \textcolor{keywordflow}{break};
1778      \textcolor{keywordflow}{default}:       impossible(\textcolor{stringliteral}{"unknown alignment."});
1779             gnam = \textcolor{stringliteral}{"someone"}; \textcolor{keywordflow}{break};
1780     \}
1781     \textcolor{keywordflow}{if} (*gnam == \textcolor{charliteral}{'\_'}) ++gnam;
1782     \textcolor{keywordflow}{return} gnam;
1783 \}
\end{DoxyCode}
\hypertarget{pray_8c_a47e91145b4bc062d384a798de405d405}{\index{pray.\+c@{pray.\+c}!align\+\_\+gtitle@{align\+\_\+gtitle}}
\index{align\+\_\+gtitle@{align\+\_\+gtitle}!pray.\+c@{pray.\+c}}
\subsubsection[{align\+\_\+gtitle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ align\+\_\+gtitle (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{alignment}
\end{DoxyParamCaption}
)}}\label{pray_8c_a47e91145b4bc062d384a798de405d405}


Definition at line 1810 of file pray.\+c.



References A\+\_\+\+C\+H\+A\+O\+T\+I\+C, A\+\_\+\+L\+A\+W\+F\+U\+L, A\+\_\+\+N\+E\+U\+T\+R\+A\+L, Role\+::cgod, Role\+::lgod, Role\+::ngod, and urole.



Referenced by convert\+\_\+arg().


\begin{DoxyCode}
1812 \{
1813     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *gnam, *result = \textcolor{stringliteral}{"god"};
1814 
1815     \textcolor{keywordflow}{switch} (alignment) \{
1816      \textcolor{keywordflow}{case} \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL}: gnam = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a71dfd97228277634b596856f4732e74b}{lgod}; \textcolor{keywordflow}{break};
1817      \textcolor{keywordflow}{case} \hyperlink{align_8h_a58fee99b3a5a5db767e86d4c6705c9a1}{A\_NEUTRAL}:   gnam = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_aa4c0b03524de8f7c7efcaa301b8badbb}{ngod}; \textcolor{keywordflow}{break};
1818      \textcolor{keywordflow}{case} \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC}:   gnam = \hyperlink{you_8h_a5e8177648a9df85179098399b7ce2c66}{urole}.\hyperlink{structRole_a72dc55eac27db8d205b94bcb35c708fd}{cgod}; \textcolor{keywordflow}{break};
1819      \textcolor{keywordflow}{default}:       gnam = 0; \textcolor{keywordflow}{break};
1820     \}
1821     \textcolor{keywordflow}{if} (gnam && *gnam == \textcolor{charliteral}{'\_'}) result = \textcolor{stringliteral}{"goddess"};
1822     \textcolor{keywordflow}{return} result;
1823 \}
\end{DoxyCode}
\hypertarget{pray_8c_a43ac407d23c96525bb221608ceec2534}{\index{pray.\+c@{pray.\+c}!altar\+\_\+wrath@{altar\+\_\+wrath}}
\index{altar\+\_\+wrath@{altar\+\_\+wrath}!pray.\+c@{pray.\+c}}
\subsubsection[{altar\+\_\+wrath}]{\setlength{\rightskip}{0pt plus 5cm}void altar\+\_\+wrath (
\begin{DoxyParamCaption}
\item[{int}]{x, }
\item[{int}]{y}
\end{DoxyParamCaption}
)}}\label{pray_8c_a43ac407d23c96525bb221608ceec2534}


Definition at line 1826 of file pray.\+c.



References a\+\_\+align, A\+\_\+\+W\+I\+S, align\+\_\+gname(), F\+A\+L\+S\+E, godvoice(), and u\+\_\+gname().



Referenced by dokick(), and dosit().


\begin{DoxyCode}
1828 \{
1829     \hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} altaralign = \hyperlink{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{a\_align}(x,y);
1830 
1831     \textcolor{keywordflow}{if}(!strcmp(\hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(altaralign), \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}())) \{
1832     \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(altaralign, \textcolor{stringliteral}{"How darest thou desecrate my altar!"});
1833     (void) adjattrib(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, -1, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1834     \} \textcolor{keywordflow}{else} \{
1835     pline(\textcolor{stringliteral}{"A voice (could it be %s?) whispers:"},
1836           \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(altaralign));
1837     verbalize(\textcolor{stringliteral}{"Thou shalt pay, infidel!"});
1838     change\_luck(-1);
1839     \}
1840 \}
\end{DoxyCode}
\hypertarget{pray_8c_aa4786bc219e4f070008e558bed51bb33}{\index{pray.\+c@{pray.\+c}!angrygods@{angrygods}}
\index{angrygods@{angrygods}!pray.\+c@{pray.\+c}}
\subsubsection[{angrygods}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void angrygods (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{resp\+\_\+god}
\end{DoxyParamCaption}
)}}\label{pray_8c_aa4786bc219e4f070008e558bed51bb33}


Definition at line 552 of file pray.\+c.



References a\+\_\+align, A\+\_\+\+N\+O\+N\+E, A\+\_\+\+W\+I\+S, align\+\_\+gname(), Antimagic, Blind, monst\+::data, F\+A\+L\+S\+E, god\+\_\+zaps\+\_\+you(), gods\+\_\+angry(), godvoice(), Hallucination, Inhell, losexp(), Luck, permonst\+::mlet, N\+H\+\_\+\+B\+L\+A\+C\+K, on\+\_\+altar, Punished, align\+::record, rndcurse(), S\+\_\+\+H\+U\+M\+A\+N, S\+T\+R\+I\+D\+E\+N\+T, summon\+\_\+minion(), align\+::type, u, you\+::ualign, you\+::ublesscnt, you\+::ublessed, you\+::ugangr, ugod\+\_\+is\+\_\+angry, you\+::ux, you\+::uy, and youmonst.



Referenced by dosacrifice(), gods\+\_\+upset(), and prayer\+\_\+done().


\begin{DoxyCode}
554 \{
555     \textcolor{keyword}{register} \textcolor{keywordtype}{int}    maxanger;
556 
557     \textcolor{keywordflow}{if}(\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell}) resp\_god = \hyperlink{align_8h_abe65d0cb8c8ae018c5bd63a280000eaa}{A\_NONE};
558     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac52be91176a57cbafbcf1703ef9623e2}{ublessed} = 0;
559 
560     \textcolor{comment}{/* changed from tmp = u.ugangr + abs (u.uluck) -- rph */}
561     \textcolor{comment}{/* added test for alignment diff -dlc */}
562     \textcolor{keywordflow}{if}(resp\_god != \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type})
563         maxanger =  \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record}/2 + (\hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck} > 0 ? -\hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck}/3 : -
      \hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck});
564     \textcolor{keywordflow}{else}
565         maxanger =  3*\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} +
566         ((\hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck} > 0 || \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} >= \hyperlink{pray_8c_a4c7a387f19f0bd40b659c3722171e3f3}{STRIDENT}) ? -
      \hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck}/3 : -\hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck});
567     \textcolor{keywordflow}{if} (maxanger < 1) maxanger = 1; \textcolor{comment}{/* possible if bad align & good luck */}
568     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (maxanger > 15) maxanger = 15;  \textcolor{comment}{/* be reasonable */}
569 
570     \textcolor{keywordflow}{switch} (rn2(maxanger)) \{
571         \textcolor{keywordflow}{case} 0:
572         \textcolor{keywordflow}{case} 1: You\_feel(\textcolor{stringliteral}{"that %s is %s."}, \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(resp\_god),
573                 \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ? \textcolor{stringliteral}{"bummed"} : \textcolor{stringliteral}{"displeased"});
574             \textcolor{keywordflow}{break};
575         \textcolor{keywordflow}{case} 2:
576         \textcolor{keywordflow}{case} 3:
577             \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(resp\_god,(\textcolor{keywordtype}{char} *)0);
578             pline(\textcolor{stringliteral}{"\(\backslash\)"Thou %s, %s.\(\backslash\)""},
579                 (\hyperlink{pray_8c_a5a0dc3308cb8c9e6ad45efafb24d4a8b}{ugod\_is\_angry}() && resp\_god == \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.
      \hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type})
580                 ? \textcolor{stringliteral}{"hast strayed from the path"} :
581                         \textcolor{stringliteral}{"art arrogant"},
582                   \hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}->\hyperlink{structpermonst_ab402dbf1bed9d0e595a2b3da6558da92}{mlet} == \hyperlink{monsym_8h_afd17d6f6e4ac25a9ac0086ebf27b0469}{S\_HUMAN} ? \textcolor{stringliteral}{"mortal"} : \textcolor{stringliteral}{"creature"});
583             verbalize(\textcolor{stringliteral}{"Thou must relearn thy lessons!"});
584             (void) adjattrib(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, -1, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
585             \hyperlink{exper_8c_ad6e8547d2db17f406f69a00909ee3a57}{losexp}((\textcolor{keywordtype}{char} *)0);
586             \textcolor{keywordflow}{break};
587         \textcolor{keywordflow}{case} 6: \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_ad76daf081117eb579839073bebe92b45}{Punished}) \{
588                 \hyperlink{pray_8c_a5e5e2d647c235527b6d264d5f6dfa57a}{gods\_angry}(resp\_god);
589                 punish((\textcolor{keyword}{struct} \hyperlink{structobj}{obj} *)0);
590                 \textcolor{keywordflow}{break};
591             \} \textcolor{comment}{/* else fall thru */}
592         \textcolor{keywordflow}{case} 4:
593         \textcolor{keywordflow}{case} 5: \hyperlink{pray_8c_a5e5e2d647c235527b6d264d5f6dfa57a}{gods\_angry}(resp\_god);
594             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind} && !\hyperlink{youprop_8h_aaa17c946f184a85fbf104cdb4d55e24e}{Antimagic})
595                 pline(\textcolor{stringliteral}{"%s glow surrounds you."},
596                   An(hcolor(\hyperlink{decl_8h_a55df3d1bd35f9756e4d497a2762a6c70}{NH\_BLACK})));
597             \hyperlink{sit_8c_a2835848ba066c9a75ae7f7400213fbd6}{rndcurse}();
598             \textcolor{keywordflow}{break};
599         \textcolor{keywordflow}{case} 7:
600         \textcolor{keywordflow}{case} 8: \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(resp\_god,(\textcolor{keywordtype}{char} *)0);
601             verbalize(\textcolor{stringliteral}{"Thou durst %s me?"},
602                   (\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() &&
603                    (\hyperlink{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{a\_align}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}) != resp\_god)) ?
604                   \textcolor{stringliteral}{"scorn"}:\textcolor{stringliteral}{"call upon"});
605             pline(\textcolor{stringliteral}{"\(\backslash\)"Then die, %s!\(\backslash\)""},
606                   \hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}->\hyperlink{structpermonst_ab402dbf1bed9d0e595a2b3da6558da92}{mlet} == \hyperlink{monsym_8h_afd17d6f6e4ac25a9ac0086ebf27b0469}{S\_HUMAN} ? \textcolor{stringliteral}{"mortal"} : \textcolor{stringliteral}{"creature"});
607             \hyperlink{minion_8c_a241dff05fee4de3cbbace9bc1a9110b7}{summon\_minion}(resp\_god, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
608             \textcolor{keywordflow}{break};
609 
610         \textcolor{keywordflow}{default}:    \hyperlink{pray_8c_a5e5e2d647c235527b6d264d5f6dfa57a}{gods\_angry}(resp\_god);
611             \hyperlink{pray_8c_a700e2edee689fce4e59c382f4d657b31}{god\_zaps\_you}(resp\_god);
612             \textcolor{keywordflow}{break};
613     \}
614     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} = rnz(300);
615     \textcolor{keywordflow}{return};
616 \}
\end{DoxyCode}
\hypertarget{pray_8c_a3c5bd4338b52b9ce45fa159cebdd2881}{\index{pray.\+c@{pray.\+c}!at\+\_\+your\+\_\+feet@{at\+\_\+your\+\_\+feet}}
\index{at\+\_\+your\+\_\+feet@{at\+\_\+your\+\_\+feet}!pray.\+c@{pray.\+c}}
\subsubsection[{at\+\_\+your\+\_\+feet}]{\setlength{\rightskip}{0pt plus 5cm}static void at\+\_\+your\+\_\+feet (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [static]}}}\label{pray_8c_a3c5bd4338b52b9ce45fa159cebdd2881}


Definition at line 620 of file pray.\+c.



References Blind, F\+O\+O\+T, Levitation, Something, S\+T\+O\+M\+A\+C\+H, u, and you\+::ustuck.



Referenced by dosacrifice(), and pleased().


\begin{DoxyCode}
622 \{
623     \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind}) str = \hyperlink{decl_8h_a5d959c2baa129ffbf809d6ae5372adf5}{Something};
624     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.uswallow) \{
625         \textcolor{comment}{/* barrier between you and the floor */}
626         pline(\textcolor{stringliteral}{"%s %s into %s %s."}, str, vtense(str, \textcolor{stringliteral}{"drop"}),
627           s\_suffix(mon\_nam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck})), mbodypart(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}, \hyperlink{hack_8h_afe6da63d3b68440a889df103056403c5}{STOMACH}));
628     \} \textcolor{keywordflow}{else} \{
629         pline(\textcolor{stringliteral}{"%s %s %s your %s!"}, str,
630           \hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind} ? \textcolor{stringliteral}{"lands"} : vtense(str, \textcolor{stringliteral}{"appear"}),
631           \hyperlink{youprop_8h_a3dbdc08291ccd1d6de010d72e4b180fb}{Levitation} ? \textcolor{stringliteral}{"beneath"} : \textcolor{stringliteral}{"at"},
632           makeplural(body\_part(\hyperlink{hack_8h_a9b1eabef4c7711550544eaeaa8f41fa1}{FOOT})));
633     \}
634 \}
\end{DoxyCode}
\hypertarget{pray_8c_afd5b1ba8422f9c3df6799ad9d7f8bff2}{\index{pray.\+c@{pray.\+c}!blocked\+\_\+boulder@{blocked\+\_\+boulder}}
\index{blocked\+\_\+boulder@{blocked\+\_\+boulder}!pray.\+c@{pray.\+c}}
\subsubsection[{blocked\+\_\+boulder}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} {\bf boolean} blocked\+\_\+boulder (
\begin{DoxyParamCaption}
\item[{int}]{dx, }
\item[{int}]{dy}
\end{DoxyParamCaption}
)}}\label{pray_8c_afd5b1ba8422f9c3df6799ad9d7f8bff2}


Definition at line 1844 of file pray.\+c.



References count, F\+A\+L\+S\+E, I\+S\+\_\+\+R\+O\+C\+K, level, levl, dlevel\+\_\+t\+::objects, otmp, obj\+::otyp, obj\+::quan, T\+R\+U\+E, u, you\+::ux, and you\+::uy.



Referenced by in\+\_\+trouble().


\begin{DoxyCode}
1846 \{
1847     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
1848     \textcolor{keywordtype}{long} \hyperlink{wingem1_8c_a66e3fedede6aa372e5196e55e5e8d5c1}{count} = 0L;
1849 
1850     \textcolor{keywordflow}{for}(otmp = \hyperlink{rm_8h_a721c99bfa099c4225215ba102e91fa39}{level}.\hyperlink{structdlevel__t_ac128f805d01d7746b499596dd3b92a53}{objects}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}+dx][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}+dy]; otmp; otmp = otmp->nexthere) \{
1851     \textcolor{keywordflow}{if}(otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == BOULDER)
1852         count += otmp->\hyperlink{structobj_ad08c0ed1a746fbb52377ecd7e4220578}{quan};
1853     \}
1854 
1855     \textcolor{keywordflow}{switch}(count) \{
1856     \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}; \textcolor{comment}{/* no boulders--not blocked */}
1857     \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{break}; \textcolor{comment}{/* possibly blocked depending on if it's pushable */}
1858     \textcolor{keywordflow}{default}: \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE}; \textcolor{comment}{/* >1 boulder--blocked after they push the top}
1859 \textcolor{comment}{        one; don't force them to push it first to find out */}
1860     \}
1861 
1862     \textcolor{keywordflow}{if} (!isok(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}+2*dx, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}+2*dy))
1863     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1864     \textcolor{keywordflow}{if} (\hyperlink{rm_8h_a041df081d95aacdcbf31a3bbfdd36e0e}{IS\_ROCK}(\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}+2*dx][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}+2*dy].typ))
1865     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1866     \textcolor{keywordflow}{if} (sobj\_at(BOULDER, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}+2*dx, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}+2*dy))
1867     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1868 
1869     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1870 \}
\end{DoxyCode}
\hypertarget{pray_8c_a2807cfd789d621072343bc921e94b1ae}{\index{pray.\+c@{pray.\+c}!can\+\_\+pray@{can\+\_\+pray}}
\index{can\+\_\+pray@{can\+\_\+pray}!pray.\+c@{pray.\+c}}
\subsubsection[{can\+\_\+pray}]{\setlength{\rightskip}{0pt plus 5cm}{\bf boolean} can\+\_\+pray (
\begin{DoxyParamCaption}
\item[{{\bf boolean}}]{praying}
\end{DoxyParamCaption}
)}}\label{pray_8c_a2807cfd789d621072343bc921e94b1ae}


Definition at line 1506 of file pray.\+c.



References a\+\_\+align, A\+\_\+\+C\+H\+A\+O\+T\+I\+C, A\+\_\+\+L\+A\+W\+F\+U\+L, A\+\_\+\+N\+E\+U\+T\+R\+A\+L, align\+\_\+gname(), monst\+::data, F\+A\+L\+S\+E, in\+\_\+trouble(), Inhell, is\+\_\+demon, is\+\_\+undead, Luck, on\+\_\+altar, align\+::record, T\+R\+U\+E, align\+::type, u, you\+::ualign, you\+::ublesscnt, you\+::ugangr, you\+::ux, you\+::uy, and youmonst.



Referenced by dopray().


\begin{DoxyCode}
1508 \{
1509     \textcolor{keywordtype}{int} alignment;
1510 
1511     \hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp} = \hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() ? \hyperlink{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{a\_align}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}) : 
      \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.ualign.\hyperlink{lev__main_8c_ac765329451135abec74c45e1897abf26}{type};
1512     \hyperlink{pray_8c_a34114bd61cdbc0e7781089fadc444f1a}{p\_trouble} = \hyperlink{pray_8c_ad52190f72755f5c12aeae3824379ba15}{in\_trouble}();
1513 
1514     \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_a9f5d39edf86a6137fd76d419c7914af4}{is\_demon}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) && (\hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp} != 
      \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC})) \{
1515     \textcolor{keywordflow}{if} (praying)
1516         pline\_The(\textcolor{stringliteral}{"very idea of praying to a %s god is repugnant to you."},
1517           \hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp} ? \textcolor{stringliteral}{"lawful"} : \textcolor{stringliteral}{"neutral"});
1518     \textcolor{keywordflow}{return} \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1519     \}
1520 
1521     \textcolor{keywordflow}{if} (praying)
1522     You(\textcolor{stringliteral}{"begin praying to %s."}, \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(\hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp}));
1523 
1524     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == -\hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp})
1525     alignment = -\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record};      \textcolor{comment}{/* Opposite alignment altar */}
1526     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != \hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp})
1527     alignment = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} / 2;   \textcolor{comment}{/* Different alignment altar */}
1528     \textcolor{keywordflow}{else} alignment = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record};
1529 
1530     \textcolor{keywordflow}{if} ((\hyperlink{pray_8c_a34114bd61cdbc0e7781089fadc444f1a}{p\_trouble} > 0) ? (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} > 200) : \textcolor{comment}{/* big trouble */}
1531     (\hyperlink{pray_8c_a34114bd61cdbc0e7781089fadc444f1a}{p\_trouble} < 0) ? (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} > 100) : \textcolor{comment}{/* minor difficulties */}
1532     (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} > 0))            \textcolor{comment}{/* not in trouble */}
1533     \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} = 0;       \textcolor{comment}{/* too soon... */}
1534     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})\hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck} < 0 || \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} || alignment < 0)
1535     \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} = 1;       \textcolor{comment}{/* too naughty... */}
1536     \textcolor{keywordflow}{else} \textcolor{comment}{/* alignment >= 0 */} \{
1537     \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != \hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp})
1538         \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} = 2;
1539     \textcolor{keywordflow}{else}
1540         \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} = 3;
1541     \}
1542 
1543     \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_a8e10c42bf31c42d748765a29105842fc}{is\_undead}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) && !\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell} &&
1544     (\hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp} == \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL} || (\hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp} == 
      \hyperlink{align_8h_a58fee99b3a5a5db767e86d4c6705c9a1}{A\_NEUTRAL} && !rn2(10))))
1545     \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} = -1;
1546     \textcolor{comment}{/* Note:  when !praying, the random factor for neutrals makes the}
1547 \textcolor{comment}{       return value a non-deterministic approximation for enlightenment.}
1548 \textcolor{comment}{       This case should be uncommon enough to live with... */}
1549 
1550     \textcolor{keywordflow}{return} !praying ? (\hyperlink{global_8h_a531b10dd351aa162d7dcccd1966308b8}{boolean})(\hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} == 3 && !\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell}) : 
      \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1551 \}
\end{DoxyCode}
\hypertarget{pray_8c_a1e6495b1ddb567620415066e240b4cae}{\index{pray.\+c@{pray.\+c}!consume\+\_\+offering@{consume\+\_\+offering}}
\index{consume\+\_\+offering@{consume\+\_\+offering}!pray.\+c@{pray.\+c}}
\subsubsection[{consume\+\_\+offering}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void consume\+\_\+offering (
\begin{DoxyParamCaption}
\item[{struct {\bf obj} $\ast$}]{otmp}
\end{DoxyParamCaption}
)}}\label{pray_8c_a1e6495b1ddb567620415066e240b4cae}


Definition at line 1095 of file pray.\+c.



References A\+\_\+\+L\+A\+W\+F\+U\+L, A\+\_\+\+W\+I\+S, Blind, carried, Hallucination, T\+R\+U\+E, align\+::type, u, and you\+::ualign.



Referenced by dosacrifice().


\begin{DoxyCode}
1097 \{
1098     \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination})
1099     \textcolor{keywordflow}{switch} (rn2(3)) \{
1100         \textcolor{keywordflow}{case} 0:
1101         Your(\textcolor{stringliteral}{"sacrifice sprouts wings and a propeller and roars away!"});
1102         \textcolor{keywordflow}{break};
1103         \textcolor{keywordflow}{case} 1:
1104         Your(\textcolor{stringliteral}{"sacrifice puffs up, swelling bigger and bigger, and pops!"});
1105         \textcolor{keywordflow}{break};
1106         \textcolor{keywordflow}{case} 2:
1107         Your(\textcolor{stringliteral}{"sacrifice collapses into a cloud of dancing particles and fades away!"});
1108         \textcolor{keywordflow}{break};
1109     \}
1110     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind} && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL})
1111     Your(\textcolor{stringliteral}{"sacrifice disappears!"});
1112     \textcolor{keywordflow}{else} Your(\textcolor{stringliteral}{"sacrifice is consumed in a %s!"},
1113           \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL} ? \textcolor{stringliteral}{"flash of light"} : \textcolor{stringliteral}{"burst of flame"});
1114     \textcolor{keywordflow}{if} (\hyperlink{obj_8h_a4adde9a5428fde9b6faf64253a1507e8}{carried}(otmp)) useup(otmp);
1115     \textcolor{keywordflow}{else} useupf(otmp, 1L);
1116     exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1117 \}
\end{DoxyCode}
\hypertarget{pray_8c_a28ffe1a786aa155dd481a3baaa8dde1e}{\index{pray.\+c@{pray.\+c}!dopray@{dopray}}
\index{dopray@{dopray}!pray.\+c@{pray.\+c}}
\subsubsection[{dopray}]{\setlength{\rightskip}{0pt plus 5cm}int dopray (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a28ffe1a786aa155dd481a3baaa8dde1e}


Definition at line 1554 of file pray.\+c.



References Blind, can\+\_\+pray(), flags, u\+\_\+conduct\+::gnostic, Inhell, nomovemsg, flag\+::prayconfirm, prayer\+\_\+done(), align\+::record, flag\+::soundok, T\+R\+U\+E, u, you\+::ualign, you\+::ublesscnt, you\+::uconduct, you\+::ugangr, you\+::uluck, wizard, and yn.


\begin{DoxyCode}
1555 \{
1556     \textcolor{comment}{/* Confirm accidental slips of Alt-P */}
1557     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_aa7e2be04624993681dcb42a4ca3e6b45}{prayconfirm})
1558     \textcolor{keywordflow}{if} (\hyperlink{hack_8h_a22ffd7fa35549db318337a497c38a1ae}{yn}(\textcolor{stringliteral}{"Are you sure you want to pray?"}) == \textcolor{charliteral}{'n'})
1559         \textcolor{keywordflow}{return} 0;
1560 
1561     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac34f4744daa7ff78a6ff556ade5b9601}{uconduct}.\hyperlink{structu__conduct_adb446fda8db21ba87c4dccfc6e7c75e6}{gnostic}++;
1562     \textcolor{comment}{/* Praying implies that the hero is conscious and since we have}
1563 \textcolor{comment}{       no deafness attribute this implies that all verbalized messages}
1564 \textcolor{comment}{       can be heard.  So, in case the player has used the 'O' command}
1565 \textcolor{comment}{       to toggle this accessible flag off, force it to be on. */}
1566     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3871fd2268fbc24b89cece8eb352dfc}{soundok} = 1;
1567 
1568     \textcolor{comment}{/* set up p\_type and p\_alignment */}
1569     \textcolor{keywordflow}{if} (!\hyperlink{pray_8c_a2807cfd789d621072343bc921e94b1ae}{can\_pray}(\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE})) \textcolor{keywordflow}{return} 0;
1570 
1571 \textcolor{preprocessor}{#ifdef WIZARD}
1572     \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a5f48dc2f029e22c05489fb20a491db4b}{wizard} && \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} >= 0) \{
1573     \textcolor{keywordflow}{if} (\hyperlink{hack_8h_a22ffd7fa35549db318337a497c38a1ae}{yn}(\textcolor{stringliteral}{"Force the gods to be pleased?"}) == \textcolor{charliteral}{'y'}) \{
1574         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} = 0;
1575         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} = 0;
1576         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} <= 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} = 1;
1577         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} = 0;
1578         \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} < 2) \hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} = 3;
1579     \}
1580     \}
1581 \textcolor{preprocessor}{#endif}
1582     nomul(-3);
1583     \hyperlink{decl_8h_a03b001040702c25afae477b18b1692c3}{nomovemsg} = \textcolor{stringliteral}{"You finish your prayer."};
1584     afternmv = \hyperlink{pray_8c_a61079895bf22e534d68de669f9c63836}{prayer\_done};
1585 
1586     \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} == 3 && !\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell}) \{
1587     \textcolor{comment}{/* if you've been true to your god you can't die while you pray */}
1588     \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
1589         You(\textcolor{stringliteral}{"are surrounded by a shimmering light."});
1590     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.uinvulnerable = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1591     \}
1592 
1593     \textcolor{keywordflow}{return}(1);
1594 \}
\end{DoxyCode}
\hypertarget{pray_8c_ab0eaf047f389aa6a0f6f0c2d0aadf369}{\index{pray.\+c@{pray.\+c}!dosacrifice@{dosacrifice}}
\index{dosacrifice@{dosacrifice}!pray.\+c@{pray.\+c}}
\subsubsection[{dosacrifice}]{\setlength{\rightskip}{0pt plus 5cm}int dosacrifice (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_ab0eaf047f389aa6a0f6f0c2d0aadf369}


Definition at line 1120 of file pray.\+c.



References a\+\_\+align, A\+\_\+\+C\+H\+A\+O\+T\+I\+C, A\+\_\+\+C\+U\+R\+R\+E\+N\+T, a\+\_\+gname(), A\+\_\+\+L\+A\+W\+F\+U\+L, A\+\_\+\+N\+O\+N\+E, A\+\_\+\+O\+R\+I\+G\+I\+N\+A\+L, A\+\_\+\+W\+I\+S, Race\+::adj, Align2amask, A\+L\+I\+G\+N\+L\+I\+M, A\+M\+\_\+\+C\+H\+A\+O\+T\+I\+C, A\+M\+\_\+\+S\+H\+R\+I\+N\+E, angrygods(), A\+S\+C\+E\+N\+D\+E\+D, at\+\_\+your\+\_\+feet(), Blind, flag\+::botl, carried, consume\+\_\+offering(), obj\+::corpsenm, monst\+::data, display\+\_\+nhwindow, dlord(), done, E\+S\+C\+A\+P\+E\+D, F\+A\+L\+S\+E, flag\+::female, flags, F\+O\+O\+T, F\+R\+O\+M\+O\+U\+T\+S\+I\+D\+E, u\+\_\+conduct\+::gnostic, god\+\_\+zaps\+\_\+you(), gods\+\_\+upset(), godvoice(), H\+Aggravate\+\_\+monster, Hallucination, In\+\_\+endgame, Inhell, Is\+\_\+astralevel, is\+\_\+demon, Is\+\_\+sanctum, is\+\_\+undead, is\+\_\+unicorn, levl, L\+U\+C\+K\+M\+A\+X, permonst\+::maligntyp, M\+A\+X\+V\+A\+L\+U\+E, mons, monstermoves, monstr, monst\+::mtame, newsym(), N\+H\+\_\+\+B\+L\+A\+C\+K, N\+H\+\_\+\+W\+H\+I\+T\+E, N\+O\+\_\+\+M\+M\+\_\+\+F\+L\+A\+G\+S, N\+O\+N\+\_\+\+P\+M, nothing\+\_\+happens, obj\+::oartifact, O\+A\+T\+T\+A\+C\+H\+E\+D\+\_\+\+M\+O\+N\+S\+T, obj\+::oeaten, on\+\_\+altar, otmp, obj\+::otyp, obj\+::oxlth, align\+::record, R\+O\+O\+M, something, flag\+::soundok, obj\+::spe, summon\+\_\+minion(), T\+R\+U\+E, align\+::type, u, u\+\_\+gname(), you\+::ualign, you\+::ualignbase, uamul, uarmh, you\+::ublesscnt, you\+::ublessed, you\+::uconduct, you\+::uevent, you\+::ugangr, you\+::ugifts, ugod\+\_\+is\+\_\+angry, you\+::ulevel, you\+::uluck, urace, you\+::urooms, you\+::ux, you\+::uy, you\+::uz, W\+I\+N\+\_\+\+M\+E\+S\+S\+A\+G\+E, youmonst, and your\+\_\+race.


\begin{DoxyCode}
1121 \{
1122     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
1123     \textcolor{keywordtype}{int} value = 0;
1124     \textcolor{keywordtype}{int} pm;
1125     \hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} altaralign = \hyperlink{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{a\_align}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
1126 
1127     \textcolor{keywordflow}{if} (!\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() || \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.uswallow) \{
1128     You(\textcolor{stringliteral}{"are not standing on an altar."});
1129     \textcolor{keywordflow}{return} 0;
1130     \}
1131 
1132     \textcolor{keywordflow}{if} (\hyperlink{dungeon_8h_ae85486e6a752224948478a6e9dab0329}{In\_endgame}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz})) \{
1133     \textcolor{keywordflow}{if} (!(otmp = getobj(\hyperlink{pray_8c_ad9e5e939d01dc5fba6482d4ceefa259b}{sacrifice\_types}, \textcolor{stringliteral}{"sacrifice"}))) \textcolor{keywordflow}{return} 0;
1134     \} \textcolor{keywordflow}{else} \{
1135     \textcolor{keywordflow}{if} (!(otmp = floorfood(\textcolor{stringliteral}{"sacrifice"}, 1))) \textcolor{keywordflow}{return} 0;
1136     \}
1137     \textcolor{comment}{/*}
1138 \textcolor{comment}{      Was based on nutritional value and aging behavior (< 50 moves).}
1139 \textcolor{comment}{      Sacrificing a food ration got you max luck instantly, making the}
1140 \textcolor{comment}{      gods as easy to please as an angry dog!}
1141 \textcolor{comment}{}
1142 \textcolor{comment}{      Now only accepts corpses, based on the game's evaluation of their}
1143 \textcolor{comment}{      toughness.  Human and pet sacrifice, as well as sacrificing unicorns}
1144 \textcolor{comment}{      of your alignment, is strongly discouraged.}
1145 \textcolor{comment}{     */}
1146 
1147 \textcolor{preprocessor}{#define MAXVALUE 24 }\textcolor{comment}{/* Highest corpse value (besides Wiz) */}\textcolor{preprocessor}{}
1148 
1149     \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == CORPSE) \{
1150     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structpermonst}{permonst} *ptr = &\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[otmp->\hyperlink{structobj_ad5db7220e2b815d06c3c80027ab9924f}{corpsenm}];
1151     \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp;
1152     \textcolor{keyword}{extern} \textcolor{keyword}{const} \textcolor{keywordtype}{int} \hyperlink{makemon_8c_a2e4cd9d4199a5c6f1ecf9985d4a58dfb}{monstr}[];
1153 
1154     \textcolor{comment}{/* KMH, conduct */}
1155     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac34f4744daa7ff78a6ff556ade5b9601}{uconduct}.\hyperlink{structu__conduct_adb446fda8db21ba87c4dccfc6e7c75e6}{gnostic}++;
1156 
1157     \textcolor{comment}{/* you're handling this corpse, even if it was killed upon the altar */}
1158     feel\_cockatrice(otmp, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1159 
1160     \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_ad5db7220e2b815d06c3c80027ab9924f}{corpsenm} == PM\_ACID\_BLOB
1161         || (\hyperlink{decl_8h_a75c1f008487d95630d0d789a79bb5c74}{monstermoves} <= peek\_at\_iced\_corpse\_age(otmp) + 50)) \{
1162         value = monstr[otmp->\hyperlink{structobj_ad5db7220e2b815d06c3c80027ab9924f}{corpsenm}] + 1;
1163         \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a51ce2f2a33e9c10a4698b75bd7d030c0}{oeaten})
1164         value = eaten\_stat(value, otmp);
1165     \}
1166 
1167     \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_a620adc730907c7d05a67956897fc4bcb}{your\_race}(ptr)) \{
1168         \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_a9f5d39edf86a6137fd76d419c7914af4}{is\_demon}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data})) \{
1169         You(\textcolor{stringliteral}{"find the idea very satisfying."});
1170         exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1171         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC}) \{
1172             pline(\textcolor{stringliteral}{"You'll regret this infamous offense!"});
1173             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1174         \}
1175 
1176         \textcolor{keywordflow}{if} (altaralign != \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC} && altaralign != \hyperlink{align_8h_abe65d0cb8c8ae018c5bd63a280000eaa}{A\_NONE}) \{
1177         \textcolor{comment}{/* curse the lawful/neutral altar */}
1178         pline\_The(\textcolor{stringliteral}{"altar is stained with %s blood."}, \hyperlink{you_8h_adaecc633890bd84d5cfceaf4a513bbaa}{urace}.\hyperlink{structRace_a61ff8fd4db65f11000381aa0dff23e55}{adj});
1179         \textcolor{keywordflow}{if}(!\hyperlink{dungeon_8h_af69a19c1eec378c1cebe9143febbe2b5}{Is\_astralevel}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz}))
1180             \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].altarmask = \hyperlink{align_8h_a4bb126249b7cc0370b948950f11abe92}{AM\_CHAOTIC};
1181         angry\_priest();
1182         \} \textcolor{keywordflow}{else} \{
1183         \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *dmon;
1184         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *demonless\_msg;
1185 
1186         \textcolor{comment}{/* Human sacrifice on a chaotic or unaligned altar */}
1187         \textcolor{comment}{/* is equivalent to demon summoning */}
1188         \textcolor{keywordflow}{if} (altaralign == \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC} && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != 
      \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC}) \{
1189             pline(
1190              \textcolor{stringliteral}{"The blood floods the altar, which vanishes in %s cloud!"},
1191               an(hcolor(\hyperlink{decl_8h_a55df3d1bd35f9756e4d497a2762a6c70}{NH\_BLACK})));
1192             \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].typ = \hyperlink{rm_8h_ae635489e987ae17a3bf884376cc2fe34}{ROOM};
1193             \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].altarmask = 0;
1194             \hyperlink{display_8c_a185c6ad6e4c5a6be26a371b9aa17c32e}{newsym}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
1195             angry\_priest();
1196             demonless\_msg = \textcolor{stringliteral}{"cloud dissipates"};
1197         \} \textcolor{keywordflow}{else} \{
1198             \textcolor{comment}{/* either you're chaotic or altar is Moloch's or both */}
1199             pline\_The(\textcolor{stringliteral}{"blood covers the altar!"});
1200             change\_luck(altaralign == \hyperlink{align_8h_abe65d0cb8c8ae018c5bd63a280000eaa}{A\_NONE} ? -2 : 2);
1201             demonless\_msg = \textcolor{stringliteral}{"blood coagulates"};
1202         \}
1203         \textcolor{keywordflow}{if} ((pm = \hyperlink{minion_8c_a28e57747e10523178f3e84e6b3deb450}{dlord}(altaralign)) != \hyperlink{permonst_8h_a6485376b5cfc1627d2c68fcb98432cb0}{NON\_PM} &&
1204             (dmon = makemon(&\hyperlink{permonst_8h_ab96e7c4682ea5ae4f83339a15c06f676}{mons}[pm], \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}, \hyperlink{hack_8h_ae449582f467baa0da531a6ea116a18f2}{NO\_MM\_FLAGS}))) \{
1205             You(\textcolor{stringliteral}{"have summoned %s!"}, a\_monnam(dmon));
1206             \textcolor{keywordflow}{if} (sgn(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}) == sgn(dmon->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}->\hyperlink{structpermonst_ad92ab559c3dc08cc1a40f3413377d787}{maligntyp}))
1207             dmon->mpeaceful = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1208             You(\textcolor{stringliteral}{"are terrified, and unable to move."});
1209             nomul(-3);
1210         \} \textcolor{keywordflow}{else} pline\_The(\textcolor{stringliteral}{"%s."}, demonless\_msg);
1211         \}
1212 
1213         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC}) \{
1214         adjalign(-5);
1215         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} += 3;
1216         (void) adjattrib(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, -1, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1217         \textcolor{keywordflow}{if} (!\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell}) \hyperlink{pray_8c_aa4786bc219e4f070008e558bed51bb33}{angrygods}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});
1218         change\_luck(-5);
1219         \} \textcolor{keywordflow}{else} adjalign(5);
1220         \textcolor{keywordflow}{if} (\hyperlink{obj_8h_a4adde9a5428fde9b6faf64253a1507e8}{carried}(otmp)) useup(otmp);
1221         \textcolor{keywordflow}{else} useupf(otmp, 1L);
1222         \textcolor{keywordflow}{return}(1);
1223     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_aff8be0ef151aed04ef0d41f39c90b9ef}{oxlth} && otmp->oattached == \hyperlink{obj_8h_a64392331b2d143b80be3262b52bb62c4}{OATTACHED\_MONST}
1224             && ((mtmp = get\_mtraits(otmp, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE})) != (\textcolor{keyword}{struct} \hyperlink{structmonst}{monst} *)0)
1225             && mtmp->\hyperlink{structmonst_a6d525ec48f9d38cda6accbb0cb39efba}{mtame}) \{
1226         \textcolor{comment}{/* mtmp is a temporary pointer to a tame monster's attributes,}
1227 \textcolor{comment}{         * not a real monster */}
1228         pline(\textcolor{stringliteral}{"So this is how you repay loyalty?"});
1229         adjalign(-3);
1230         value = -1;
1231         \hyperlink{youprop_8h_a63ee9edc2e17502be3b99c080b45b89f}{HAggravate\_monster} |= \hyperlink{prop_8h_a60f99f5b0a818807c38aa14da2d7a6d1}{FROMOUTSIDE};
1232     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_a8e10c42bf31c42d748765a29105842fc}{is\_undead}(ptr)) \{ \textcolor{comment}{/* Not demons--no demon corpses */}
1233         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC})
1234         value += 1;
1235     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_aea6ec71970ce94bddd2270e198ff62f6}{is\_unicorn}(ptr)) \{
1236         \textcolor{keywordtype}{int} unicalign = sgn(ptr->\hyperlink{structpermonst_ad92ab559c3dc08cc1a40f3413377d787}{maligntyp});
1237 
1238         \textcolor{comment}{/* If same as altar, always a very bad action. */}
1239         \textcolor{keywordflow}{if} (unicalign == altaralign) \{
1240         pline(\textcolor{stringliteral}{"Such an action is an insult to %s!"},
1241               (unicalign == \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC})
1242               ? \textcolor{stringliteral}{"chaos"} : unicalign ? \textcolor{stringliteral}{"law"} : \textcolor{stringliteral}{"balance"});
1243         (void) adjattrib(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, -1, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1244         value = -5;
1245         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == altaralign) \{
1246         \textcolor{comment}{/* If different from altar, and altar is same as yours, */}
1247         \textcolor{comment}{/* it's a very good action */}
1248         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} < \hyperlink{align_8h_ad93f6b8ef98cc8a2e484a58ee6e426d3}{ALIGNLIM})
1249             You\_feel(\textcolor{stringliteral}{"appropriately %s."}, align\_str(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}));
1250         \textcolor{keywordflow}{else} You\_feel(\textcolor{stringliteral}{"you are thoroughly on the right path."});
1251         adjalign(5);
1252         value += 3;
1253         \} \textcolor{keywordflow}{else}
1254         \textcolor{comment}{/* If sacrificing unicorn of your alignment to altar not of */}
1255         \textcolor{comment}{/* your alignment, your god gets angry and it's a conversion */}
1256         \textcolor{keywordflow}{if} (unicalign == \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}) \{
1257             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} = -1;
1258             value = 1;
1259         \} \textcolor{keywordflow}{else} value += 3;
1260     \}
1261     \} \textcolor{comment}{/* corpse */}
1262 
1263     \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == AMULET\_OF\_YENDOR) \{
1264     \textcolor{keywordflow}{if} (!\hyperlink{dungeon_8h_af69a19c1eec378c1cebe9143febbe2b5}{Is\_astralevel}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz})) \{
1265         \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination})
1266             You\_feel(\textcolor{stringliteral}{"homesick."});
1267         \textcolor{keywordflow}{else}
1268             You\_feel(\textcolor{stringliteral}{"an urge to return to the surface."});
1269         \textcolor{keywordflow}{return} 1;
1270     \} \textcolor{keywordflow}{else} \{
1271         \textcolor{comment}{/* The final Test.  Did you win? */}
1272         \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a602a9d34078660dd260aed96b2abd4ca}{uamul} == otmp) Amulet\_off();
1273         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.ascended = 1;
1274         \textcolor{keywordflow}{if}(\hyperlink{obj_8h_a4adde9a5428fde9b6faf64253a1507e8}{carried}(otmp)) useup(otmp); \textcolor{comment}{/* well, it's gone now */}
1275         \textcolor{keywordflow}{else} useupf(otmp, 1L);
1276         You(\textcolor{stringliteral}{"offer the Amulet of Yendor to %s..."}, \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\_gname}());
1277         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != altaralign) \{
1278         \textcolor{comment}{/* And the opposing team picks you up and}
1279 \textcolor{comment}{           carries you off on their shoulders */}
1280         adjalign(-99);
1281         pline(\textcolor{stringliteral}{"%s accepts your gift, and gains dominion over %s..."},
1282               \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\_gname}(), \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1283         pline(\textcolor{stringliteral}{"%s is enraged..."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1284         pline(\textcolor{stringliteral}{"Fortunately, %s permits you to live..."}, \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\_gname}());
1285         pline(\textcolor{stringliteral}{"A cloud of %s smoke surrounds you..."},
1286               hcolor((\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)\textcolor{stringliteral}{"orange"}));
1287         \hyperlink{winX_8c_a032589f4f70300762622fd253db008d0}{done}(\hyperlink{hack_8h_ac2357bf7093fe80a7c8465c3392b6f12}{ESCAPED});
1288         \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* super big win */}
1289         adjalign(10);
1290 pline(\textcolor{stringliteral}{"An invisible choir sings, and you are bathed in radiance..."});
1291         \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(altaralign, \textcolor{stringliteral}{"Congratulations, mortal!"});
1292         \hyperlink{winprocs_8h_ac8e74d03fbb65b9f5651e63d79bebc60}{display\_nhwindow}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1293 verbalize(\textcolor{stringliteral}{"In return for thy service, I grant thee the gift of Immortality!"});
1294         You(\textcolor{stringliteral}{"ascend to the status of Demigod%s..."},
1295             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3f866c572c50c676ecadf8acccf0c50}{female} ? \textcolor{stringliteral}{"dess"} : \textcolor{stringliteral}{""});
1296         \hyperlink{winX_8c_a032589f4f70300762622fd253db008d0}{done}(\hyperlink{hack_8h_a2e7ab555dd9c2d74ce5c0b04e13fffcf}{ASCENDED});
1297         \}
1298     \}
1299     \} \textcolor{comment}{/* real Amulet */}
1300 
1301     \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == FAKE\_AMULET\_OF\_YENDOR) \{
1302         \textcolor{keywordflow}{if} (\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_ae3871fd2268fbc24b89cece8eb352dfc}{soundok})
1303         You\_hear(\textcolor{stringliteral}{"a nearby thunderclap."});
1304         \textcolor{keywordflow}{if} (!otmp->known) \{
1305         You(\textcolor{stringliteral}{"realize you have made a %s."},
1306             \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ? \textcolor{stringliteral}{"boo-boo"} : \textcolor{stringliteral}{"mistake"});
1307         otmp->known = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1308         change\_luck(-1);
1309         \textcolor{keywordflow}{return} 1;
1310         \} \textcolor{keywordflow}{else} \{
1311         \textcolor{comment}{/* don't you dare try to fool the gods */}
1312         change\_luck(-3);
1313         adjalign(-1);
1314         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} += 3;
1315         value = -3;
1316         \}
1317     \} \textcolor{comment}{/* fake Amulet */}
1318 
1319     \textcolor{keywordflow}{if} (value == 0) \{
1320     pline(\hyperlink{decl_8h_acd8c890f5e2054727eb32955ccc93850}{nothing\_happens});
1321     \textcolor{keywordflow}{return} (1);
1322     \}
1323 
1324     \textcolor{keywordflow}{if} (altaralign != \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} &&
1325     (\hyperlink{dungeon_8h_af69a19c1eec378c1cebe9143febbe2b5}{Is\_astralevel}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz}) || \hyperlink{dungeon_8h_a59e2a0655c98162235eb90f2108fc3ee}{Is\_sanctum}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz}))) \{
1326     \textcolor{comment}{/*}
1327 \textcolor{comment}{     * REAL BAD NEWS!!! High altars cannot be converted.  Even an attempt}
1328 \textcolor{comment}{     * gets the god who owns it truely pissed off.}
1329 \textcolor{comment}{     */}
1330     You\_feel(\textcolor{stringliteral}{"the air around you grow charged..."});
1331     pline(\textcolor{stringliteral}{"Suddenly, you realize that %s has noticed you..."}, \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\_gname}());
1332     \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(altaralign, \textcolor{stringliteral}{"So, mortal!  You dare desecrate my High Temple!"});
1333     \textcolor{comment}{/* Throw everything we have at the player */}
1334     \hyperlink{pray_8c_a700e2edee689fce4e59c382f4d657b31}{god\_zaps\_you}(altaralign);
1335     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (value < 0) \{ \textcolor{comment}{/* I don't think the gods are gonna like this... */}
1336     \hyperlink{pray_8c_a6cabf3685d23faa243c94ea29a606dd4}{gods\_upset}(altaralign);
1337     \} \textcolor{keywordflow}{else} \{
1338     \textcolor{keywordtype}{int} saved\_anger = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr};
1339     \textcolor{keywordtype}{int} saved\_cnt = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt};
1340     \textcolor{keywordtype}{int} saved\_luck = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck};
1341 
1342     \textcolor{comment}{/* Sacrificing at an altar of a different alignment */}
1343     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != altaralign) \{
1344         \textcolor{comment}{/* Is this a conversion ? */}
1345         \textcolor{comment}{/* An unaligned altar in Gehennom will always elicit rejection. */}
1346         \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a5a0dc3308cb8c9e6ad45efafb24d4a8b}{ugod\_is\_angry}() || (altaralign == \hyperlink{align_8h_abe65d0cb8c8ae018c5bd63a280000eaa}{A\_NONE} && 
      \hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell})) \{
1347         \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[\hyperlink{you_8h_ae93bec331f5af339006b90ff1ec0c013}{A\_CURRENT}] == \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[
      \hyperlink{you_8h_aadbc53a20604f260f6f2b0db9fe19b1d}{A\_ORIGINAL}] &&
1348            altaralign != \hyperlink{align_8h_abe65d0cb8c8ae018c5bd63a280000eaa}{A\_NONE}) \{
1349             You(\textcolor{stringliteral}{"have a strong feeling that %s is angry..."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1350             \hyperlink{pray_8c_a1e6495b1ddb567620415066e240b4cae}{consume\_offering}(otmp);
1351             pline(\textcolor{stringliteral}{"%s accepts your allegiance."}, \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\_gname}());
1352 
1353             \textcolor{comment}{/* The player wears a helm of opposite alignment? */}
1354             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a5990ad491dff32418089ab967be227a5}{uarmh} && \hyperlink{decl_8h_a5990ad491dff32418089ab967be227a5}{uarmh}->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == HELM\_OF\_OPPOSITE\_ALIGNMENT)
1355             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[\hyperlink{you_8h_ae93bec331f5af339006b90ff1ec0c013}{A\_CURRENT}] = altaralign;
1356             \textcolor{keywordflow}{else}
1357             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[\hyperlink{you_8h_ae93bec331f5af339006b90ff1ec0c013}{A\_CURRENT}] = altaralign;
1358             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac52be91176a57cbafbcf1703ef9623e2}{ublessed} = 0;
1359             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
1360 
1361             You(\textcolor{stringliteral}{"have a sudden sense of a new direction."});
1362             \textcolor{comment}{/* Beware, Conversion is costly */}
1363             change\_luck(-3);
1364             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} += 300;
1365             adjalign((\textcolor{keywordtype}{int})(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a842b4c48c384af3e9a8156009f8a82ac}{ualignbase}[\hyperlink{you_8h_aadbc53a20604f260f6f2b0db9fe19b1d}{A\_ORIGINAL}] * (
      \hyperlink{align_8h_ad93f6b8ef98cc8a2e484a58ee6e426d3}{ALIGNLIM} / 2)));
1366         \} \textcolor{keywordflow}{else} \{
1367             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} += 3;
1368             adjalign(-5);
1369             pline(\textcolor{stringliteral}{"%s rejects your sacrifice!"}, \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\_gname}());
1370             \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(altaralign, \textcolor{stringliteral}{"Suffer, infidel!"});
1371             change\_luck(-5);
1372             (void) adjattrib(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, -2, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1373             \textcolor{keywordflow}{if} (!\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell}) \hyperlink{pray_8c_aa4786bc219e4f070008e558bed51bb33}{angrygods}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});
1374         \}
1375         \textcolor{keywordflow}{return}(1);
1376         \} \textcolor{keywordflow}{else} \{
1377         \hyperlink{pray_8c_a1e6495b1ddb567620415066e240b4cae}{consume\_offering}(otmp);
1378         You(\textcolor{stringliteral}{"sense a conflict between %s and %s."},
1379             \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}(), \hyperlink{pray_8c_ac1a9d6549dceb2b050630809056c744f}{a\_gname}());
1380         \textcolor{keywordflow}{if} (rn2(8 + \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel}) > 5) \{
1381             \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *pri;
1382             You\_feel(\textcolor{stringliteral}{"the power of %s increase."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1383             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1384             change\_luck(1);
1385             \textcolor{comment}{/* Yes, this is supposed to be &=, not |= */}
1386             \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].altarmask &= \hyperlink{rm_8h_a9c8de6ca56b5ef907390c5fa518df9ed}{AM\_SHRINE};
1387             \textcolor{comment}{/* the following accommodates stupid compilers */}
1388             \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].altarmask =
1389             \hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}].altarmask | (\hyperlink{align_8h_af4a9a83eaed30042a87e25ef373b1676}{Align2amask}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.
      \hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}));
1390             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
1391             pline\_The(\textcolor{stringliteral}{"altar glows %s."},
1392                   hcolor(
1393                   \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL} ? \hyperlink{decl_8h_a296a3b9ccb2c2167444b8a975236d06b}{NH\_WHITE} :
1394                   \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} ? \hyperlink{decl_8h_a55df3d1bd35f9756e4d497a2762a6c70}{NH\_BLACK} : (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)\textcolor{stringliteral}{"gray"}));
1395 
1396             \textcolor{keywordflow}{if} (rnl(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel}) > 6 && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} > 0 &&
1397                rnd(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record}) > (3*\hyperlink{align_8h_ad93f6b8ef98cc8a2e484a58ee6e426d3}{ALIGNLIM})/4)
1398             \hyperlink{minion_8c_a241dff05fee4de3cbbace9bc1a9110b7}{summon\_minion}(altaralign, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1399             \textcolor{comment}{/* anger priest; test handles bones files */}
1400             \textcolor{keywordflow}{if}((pri = findpriest(temple\_occupied(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3a44bd4651bae48019fe01f96afc457a}{urooms}))) &&
1401                !p\_coaligned(pri))
1402             angry\_priest();
1403         \} \textcolor{keywordflow}{else} \{
1404             pline(\textcolor{stringliteral}{"Unluckily, you feel the power of %s decrease."},
1405               \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1406             change\_luck(-1);
1407             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1408             \textcolor{keywordflow}{if} (rnl(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel}) > 6 && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} > 0 &&
1409                rnd(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record}) > (7*\hyperlink{align_8h_ad93f6b8ef98cc8a2e484a58ee6e426d3}{ALIGNLIM})/8)
1410             \hyperlink{minion_8c_a241dff05fee4de3cbbace9bc1a9110b7}{summon\_minion}(altaralign, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1411         \}
1412         \textcolor{keywordflow}{return}(1);
1413         \}
1414     \}
1415 
1416     \hyperlink{pray_8c_a1e6495b1ddb567620415066e240b4cae}{consume\_offering}(otmp);
1417     \textcolor{comment}{/* OK, you get brownie points. */}
1418     \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr}) \{
1419         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} -=
1420         ((value * (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC} ? 2 : 3)) / 
      \hyperlink{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}{MAXVALUE});
1421         \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} < 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} = 0;
1422         \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} != saved\_anger) \{
1423         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr}) \{
1424             pline(\textcolor{stringliteral}{"%s seems %s."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}(),
1425               \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ? \textcolor{stringliteral}{"groovy"} : \textcolor{stringliteral}{"slightly mollified"});
1426 
1427             \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 0) change\_luck(1);
1428         \} \textcolor{keywordflow}{else} \{
1429             pline(\textcolor{stringliteral}{"%s seems %s."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}(), \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ?
1430               \textcolor{stringliteral}{"cosmic (not a new fact)"} : \textcolor{stringliteral}{"mollified"});
1431 
1432             \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} = 0;
1433         \}
1434         \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* not satisfied yet */}
1435         \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination})
1436             pline\_The(\textcolor{stringliteral}{"gods seem tall."});
1437         \textcolor{keywordflow}{else} You(\textcolor{stringliteral}{"have a feeling of inadequacy."});
1438         \}
1439     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a5a0dc3308cb8c9e6ad45efafb24d4a8b}{ugod\_is\_angry}()) \{
1440         \textcolor{keywordflow}{if}(value > \hyperlink{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}{MAXVALUE}) value = \hyperlink{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}{MAXVALUE};
1441         \textcolor{keywordflow}{if}(value > -\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record}) value = -\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.
      \hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record};
1442         adjalign(value);
1443         You\_feel(\textcolor{stringliteral}{"partially absolved."});
1444     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} > 0) \{
1445         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} -=
1446         ((value * (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC} ? 500 : 300)) / 
      \hyperlink{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}{MAXVALUE});
1447         \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} < 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} = 0;
1448         \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} != saved\_cnt) \{
1449         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt}) \{
1450             \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination})
1451             You(\textcolor{stringliteral}{"realize that the gods are not like you and I."});
1452             \textcolor{keywordflow}{else}
1453             You(\textcolor{stringliteral}{"have a hopeful feeling."});
1454             \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 0) change\_luck(1);
1455         \} \textcolor{keywordflow}{else} \{
1456             \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination})
1457             pline(\textcolor{stringliteral}{"Overall, there is a smell of fried onions."});
1458             \textcolor{keywordflow}{else}
1459             You(\textcolor{stringliteral}{"have a feeling of reconciliation."});
1460             \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} = 0;
1461         \}
1462         \}
1463     \} \textcolor{keywordflow}{else} \{
1464         \textcolor{keywordtype}{int} nartifacts = nartifact\_exist();
1465 
1466         \textcolor{comment}{/* you were already in pretty good standing */}
1467         \textcolor{comment}{/* The player can gain an artifact */}
1468         \textcolor{comment}{/* The chance goes down as the number of artifacts goes up */}
1469         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} > 2 && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} >= 0 &&
1470         !rn2(10 + (2 * \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a36cd4ba10c14318080dfb1bc1cdcdcf7}{ugifts} * nartifacts))) \{
1471         otmp = mk\_artifact((\textcolor{keyword}{struct} \hyperlink{structobj}{obj} *)0, \hyperlink{pray_8c_a16815464d4b3ad6f4f64b2bec5c30a48}{a\_align}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux},\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}));
1472         \textcolor{keywordflow}{if} (otmp) \{
1473             \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a14fc8dc59e9073bfbf1e170875a98448}{spe} < 0) otmp->\hyperlink{structobj_a14fc8dc59e9073bfbf1e170875a98448}{spe} = 0;
1474             \textcolor{keywordflow}{if} (otmp->cursed) uncurse(otmp);
1475             otmp->oerodeproof = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1476             dropy(otmp);
1477             \hyperlink{pray_8c_a3c5bd4338b52b9ce45fa159cebdd2881}{at\_your\_feet}(\textcolor{stringliteral}{"An object"});
1478             \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}, \textcolor{stringliteral}{"Use my gift wisely!"});
1479             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a36cd4ba10c14318080dfb1bc1cdcdcf7}{ugifts}++;
1480             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} = rnz(300 + (50 * nartifacts));
1481             exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1482             \textcolor{comment}{/* make sure we can use this weapon */}
1483             unrestrict\_weapon\_skill(weapon\_type(otmp));
1484             discover\_artifact(otmp->\hyperlink{structobj_af03ce8a6a0ca51e8d8954fb1a1a31fbe}{oartifact});
1485             \textcolor{keywordflow}{return}(1);
1486         \}
1487         \}
1488         change\_luck((value * \hyperlink{you_8h_a91aff8e04a88959aceb340a1b5657205}{LUCKMAX}) / (\hyperlink{pray_8c_a28c7f4454d27d9a294ebe7eb12a54e8c}{MAXVALUE} * 2));
1489         \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{int})\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} = 0;
1490         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} != saved\_luck) \{
1491         \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
1492             You(\textcolor{stringliteral}{"think %s brushed your %s."},\hyperlink{decl_8h_aa5c50bde0d16d15a08d32d8df49a80ae}{something}, body\_part(\hyperlink{hack_8h_a9b1eabef4c7711550544eaeaa8f41fa1}{FOOT}));
1493         \textcolor{keywordflow}{else} You(\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ?
1494             \textcolor{stringliteral}{"see crabgrass at your %s.  A funny thing in a dungeon."} :
1495             \textcolor{stringliteral}{"glimpse a four-leaf clover at your %s."},
1496             makeplural(body\_part(\hyperlink{hack_8h_a9b1eabef4c7711550544eaeaa8f41fa1}{FOOT})));
1497         \}
1498     \}
1499     \}
1500     \textcolor{keywordflow}{return}(1);
1501 \}
\end{DoxyCode}
\hypertarget{pray_8c_a3ca702b33bf7aac7c5768a6f409fe9ca}{\index{pray.\+c@{pray.\+c}!doturn@{doturn}}
\index{doturn@{doturn}!pray.\+c@{pray.\+c}}
\subsubsection[{doturn}]{\setlength{\rightskip}{0pt plus 5cm}int doturn (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a3ca702b33bf7aac7c5768a6f409fe9ca}


Definition at line 1650 of file pray.\+c.



References A\+\_\+\+C\+H\+A\+O\+T\+I\+C, A\+\_\+\+W\+I\+S, B\+O\+L\+T\+\_\+\+L\+I\+M, cansee, Confusion, monst\+::data, D\+E\+A\+D\+M\+O\+N\+S\+T\+E\+R, distu, F\+A\+L\+S\+E, fmon, u\+\_\+conduct\+::gnostic, Inhell, is\+\_\+demon, is\+\_\+undead, M\+A\+X\+U\+L\+E\+V, permonst\+::mlet, monst\+::mx, monst\+::my, monst\+::nmon, N\+O\+\_\+\+S\+P\+E\+L\+L, N\+O\+T\+E\+L\+L, objects, Role\+\_\+if, S\+\_\+\+G\+H\+O\+S\+T, S\+\_\+\+L\+I\+C\+H, S\+\_\+\+M\+U\+M\+M\+Y, S\+\_\+\+V\+A\+M\+P\+I\+R\+E, S\+\_\+\+W\+R\+A\+I\+T\+H, S\+\_\+\+Z\+O\+M\+B\+I\+E, spell\+::sp\+\_\+id, spelleffects(), spl\+\_\+book, T\+E\+L\+L, T\+R\+U\+E, align\+::type, u, u\+\_\+gname(), you\+::ualign, you\+::uconduct, you\+::ugangr, you\+::ulevel, and youmonst.


\begin{DoxyCode}
1651 \{   \textcolor{comment}{/* Knights & Priest(esse)s only please */}
1652 
1653     \textcolor{keyword}{struct }\hyperlink{structmonst}{monst} *mtmp, *mtmp2;
1654     \textcolor{keywordtype}{int} once, range, xlev;
1655 
1656     \textcolor{keywordflow}{if} (!\hyperlink{you_8h_a6087f5b8605964c19078b777da740258}{Role\_if}(PM\_PRIEST) && !\hyperlink{you_8h_a6087f5b8605964c19078b777da740258}{Role\_if}(PM\_KNIGHT)) \{
1657         \textcolor{comment}{/* Try to use turn undead spell. */}
1658         \textcolor{keywordflow}{if} (\hyperlink{objclass_8h_a6fc960ca847bc1bef7559abb7bf29209}{objects}[SPE\_TURN\_UNDEAD].oc\_name\_known) \{
1659             \textcolor{keyword}{register} \textcolor{keywordtype}{int} sp\_no;
1660             \textcolor{keywordflow}{for} (sp\_no = 0; sp\_no < MAXSPELL &&
1661              \hyperlink{decl_8h_af9325d9ee4f093df7271a36cf49d1615}{spl\_book}[sp\_no].\hyperlink{structspell_a167ef1854e6555c46ab78ef6a1b67eb1}{sp\_id} != \hyperlink{hack_8h_a4f5d0dbc51a46806c332c2874e61de5a}{NO\_SPELL} &&
1662              \hyperlink{decl_8h_af9325d9ee4f093df7271a36cf49d1615}{spl\_book}[sp\_no].\hyperlink{structspell_a167ef1854e6555c46ab78ef6a1b67eb1}{sp\_id} != SPE\_TURN\_UNDEAD; sp\_no++);
1663 
1664             \textcolor{keywordflow}{if} (sp\_no < MAXSPELL &&
1665             \hyperlink{decl_8h_af9325d9ee4f093df7271a36cf49d1615}{spl\_book}[sp\_no].sp\_id == SPE\_TURN\_UNDEAD)
1666                 \textcolor{keywordflow}{return} \hyperlink{spell_8c_a6cb4b0282f49a4d3cb5ef195ac5ec0ad}{spelleffects}(sp\_no, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1667         \}
1668 
1669         You(\textcolor{stringliteral}{"don't know how to turn undead!"});
1670         \textcolor{keywordflow}{return}(0);
1671     \}
1672     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac34f4744daa7ff78a6ff556ade5b9601}{uconduct}.\hyperlink{structu__conduct_adb446fda8db21ba87c4dccfc6e7c75e6}{gnostic}++;
1673 
1674     \textcolor{keywordflow}{if} ((\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC} &&
1675             (\hyperlink{mondata_8h_a9f5d39edf86a6137fd76d419c7914af4}{is\_demon}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) || \hyperlink{mondata_8h_a8e10c42bf31c42d748765a29105842fc}{is\_undead}(
      \hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}))) ||
1676                 \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr} > 6 \textcolor{comment}{/* "Die, mortal!" */}) \{
1677 
1678         pline(\textcolor{stringliteral}{"For some reason, %s seems to ignore you."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1679         aggravate();
1680         exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1681         \textcolor{keywordflow}{return}(0);
1682     \}
1683 
1684     \textcolor{keywordflow}{if} (\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell}) \{
1685         pline(\textcolor{stringliteral}{"Since you are in Gehennom, %s won't help you."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1686         aggravate();
1687         \textcolor{keywordflow}{return}(0);
1688     \}
1689     pline(\textcolor{stringliteral}{"Calling upon %s, you chant an arcane formula."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
1690     exercise(\hyperlink{attrib_8h_a4206d6431732a698ede8a237d5c17142}{A\_WIS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1691 
1692     \textcolor{comment}{/* note: does not perform unturn\_dead() on victims' inventories */}
1693     range = \hyperlink{hack_8h_a26ee0a18384e9ca14b97a4f877791284}{BOLT\_LIM} + (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} / 5);   \textcolor{comment}{/* 5 to 11 */}
1694     range *= range;
1695     once = 0;
1696     \textcolor{keywordflow}{for}(mtmp = \hyperlink{rm_8h_a9b7eba07f916406d6d62f5f82d273e40}{fmon}; mtmp; mtmp = mtmp2) \{
1697         mtmp2 = mtmp->\hyperlink{structmonst_a4c4bcdcf3c4ec4a85313ade9f9c27b72}{nmon};
1698 
1699         \textcolor{keywordflow}{if} (\hyperlink{monst_8h_a87ebcb12436dc12747fed36e83561249}{DEADMONSTER}(mtmp)) \textcolor{keywordflow}{continue};
1700         \textcolor{keywordflow}{if} (!\hyperlink{vision_8h_a857efc720262bc13a9e4b4bcbb079b5c}{cansee}(mtmp->\hyperlink{structmonst_a9bc20171e986845daccff8aafd8b5194}{mx},mtmp->\hyperlink{structmonst_a0b969d9b6af5b55393f6acfe508c6f08}{my}) ||
1701         \hyperlink{hack_8h_a1f84afcae19c5b60124bc509ed647f84}{distu}(mtmp->\hyperlink{structmonst_a9bc20171e986845daccff8aafd8b5194}{mx},mtmp->\hyperlink{structmonst_a0b969d9b6af5b55393f6acfe508c6f08}{my}) > range) \textcolor{keywordflow}{continue};
1702 
1703         \textcolor{keywordflow}{if} (!mtmp->mpeaceful && (\hyperlink{mondata_8h_a8e10c42bf31c42d748765a29105842fc}{is\_undead}(mtmp->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) ||
1704            (\hyperlink{mondata_8h_a9f5d39edf86a6137fd76d419c7914af4}{is\_demon}(mtmp->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) && (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} > (\hyperlink{global_8h_aaa4bacb3e5383df368bf5c824bdd0087}{MAXULEV}/2))))) \{
1705 
1706             mtmp->msleeping = 0;
1707             \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a85174462efda5cc2dc2a49a0249801bb}{Confusion}) \{
1708             \textcolor{keywordflow}{if} (!once++)
1709                 pline(\textcolor{stringliteral}{"Unfortunately, your voice falters."});
1710             mtmp->mflee = 0;
1711             mtmp->mfrozen = 0;
1712             mtmp->mcanmove = 1;
1713             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!resist(mtmp, \textcolor{charliteral}{'\(\backslash\)0'}, 0, \hyperlink{hack_8h_a23ed40f09222fe825a4666c3f8a68143}{TELL})) \{
1714             xlev = 6;
1715             \textcolor{keywordflow}{switch} (mtmp->\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}->\hyperlink{structpermonst_ab402dbf1bed9d0e595a2b3da6558da92}{mlet}) \{
1716                 \textcolor{comment}{/* this is intentional, lichs are tougher}
1717 \textcolor{comment}{                   than zombies. */}
1718             \textcolor{keywordflow}{case} \hyperlink{monsym_8h_ae5085838a60dca2e0c3fc8242fa659a7}{S\_LICH}:    xlev += 2;  \textcolor{comment}{/*FALLTHRU*/}
1719             \textcolor{keywordflow}{case} \hyperlink{monsym_8h_a6a49698b20c68f36bcef22d45c3ef986}{S\_GHOST}:   xlev += 2;  \textcolor{comment}{/*FALLTHRU*/}
1720             \textcolor{keywordflow}{case} \hyperlink{monsym_8h_ad14ae95a12a1b48239437073d6f614e3}{S\_VAMPIRE}: xlev += 2;  \textcolor{comment}{/*FALLTHRU*/}
1721             \textcolor{keywordflow}{case} \hyperlink{monsym_8h_a923120ddc98c245500abf2711e27a4a7}{S\_WRAITH}:  xlev += 2;  \textcolor{comment}{/*FALLTHRU*/}
1722             \textcolor{keywordflow}{case} \hyperlink{monsym_8h_af0c3ce0cab08d748710bf38390422cdd}{S\_MUMMY}:   xlev += 2;  \textcolor{comment}{/*FALLTHRU*/}
1723             \textcolor{keywordflow}{case} \hyperlink{monsym_8h_ab0712e0f0d926039e2a9df8cdf27aab9}{S\_ZOMBIE}:
1724                 \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} >= xlev &&
1725                     !resist(mtmp, \textcolor{charliteral}{'\(\backslash\)0'}, 0, \hyperlink{hack_8h_a7450be636c853f464d4b5c77a6b19844}{NOTELL})) \{
1726                 \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} == \hyperlink{align_8h_a1d8f0bc268ba9729ef2e1cb0d3ea763b}{A\_CHAOTIC}) \{
1727                     mtmp->mpeaceful = 1;
1728                     set\_malign(mtmp);
1729                 \} \textcolor{keywordflow}{else} \{ \textcolor{comment}{/* damn them */}
1730                     killed(mtmp);
1731                 \}
1732                 \textcolor{keywordflow}{break};
1733                 \} \textcolor{comment}{/* else flee */}
1734                 \textcolor{comment}{/*FALLTHRU*/}
1735             \textcolor{keywordflow}{default}:
1736                 monflee(mtmp, 0, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1737                 \textcolor{keywordflow}{break};
1738             \}
1739             \}
1740         \}
1741     \}
1742     nomul(-5);
1743     \textcolor{keywordflow}{return}(1);
1744 \}
\end{DoxyCode}
\hypertarget{pray_8c_a152c51673cfbe255e0b51c20fb4e1339}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf fix\+\_\+worst\+\_\+trouble}}]{, }
\item[{(int)}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a152c51673cfbe255e0b51c20fb4e1339}
\hypertarget{pray_8c_a37a1dd1795ee8e96e6583dc4c3c21567}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf angrygods}}]{, }
\item[{({\bf A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a37a1dd1795ee8e96e6583dc4c3c21567}
\hypertarget{pray_8c_a9ced55f18ca9b287ea04e52ed2bac079}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf at\+\_\+your\+\_\+feet}}]{, }
\item[{({\bf const} char $\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a9ced55f18ca9b287ea04e52ed2bac079}
\hypertarget{pray_8c_ac51e78fdf061eeedc8f0afd45136c552}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf pleased}}]{, }
\item[{({\bf A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_ac51e78fdf061eeedc8f0afd45136c552}
\hypertarget{pray_8c_a7adcb9530a69ef263527e5b357be8ae4}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf godvoice}}]{, }
\item[{({\bf A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P}, {\bf const} char $\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a7adcb9530a69ef263527e5b357be8ae4}
\hypertarget{pray_8c_a6905f7da28d0b52a2fdd2eaa1c9f1e65}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf god\+\_\+zaps\+\_\+you}}]{, }
\item[{({\bf A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a6905f7da28d0b52a2fdd2eaa1c9f1e65}
\hypertarget{pray_8c_af409c566452687f86f68652de23f0158}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf fry\+\_\+by\+\_\+god}}]{, }
\item[{({\bf A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_af409c566452687f86f68652de23f0158}
\hypertarget{pray_8c_a3932c33432dfaf77e25fc7b8f93c7ef1}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf gods\+\_\+angry}}]{, }
\item[{({\bf A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a3932c33432dfaf77e25fc7b8f93c7ef1}
\hypertarget{pray_8c_a2795a76923600d229d9ee316162f01d1}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf gods\+\_\+upset}}]{, }
\item[{({\bf A\+L\+I\+G\+N\+T\+Y\+P\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a2795a76923600d229d9ee316162f01d1}
\hypertarget{pray_8c_abfec6a541a05845e6e57ec48b3789f1d}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} void F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf consume\+\_\+offering}}]{, }
\item[{(struct {\bf obj} $\ast$)}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_abfec6a541a05845e6e57ec48b3789f1d}
\hypertarget{pray_8c_a1adc9c81f11024cd0f5376805c97075c}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} {\bf boolean} F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf water\+\_\+prayer}}]{, }
\item[{({\bf B\+O\+O\+L\+E\+A\+N\+\_\+\+P})}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a1adc9c81f11024cd0f5376805c97075c}
\hypertarget{pray_8c_a90195f8746ae3fb783009c5f9b3ef0c2}{\index{pray.\+c@{pray.\+c}!F\+D\+E\+C\+L@{F\+D\+E\+C\+L}}
\index{F\+D\+E\+C\+L@{F\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{F\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} {\bf boolean} F\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf blocked\+\_\+boulder}}]{, }
\item[{(int, int)}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a90195f8746ae3fb783009c5f9b3ef0c2}
\hypertarget{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}{\index{pray.\+c@{pray.\+c}!fix\+\_\+worst\+\_\+trouble@{fix\+\_\+worst\+\_\+trouble}}
\index{fix\+\_\+worst\+\_\+trouble@{fix\+\_\+worst\+\_\+trouble}!pray.\+c@{pray.\+c}}
\subsubsection[{fix\+\_\+worst\+\_\+trouble}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void fix\+\_\+worst\+\_\+trouble (
\begin{DoxyParamCaption}
\item[{int}]{trouble}
\end{DoxyParamCaption}
)}}\label{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}


Definition at line 264 of file pray.\+c.



References A\+\_\+\+M\+A\+X, A\+\_\+\+S\+T\+R, A\+B\+A\+S\+E, A\+M\+A\+X, Blind, flag\+::botl, Cursed\+\_\+obj, monst\+::data, delayed\+\_\+killer, encumber\+\_\+msg(), E\+Y\+E, eyecount, F\+A\+L\+S\+E, flags, Hallucination, you\+::mh, you\+::mhmax, N\+E\+A\+R\+D\+A\+T\+A, N\+H\+\_\+\+A\+M\+B\+E\+R, nohands, otmp, obj\+::otyp, safe\+\_\+teleds(), S\+I\+C\+K\+\_\+\+A\+L\+L, Slimed, S\+T\+O\+M\+A\+C\+H, Stoned, Strangled, T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N, T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G, T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N, T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T, T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y, T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A, T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E, T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S, T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S, T\+R\+U\+E, u, uamul, uarmf, uarmg, ublindf, you\+::ucreamed, you\+::uhp, you\+::uhpmax, uleft, you\+::ulevel, Unchanging, update\+\_\+inventory, Upolyd, uright, you\+::utrap, uwep, welded(), what, which\+\_\+armor(), worst\+\_\+cursed\+\_\+item(), and youmonst.



Referenced by pleased().


\begin{DoxyCode}
266 \{
267     \textcolor{keywordtype}{int} i;
268     \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp} = 0;
269     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{detect_8c_a951a98f1e2d69ca61adcd53c0f8faca3}{what} = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)0;
270     \textcolor{keyword}{static} \hyperlink{config1_8h_a9987bf629301f5fe76ddd96aa2717ca1}{NEARDATA} \textcolor{keyword}{const} \textcolor{keywordtype}{char} leftglow[] = \textcolor{stringliteral}{"left ring softly glows"},
271                    rightglow[] = \textcolor{stringliteral}{"right ring softly glows"};
272 
273     \textcolor{keywordflow}{switch} (trouble) \{
274         \textcolor{keywordflow}{case} \hyperlink{pray_8c_abe72c2a944c131a98568e372b21cdde0}{TROUBLE\_STONED}:
275             You\_feel(\textcolor{stringliteral}{"more limber."});
276             \hyperlink{youprop_8h_afa678675d2c2f1e3b6ca808bab477126}{Stoned} = 0;
277             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
278             \hyperlink{decl_8h_a1d9401b9ae41f36846843249a380776c}{delayed\_killer} = 0;
279             \textcolor{keywordflow}{break};
280         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a7c00d5cda83746f252466940df254cf5}{TROUBLE\_SLIMED}:
281             pline\_The(\textcolor{stringliteral}{"slime disappears."});
282             \hyperlink{youprop_8h_a1d6ced121072dc4fb35b71e5fdebe596}{Slimed} = 0;
283             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
284             \hyperlink{decl_8h_a1d9401b9ae41f36846843249a380776c}{delayed\_killer} = 0;
285             \textcolor{keywordflow}{break};
286         \textcolor{keywordflow}{case} \hyperlink{pray_8c_ae5a6843a406f7ef67150251c0f481648}{TROUBLE\_STRANGLED}:
287             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a602a9d34078660dd260aed96b2abd4ca}{uamul} && \hyperlink{decl_8h_a602a9d34078660dd260aed96b2abd4ca}{uamul}->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == AMULET\_OF\_STRANGULATION) \{
288             Your(\textcolor{stringliteral}{"amulet vanishes!"});
289             useup(\hyperlink{decl_8h_a602a9d34078660dd260aed96b2abd4ca}{uamul});
290             \}
291             You(\textcolor{stringliteral}{"can breathe again."});
292             \hyperlink{youprop_8h_a0eb96f3fa75bd1304697433846ec251e}{Strangled} = 0;
293             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
294             \textcolor{keywordflow}{break};
295         \textcolor{keywordflow}{case} \hyperlink{pray_8c_aa9aae24bd38313b0661a974501255484}{TROUBLE\_LAVA}:
296             You(\textcolor{stringliteral}{"are back on solid ground."});
297             \textcolor{comment}{/* teleport should always succeed, but if not,}
298 \textcolor{comment}{             * just untrap them.}
299 \textcolor{comment}{             */}
300             \textcolor{keywordflow}{if}(!\hyperlink{teleport_8c_a3d5813b8abc278b8a2f327300701e36a}{safe\_teleds}(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}))
301             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a7250d3b13a54b76d846b754a2a6f3fa6}{utrap} = 0;
302             \textcolor{keywordflow}{break};
303         \textcolor{keywordflow}{case} \hyperlink{pray_8c_af7a7dec137df4eeb20ff575e7c301d8a}{TROUBLE\_STARVING}:
304             losestr(-1);
305             \textcolor{comment}{/* fall into... */}
306         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a0cf0a6c09665e2feafa5cc21ae363396}{TROUBLE\_HUNGRY}:
307             Your(\textcolor{stringliteral}{"%s feels content."}, body\_part(\hyperlink{hack_8h_afe6da63d3b68440a889df103056403c5}{STOMACH}));
308             init\_uhunger();
309             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
310             \textcolor{keywordflow}{break};
311         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a6878986afb98c5efca97db6d615b2d73}{TROUBLE\_SICK}:
312             You\_feel(\textcolor{stringliteral}{"better."});
313             make\_sick(0L, (\textcolor{keywordtype}{char} *) 0, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, \hyperlink{you_8h_a3e752cf2376b172f41c3c82df74c590c}{SICK\_ALL});
314             \textcolor{keywordflow}{break};
315         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a5364ece57a436a9b28cb0fb659d94d54}{TROUBLE\_HIT}:
316             \textcolor{comment}{/* "fix all troubles" will keep trying if hero has}
317 \textcolor{comment}{               5 or less hit points, so make sure they're always}
318 \textcolor{comment}{               boosted to be more than that */}
319             You\_feel(\textcolor{stringliteral}{"much better."});
320             \textcolor{keywordflow}{if} (\hyperlink{you_8h_ab869582031082f2c352b374dc0e0c3b3}{Upolyd}) \{
321             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ad0eb213f6299ffa1529fc7864003a044}{mhmax} += rnd(5);
322             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ad0eb213f6299ffa1529fc7864003a044}{mhmax} <= 5) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ad0eb213f6299ffa1529fc7864003a044}{mhmax} = 5+1;
323             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a2106fda1b357aa3395703a3abff426f8}{mh} = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ad0eb213f6299ffa1529fc7864003a044}{mhmax};
324             \}
325             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax} < \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} * 5 + 11) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax} += rnd(5);
326             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax} <= 5) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax} = 5+1;
327             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a94468a400f14da123d5160f8eefd7641}{uhp} = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax};
328             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
329             \textcolor{keywordflow}{break};
330         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a979f9a50b0ac7177855fbdef1a4c970c}{TROUBLE\_COLLAPSING}:
331             \hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(\hyperlink{attrib_8h_ad53430e3d611a366ec4b5c457b4c67f7}{A\_STR}) = \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(\hyperlink{attrib_8h_ad53430e3d611a366ec4b5c457b4c67f7}{A\_STR});
332             \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
333             \textcolor{keywordflow}{break};
334         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a75c4f126c3b7e393a3694f5782566133}{TROUBLE\_STUCK\_IN\_WALL}:
335             Your(\textcolor{stringliteral}{"surroundings change."});
336             \textcolor{comment}{/* no control, but works on no-teleport levels */}
337             (void) \hyperlink{teleport_8c_a3d5813b8abc278b8a2f327300701e36a}{safe\_teleds}(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
338             \textcolor{keywordflow}{break};
339         \textcolor{keywordflow}{case} \hyperlink{pray_8c_adb471df240344fa9b29233dbdfd1b3d4}{TROUBLE\_CURSED\_LEVITATION}:
340             \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(\hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf}, LEVITATION\_BOOTS)) \{
341             otmp = \hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf};
342             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((otmp = stuck\_ring(\hyperlink{decl_8h_abc75269125700f0668785d8f073a3646}{uleft},RIN\_LEVITATION)) !=0) \{
343             \textcolor{keywordflow}{if} (otmp == \hyperlink{decl_8h_abc75269125700f0668785d8f073a3646}{uleft}) what = leftglow;
344             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((otmp = stuck\_ring(\hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright},RIN\_LEVITATION))!=0) \{
345             \textcolor{keywordflow}{if} (otmp == \hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright}) what = rightglow;
346             \}
347             \textcolor{keywordflow}{goto} decurse;
348         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a398648d07d2e7c344bd75605f705ba43}{TROUBLE\_UNUSEABLE\_HANDS}:
349             \textcolor{keywordflow}{if} (\hyperlink{wield_8c_ade2321e11c702d69c6fd7b261ae62040}{welded}(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep})) \{
350             otmp = \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep};
351             \textcolor{keywordflow}{goto} decurse;
352             \}
353             \textcolor{keywordflow}{if} (\hyperlink{you_8h_ab869582031082f2c352b374dc0e0c3b3}{Upolyd} && \hyperlink{mondata_8h_ae13d4a4d0a9842348cffbb5dae990771}{nohands}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data})) \{
354             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a10db02e9dc6f21655b4bbc61abdd0a12}{Unchanging}) \{
355                 Your(\textcolor{stringliteral}{"shape becomes uncertain."});
356                 rehumanize();  \textcolor{comment}{/* "You return to \{normal\} form." */}
357             \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((otmp = unchanger()) != 0 && otmp->cursed) \{
358                 \textcolor{comment}{/* otmp is an amulet of unchanging */}
359                 \textcolor{keywordflow}{goto} decurse;
360             \}
361             \}
362             \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_ae13d4a4d0a9842348cffbb5dae990771}{nohands}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) || !freehand())
363             impossible(\textcolor{stringliteral}{"fix\_worst\_trouble: couldn't cure hands."});
364             \textcolor{keywordflow}{break};
365         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a1f2fc0d973d368e4a92afbb1bc7a2731}{TROUBLE\_CURSED\_BLINDFOLD}:
366             otmp = \hyperlink{decl_8h_aaac1dc498d3597b63617d7056c3e1c1b}{ublindf};
367             \textcolor{keywordflow}{goto} decurse;
368         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a6eadc63855312f21b5f6cc7259b530b0}{TROUBLE\_LYCANTHROPE}:
369             you\_unwere(\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
370             \textcolor{keywordflow}{break};
371     \textcolor{comment}{/*}
372 \textcolor{comment}{     */}
373         \textcolor{keywordflow}{case} \hyperlink{pray_8c_af0ff264889abcede3489461c49015827}{TROUBLE\_PUNISHED}:
374             Your(\textcolor{stringliteral}{"chain disappears."});
375             unpunish();
376             \textcolor{keywordflow}{break};
377         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a66451c68de0cf0bd9d84b1150c05a2f0}{TROUBLE\_FUMBLING}:
378             \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(\hyperlink{decl_8h_a374ab5e4582cfafa2d4ef57211f53293}{uarmg}, GAUNTLETS\_OF\_FUMBLING))
379             otmp = \hyperlink{decl_8h_a374ab5e4582cfafa2d4ef57211f53293}{uarmg};
380             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(\hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf}, FUMBLE\_BOOTS))
381             otmp = \hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf};
382             \textcolor{keywordflow}{goto} decurse;
383             \textcolor{comment}{/*NOTREACHED*/}
384             \textcolor{keywordflow}{break};
385         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a1504f6dcdcf93be698a85d222cbfbace}{TROUBLE\_CURSED\_ITEMS}:
386             otmp = \hyperlink{pray_8c_a21015c4f3b8fe89777f97aee852a6dbc}{worst\_cursed\_item}();
387             \textcolor{keywordflow}{if} (otmp == \hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright}) what = rightglow;
388             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (otmp == \hyperlink{decl_8h_abc75269125700f0668785d8f073a3646}{uleft}) what = leftglow;
389 decurse:
390             \textcolor{keywordflow}{if} (!otmp) \{
391             impossible(\textcolor{stringliteral}{"fix\_worst\_trouble: nothing to uncurse."});
392             \textcolor{keywordflow}{return};
393             \}
394             uncurse(otmp);
395             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind}) \{
396             Your(\textcolor{stringliteral}{"%s %s."}, what ? what :
397                 (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)aobjnam(otmp, \textcolor{stringliteral}{"softly glow"}),
398                  hcolor(\hyperlink{decl_8h_a36ae609b5390d5188e707e3236d79b7d}{NH\_AMBER}));
399             otmp->bknown = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
400             \}
401             \hyperlink{winprocs_8h_a12feb374290012aafc2340c5ba15f7e8}{update\_inventory}();
402             \textcolor{keywordflow}{break};
403         \textcolor{keywordflow}{case} \hyperlink{pray_8c_ad4a74656da132ccd7279f5aefeee1a62}{TROUBLE\_POISONED}:
404             \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination})
405             pline(\textcolor{stringliteral}{"There's a tiger in your tank."});
406             \textcolor{keywordflow}{else}
407             You\_feel(\textcolor{stringliteral}{"in good health again."});
408             \textcolor{keywordflow}{for}(i=0; i<\hyperlink{attrib_8h_a8f8289cfc29e0bb2a2626262bfeedf21}{A\_MAX}; i++) \{
409             \textcolor{keywordflow}{if}(\hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(i) < \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(i)) \{
410                 \hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(i) = \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(i);
411                 \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
412             \}
413             \}
414             (void) \hyperlink{pickup_8c_aed29b02f27db47b69b5ef129bf56e102}{encumber\_msg}();
415             \textcolor{keywordflow}{break};
416         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a7821d5ab2ada9a3f3b9d5550aa91d38b}{TROUBLE\_BLIND}:
417         \{
418             \textcolor{keywordtype}{int} num\_eyes = \hyperlink{mondata_8h_a92feea53299371976971e15c43923a26}{eyecount}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data});
419             \textcolor{keyword}{const} \textcolor{keywordtype}{char} *eye = body\_part(\hyperlink{hack_8h_a9dcbae66f1fdfd85d1c36b37ae0e62cb}{EYE});
420 
421             Your(\textcolor{stringliteral}{"%s feel%s better."},
422              (num\_eyes == 1) ? eye : makeplural(eye),
423              (num\_eyes == 1) ? \textcolor{stringliteral}{"s"} : \textcolor{stringliteral}{""});
424             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8a8bfe7cf93acf5795d7d7fdfbc5ef40}{ucreamed} = 0;
425             make\_blinded(0L,\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
426             \textcolor{keywordflow}{break};
427         \}
428         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a2d5b5fb7ff08f14d13310c37eb8bafa5}{TROUBLE\_WOUNDED\_LEGS}:
429             heal\_legs();
430             \textcolor{keywordflow}{break};
431         \textcolor{keywordflow}{case} \hyperlink{pray_8c_ab1bbc98198d9067a9364c183568c63ad}{TROUBLE\_STUNNED}:
432             make\_stunned(0L,\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
433             \textcolor{keywordflow}{break};
434         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a5ebb0678b672e788b4bb8035285fccb7}{TROUBLE\_CONFUSED}:
435             make\_confused(0L,\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
436             \textcolor{keywordflow}{break};
437         \textcolor{keywordflow}{case} \hyperlink{pray_8c_a1ed7c0bff2cb0d38c5ce0cb424de3899}{TROUBLE\_HALLUCINATION}:
438             pline (\textcolor{stringliteral}{"Looks like you are back in Kansas."});
439             (void) make\_hallucinated(0L,\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE},0L);
440             \textcolor{keywordflow}{break};
441 \textcolor{preprocessor}{#ifdef STEED}
442         \textcolor{keywordflow}{case} \hyperlink{pray_8c_adbe9ad131b4e2efc0027b6c3240e5c79}{TROUBLE\_SADDLE}:
443             otmp = \hyperlink{worn_8c_a260cadb0c77a7032f8e53716072e6cd7}{which\_armor}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.usteed, W\_SADDLE);
444             uncurse(otmp);
445             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind}) \{
446             pline(\textcolor{stringliteral}{"%s %s %s."},
447                   s\_suffix(upstart(y\_monnam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.usteed))),
448                   aobjnam(otmp, \textcolor{stringliteral}{"softly glow"}),
449                   hcolor(\hyperlink{decl_8h_a36ae609b5390d5188e707e3236d79b7d}{NH\_AMBER}));
450             otmp->bknown = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
451             \}
452             \textcolor{keywordflow}{break};
453 \textcolor{preprocessor}{#endif}
454     \}
455 \}
\end{DoxyCode}
\hypertarget{pray_8c_a73163f066e42d7a8aa41446937d8ffeb}{\index{pray.\+c@{pray.\+c}!fry\+\_\+by\+\_\+god@{fry\+\_\+by\+\_\+god}}
\index{fry\+\_\+by\+\_\+god@{fry\+\_\+by\+\_\+god}!pray.\+c@{pray.\+c}}
\subsubsection[{fry\+\_\+by\+\_\+god}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void fry\+\_\+by\+\_\+god (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{resp\+\_\+god}
\end{DoxyParamCaption}
)}}\label{pray_8c_a73163f066e42d7a8aa41446937d8ffeb}


Definition at line 539 of file pray.\+c.



References align\+\_\+gname(), D\+I\+E\+D, done, K\+I\+L\+L\+E\+D\+\_\+\+B\+Y, killer, killer\+\_\+format, and Sprintf.



Referenced by god\+\_\+zaps\+\_\+you().


\begin{DoxyCode}
541 \{
542     \textcolor{keywordtype}{char} killerbuf[64];
543 
544     You(\textcolor{stringliteral}{"fry to a crisp."});
545     \hyperlink{decl_8h_a0a94810d03a0bf68b371c6b1a1a4a905}{killer\_format} = \hyperlink{decl_8h_a0b77d6f094070ee1d9900156357f6f62}{KILLED\_BY};
546     \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(killerbuf, \textcolor{stringliteral}{"the wrath of %s"}, \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(resp\_god));
547     \hyperlink{decl_8h_af7d2dea3996fe6d20ea8ec329726e8f9}{killer} = killerbuf;
548     \hyperlink{winX_8c_a032589f4f70300762622fd253db008d0}{done}(\hyperlink{hack_8h_a945602f8a7d9cde22e2502ffb5c51f58}{DIED});
549 \}
\end{DoxyCode}
\hypertarget{pray_8c_a700e2edee689fce4e59c382f4d657b31}{\index{pray.\+c@{pray.\+c}!god\+\_\+zaps\+\_\+you@{god\+\_\+zaps\+\_\+you}}
\index{god\+\_\+zaps\+\_\+you@{god\+\_\+zaps\+\_\+you}!pray.\+c@{pray.\+c}}
\subsubsection[{god\+\_\+zaps\+\_\+you}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void god\+\_\+zaps\+\_\+you (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{resp\+\_\+god}
\end{DoxyParamCaption}
)}}\label{pray_8c_a700e2edee689fce4e59c382f4d657b31}


Definition at line 465 of file pray.\+c.



References align\+\_\+gname(), Blind, Disint\+\_\+resistance, E\+Disint\+\_\+resistance, E\+Reflecting, F\+A\+L\+S\+E, fry\+\_\+by\+\_\+god(), godvoice(), Is\+\_\+astralevel, Is\+\_\+sanctum, N\+H\+\_\+\+B\+L\+A\+C\+K, Reflecting, resists\+\_\+disint, resists\+\_\+elec, shieldeff(), Shock\+\_\+resistance, summon\+\_\+minion(), u, uarm, uarmc, uarms, uhim, ureflects(), you\+::ustuck, you\+::ux, you\+::uy, you\+::uz, W\+\_\+\+A\+R\+M, W\+\_\+\+A\+R\+M\+C, and W\+\_\+\+A\+R\+M\+S.



Referenced by angrygods(), and dosacrifice().


\begin{DoxyCode}
467 \{
468     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.uswallow) \{
469         pline(\textcolor{stringliteral}{"Suddenly a bolt of lightning comes down at you from the heavens!"});
470         pline(\textcolor{stringliteral}{"It strikes %s!"}, mon\_nam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}));
471         \textcolor{keywordflow}{if} (!\hyperlink{mondata_8h_a3ec4a5375d05f427a8e3e9d4f0b55f0e}{resists\_elec}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck})) \{
472         pline(\textcolor{stringliteral}{"%s fries to a crisp!"}, Monnam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}));
473         \textcolor{comment}{/* Yup, you get experience.  It takes guts to successfully}
474 \textcolor{comment}{         * pull off this trick on your god, anyway.}
475 \textcolor{comment}{         */}
476         xkilled(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}, 0);
477         \} \textcolor{keywordflow}{else}
478         pline(\textcolor{stringliteral}{"%s seems unaffected."}, Monnam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}));
479     \} \textcolor{keywordflow}{else} \{
480         pline(\textcolor{stringliteral}{"Suddenly, a bolt of lightning strikes you!"});
481         \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a6ae11863457d15e255fa9d39f1df45b6}{Reflecting}) \{
482         \hyperlink{display_8c_ac89f44ae626d79f05953e503312a939d}{shieldeff}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
483         \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
484             pline(\textcolor{stringliteral}{"For some reason you're unaffected."});
485         \textcolor{keywordflow}{else}
486             (\textcolor{keywordtype}{void}) \hyperlink{muse_8c_a07a7a604bbcb07e0140b43f374474805}{ureflects}(\textcolor{stringliteral}{"%s reflects from your %s."}, \textcolor{stringliteral}{"It"});
487         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_acf41a934b6c52ace60238e5a65f94261}{Shock\_resistance}) \{
488         \hyperlink{display_8c_ac89f44ae626d79f05953e503312a939d}{shieldeff}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
489         pline(\textcolor{stringliteral}{"It seems not to affect you."});
490         \} \textcolor{keywordflow}{else}
491         \hyperlink{pray_8c_a73163f066e42d7a8aa41446937d8ffeb}{fry\_by\_god}(resp\_god);
492     \}
493 
494     pline(\textcolor{stringliteral}{"%s is not deterred..."}, \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(resp\_god));
495     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.uswallow) \{
496         pline(\textcolor{stringliteral}{"A wide-angle disintegration beam aimed at you hits %s!"},
497             mon\_nam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}));
498         \textcolor{keywordflow}{if} (!\hyperlink{mondata_8h_a0c7ceab0ce4d4134e0fccef5b385854f}{resists\_disint}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck})) \{
499         pline(\textcolor{stringliteral}{"%s fries to a crisp!"}, Monnam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}));
500         xkilled(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}, 2); \textcolor{comment}{/* no corpse */}
501         \} \textcolor{keywordflow}{else}
502         pline(\textcolor{stringliteral}{"%s seems unaffected."}, Monnam(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a774d4dad2da130ec9ed1d2e6c5e0fa80}{ustuck}));
503     \} \textcolor{keywordflow}{else} \{
504         pline(\textcolor{stringliteral}{"A wide-angle disintegration beam hits you!"});
505 
506         \textcolor{comment}{/* disintegrate shield and body armor before disintegrating}
507 \textcolor{comment}{         * the impudent mortal, like black dragon breath -3.}
508 \textcolor{comment}{         */}
509         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_aee21972b230a8408f2b85e26f195e91d}{uarms} && !(\hyperlink{youprop_8h_a43fd37957b0e684829f39e52e2405a85}{EReflecting} & \hyperlink{prop_8h_a14ac9957d8019d2304ceedb5d794fb4f}{W\_ARMS}) &&
510                 !(\hyperlink{youprop_8h_ad72260f0b129702e5fefe03967580182}{EDisint\_resistance} & W\_ARMS))
511         (void) destroy\_arm(\hyperlink{decl_8h_aee21972b230a8408f2b85e26f195e91d}{uarms});
512         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a586be55c11f20a38a490f6bb922a437d}{uarmc} && !(\hyperlink{youprop_8h_a43fd37957b0e684829f39e52e2405a85}{EReflecting} & \hyperlink{prop_8h_ac1d6573f77f2d9fe6bf8fad682246773}{W\_ARMC}) &&
513                 !(\hyperlink{youprop_8h_ad72260f0b129702e5fefe03967580182}{EDisint\_resistance} & \hyperlink{prop_8h_ac1d6573f77f2d9fe6bf8fad682246773}{W\_ARMC}))
514         (void) destroy\_arm(\hyperlink{decl_8h_a586be55c11f20a38a490f6bb922a437d}{uarmc});
515         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_ad6e6532c78ab5fe0078daf4cf352f3c1}{uarm} && !(\hyperlink{youprop_8h_a43fd37957b0e684829f39e52e2405a85}{EReflecting} & \hyperlink{prop_8h_a4f442d75a01cf88dcd71965d0d1f6155}{W\_ARM}) &&
516                 !(\hyperlink{youprop_8h_ad72260f0b129702e5fefe03967580182}{EDisint\_resistance} & \hyperlink{prop_8h_a4f442d75a01cf88dcd71965d0d1f6155}{W\_ARM}) && !\hyperlink{decl_8h_a586be55c11f20a38a490f6bb922a437d}{uarmc})
517         (void) destroy\_arm(\hyperlink{decl_8h_ad6e6532c78ab5fe0078daf4cf352f3c1}{uarm});
518 \textcolor{preprocessor}{#ifdef TOURIST}
519         \textcolor{keywordflow}{if} (uarmu && !\hyperlink{decl_8h_ad6e6532c78ab5fe0078daf4cf352f3c1}{uarm} && !\hyperlink{decl_8h_a586be55c11f20a38a490f6bb922a437d}{uarmc}) (void) destroy\_arm(uarmu);
520 \textcolor{preprocessor}{#endif}
521         \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a5143423b55005a35596b3051b3020ab2}{Disint\_resistance})
522         \hyperlink{pray_8c_a73163f066e42d7a8aa41446937d8ffeb}{fry\_by\_god}(resp\_god);
523         \textcolor{keywordflow}{else} \{
524         You(\textcolor{stringliteral}{"bask in its %s glow for a minute..."}, \hyperlink{decl_8h_a55df3d1bd35f9756e4d497a2762a6c70}{NH\_BLACK});
525         \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(resp\_god, \textcolor{stringliteral}{"I believe it not!"});
526         \}
527         \textcolor{keywordflow}{if} (\hyperlink{dungeon_8h_af69a19c1eec378c1cebe9143febbe2b5}{Is\_astralevel}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz}) || \hyperlink{dungeon_8h_a59e2a0655c98162235eb90f2108fc3ee}{Is\_sanctum}(&\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89878490db5d54221f04b3fb44ebdaa2}{uz})) \{
528         \textcolor{comment}{/* one more try for high altars */}
529         verbalize(\textcolor{stringliteral}{"Thou cannot escape my wrath, mortal!"});
530         \hyperlink{minion_8c_a241dff05fee4de3cbbace9bc1a9110b7}{summon\_minion}(resp\_god, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
531         \hyperlink{minion_8c_a241dff05fee4de3cbbace9bc1a9110b7}{summon\_minion}(resp\_god, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
532         \hyperlink{minion_8c_a241dff05fee4de3cbbace9bc1a9110b7}{summon\_minion}(resp\_god, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
533         verbalize(\textcolor{stringliteral}{"Destroy %s, my servants!"}, \hyperlink{you_8h_a842295f0e58b1568b453630a0b7897c8}{uhim}());
534         \}
535     \}
536 \}
\end{DoxyCode}
\hypertarget{pray_8c_a5e5e2d647c235527b6d264d5f6dfa57a}{\index{pray.\+c@{pray.\+c}!gods\+\_\+angry@{gods\+\_\+angry}}
\index{gods\+\_\+angry@{gods\+\_\+angry}!pray.\+c@{pray.\+c}}
\subsubsection[{gods\+\_\+angry}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void gods\+\_\+angry (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{g\+\_\+align}
\end{DoxyParamCaption}
)}}\label{pray_8c_a5e5e2d647c235527b6d264d5f6dfa57a}


Definition at line 1076 of file pray.\+c.



References godvoice().



Referenced by angrygods().


\begin{DoxyCode}
1078 \{
1079     \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(g\_align, \textcolor{stringliteral}{"Thou hast angered me."});
1080 \}
\end{DoxyCode}
\hypertarget{pray_8c_a6cabf3685d23faa243c94ea29a606dd4}{\index{pray.\+c@{pray.\+c}!gods\+\_\+upset@{gods\+\_\+upset}}
\index{gods\+\_\+upset@{gods\+\_\+upset}!pray.\+c@{pray.\+c}}
\subsubsection[{gods\+\_\+upset}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void gods\+\_\+upset (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{g\+\_\+align}
\end{DoxyParamCaption}
)}}\label{pray_8c_a6cabf3685d23faa243c94ea29a606dd4}


Definition at line 1084 of file pray.\+c.



References angrygods(), align\+::type, u, you\+::ualign, and you\+::ugangr.



Referenced by dosacrifice(), and prayer\+\_\+done().


\begin{DoxyCode}
1086 \{
1087     \textcolor{keywordflow}{if}(g\_align == \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr}++;
1088     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr}) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace91478a77d9f0c0e8a8d44e33a0936a}{ugangr}--;
1089     \hyperlink{pray_8c_aa4786bc219e4f070008e558bed51bb33}{angrygods}(g\_align);
1090 \}
\end{DoxyCode}
\hypertarget{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{\index{pray.\+c@{pray.\+c}!godvoice@{godvoice}}
\index{godvoice@{godvoice}!pray.\+c@{pray.\+c}}
\subsubsection[{godvoice}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void godvoice (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{g\+\_\+align, }
\item[{{\bf const} char $\ast$}]{words}
\end{DoxyParamCaption}
)}}\label{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}


Definition at line 1061 of file pray.\+c.



References align\+\_\+gname(), and S\+I\+Z\+E.



Referenced by altar\+\_\+wrath(), angrygods(), dosacrifice(), god\+\_\+zaps\+\_\+you(), gods\+\_\+angry(), pleased(), and prayer\+\_\+done().


\begin{DoxyCode}
1064 \{
1065     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *quot = \textcolor{stringliteral}{""};
1066     \textcolor{keywordflow}{if}(words)
1067     quot = \textcolor{stringliteral}{"\(\backslash\)""};
1068     \textcolor{keywordflow}{else}
1069     words = \textcolor{stringliteral}{""};
1070 
1071     pline\_The(\textcolor{stringliteral}{"voice of %s %s: %s%s%s"}, \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(g\_align),
1072       \hyperlink{pray_8c_af51a4b26d88a1b7a6f362b1b0d47865c}{godvoices}[rn2(\hyperlink{global_8h_afd2537d19a3cb6556b0f727580ec6ee7}{SIZE}(\hyperlink{pray_8c_af51a4b26d88a1b7a6f362b1b0d47865c}{godvoices}))], quot, words, quot);
1073 \}
\end{DoxyCode}
\hypertarget{pray_8c_a1aaa36a51bae4a40bd59beb7c664b59f}{\index{pray.\+c@{pray.\+c}!halu\+\_\+gname@{halu\+\_\+gname}}
\index{halu\+\_\+gname@{halu\+\_\+gname}!pray.\+c@{pray.\+c}}
\subsubsection[{halu\+\_\+gname}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ halu\+\_\+gname (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{alignment}
\end{DoxyParamCaption}
)}}\label{pray_8c_a1aaa36a51bae4a40bd59beb7c664b59f}


Definition at line 1788 of file pray.\+c.



References align\+\_\+gname(), Role\+::cgod, Hallucination, Role\+::lgod, Moloch, Role\+::ngod, randrole(), and roles.


\begin{DoxyCode}
1790 \{
1791     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *gnam;
1792     \textcolor{keywordtype}{int} which;
1793 
1794     \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination}) \textcolor{keywordflow}{return} \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(alignment);
1795 
1796     which = \hyperlink{role_8c_a073a22ab9ffe8f39dc70d2b8be423e47}{randrole}();
1797     \textcolor{keywordflow}{switch} (rn2(3)) \{
1798      \textcolor{keywordflow}{case} 0:    gnam = \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[which].\hyperlink{structRole_a71dfd97228277634b596856f4732e74b}{lgod}; \textcolor{keywordflow}{break};
1799      \textcolor{keywordflow}{case} 1:    gnam = \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[which].\hyperlink{structRole_aa4c0b03524de8f7c7efcaa301b8badbb}{ngod}; \textcolor{keywordflow}{break};
1800      \textcolor{keywordflow}{case} 2:    gnam = \hyperlink{you_8h_ae6c97706d31bdeff4786e51b96747db0}{roles}[which].\hyperlink{structRole_a72dc55eac27db8d205b94bcb35c708fd}{cgod}; \textcolor{keywordflow}{break};
1801      \textcolor{keywordflow}{default}:   gnam = 0; \textcolor{keywordflow}{break};        \textcolor{comment}{/* lint suppression */}
1802     \}
1803     \textcolor{keywordflow}{if} (!gnam) gnam = \hyperlink{pray_8c_ab5d33410760309a3f6faa2b20924e009}{Moloch};
1804     \textcolor{keywordflow}{if} (*gnam == \textcolor{charliteral}{'\_'}) ++gnam;
1805     \textcolor{keywordflow}{return} gnam;
1806 \}
\end{DoxyCode}
\hypertarget{pray_8c_ad52190f72755f5c12aeae3824379ba15}{\index{pray.\+c@{pray.\+c}!in\+\_\+trouble@{in\+\_\+trouble}}
\index{in\+\_\+trouble@{in\+\_\+trouble}!pray.\+c@{pray.\+c}}
\subsubsection[{in\+\_\+trouble}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} int in\+\_\+trouble (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_ad52190f72755f5c12aeae3824379ba15}


Definition at line 120 of file pray.\+c.



References A\+\_\+\+M\+A\+X, A\+\_\+\+S\+T\+R, A\+B\+A\+S\+E, A\+M\+A\+X, Blinded, Blindfolded, blocked\+\_\+boulder(), count, Cursed\+\_\+obj, monst\+::data, E\+X\+T\+\_\+\+E\+N\+C\+U\+M\+B\+E\+R, Hallucination, haseyes, H\+Confusion, H\+Stun, H\+U\+N\+G\+R\+Y, I\+S\+\_\+\+R\+O\+C\+K, levl, L\+O\+W\+\_\+\+P\+M, you\+::mh, you\+::mhmax, nohands, otmp, Passes\+\_\+walls, Punished, Sick, Slimed, S\+T\+E\+E\+D, Stoned, Strangled, throws\+\_\+rocks, T\+R\+O\+U\+B\+L\+E\+\_\+\+B\+L\+I\+N\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+L\+L\+A\+P\+S\+I\+N\+G, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+O\+N\+F\+U\+S\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+B\+L\+I\+N\+D\+F\+O\+L\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+I\+T\+E\+M\+S, T\+R\+O\+U\+B\+L\+E\+\_\+\+C\+U\+R\+S\+E\+D\+\_\+\+L\+E\+V\+I\+T\+A\+T\+I\+O\+N, T\+R\+O\+U\+B\+L\+E\+\_\+\+F\+U\+M\+B\+L\+I\+N\+G, T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+A\+L\+L\+U\+C\+I\+N\+A\+T\+I\+O\+N, T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+I\+T, T\+R\+O\+U\+B\+L\+E\+\_\+\+H\+U\+N\+G\+R\+Y, T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+A\+V\+A, T\+R\+O\+U\+B\+L\+E\+\_\+\+L\+Y\+C\+A\+N\+T\+H\+R\+O\+P\+E, T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+O\+I\+S\+O\+N\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+P\+U\+N\+I\+S\+H\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+A\+D\+D\+L\+E, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+I\+C\+K, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+L\+I\+M\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+A\+R\+V\+I\+N\+G, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+O\+N\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+R\+A\+N\+G\+L\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+C\+K\+\_\+\+I\+N\+\_\+\+W\+A\+L\+L, T\+R\+O\+U\+B\+L\+E\+\_\+\+S\+T\+U\+N\+N\+E\+D, T\+R\+O\+U\+B\+L\+E\+\_\+\+U\+N\+U\+S\+E\+A\+B\+L\+E\+\_\+\+H\+A\+N\+D\+S, T\+R\+O\+U\+B\+L\+E\+\_\+\+W\+O\+U\+N\+D\+E\+D\+\_\+\+L\+E\+G\+S, T\+T\+\_\+\+L\+A\+V\+A, u, uarmf, uarmg, ublindf, you\+::uhp, you\+::uhpmax, you\+::uhs, uleft, you\+::ulycn, Unchanging, Upolyd, uright, you\+::utrap, you\+::utraptype, uwep, you\+::ux, you\+::uy, W\+E\+A\+K, welded(), which\+\_\+armor(), worst\+\_\+cursed\+\_\+item(), Wounded\+\_\+legs, and youmonst.



Referenced by can\+\_\+pray(), and pleased().


\begin{DoxyCode}
121 \{
122     \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
123     \textcolor{keywordtype}{int} i, j, \hyperlink{wingem1_8c_a66e3fedede6aa372e5196e55e5e8d5c1}{count}=0;
124 
125 \textcolor{comment}{/* Borrowed from eat.c */}
126 
127 \textcolor{preprocessor}{#define SATIATED    0}
128 \textcolor{preprocessor}{#define NOT\_HUNGRY  1}
129 \textcolor{preprocessor}{#define HUNGRY      2}
130 \textcolor{preprocessor}{#define WEAK        3}
131 \textcolor{preprocessor}{#define FAINTING    4}
132 \textcolor{preprocessor}{#define FAINTED     5}
133 \textcolor{preprocessor}{#define STARVED     6}
134 
135     \textcolor{comment}{/*}
136 \textcolor{comment}{     * major troubles}
137 \textcolor{comment}{     */}
138     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_afa678675d2c2f1e3b6ca808bab477126}{Stoned}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_abe72c2a944c131a98568e372b21cdde0}{TROUBLE\_STONED});
139     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_a1d6ced121072dc4fb35b71e5fdebe596}{Slimed}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a7c00d5cda83746f252466940df254cf5}{TROUBLE\_SLIMED});
140     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_a0eb96f3fa75bd1304697433846ec251e}{Strangled}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_ae5a6843a406f7ef67150251c0f481648}{TROUBLE\_STRANGLED});
141     \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a7250d3b13a54b76d846b754a2a6f3fa6}{utrap} && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a1753632ed4b3b8dea40466c1c92fce19}{utraptype} == \hyperlink{you_8h_a1d97aac071079ee345fc1a88536bf7d6}{TT\_LAVA}) \textcolor{keywordflow}{return}(
      \hyperlink{pray_8c_aa9aae24bd38313b0661a974501255484}{TROUBLE\_LAVA});
142     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_a43a7dcd441841e6703322b8a2ea3b6a5}{Sick}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a6878986afb98c5efca97db6d615b2d73}{TROUBLE\_SICK});
143     \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a4ba11c494ae99f9d1ba9d65ad07c5097}{uhs} >= \hyperlink{pray_8c_ad1480e9557edcc543498ca259cee6c7d}{WEAK}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_af7a7dec137df4eeb20ff575e7c301d8a}{TROUBLE\_STARVING});
144     \textcolor{keywordflow}{if} (\hyperlink{you_8h_ab869582031082f2c352b374dc0e0c3b3}{Upolyd} ? (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a2106fda1b357aa3395703a3abff426f8}{mh} <= 5 || \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a2106fda1b357aa3395703a3abff426f8}{mh}*7 <= \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ad0eb213f6299ffa1529fc7864003a044}{mhmax}) :
145         (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a94468a400f14da123d5160f8eefd7641}{uhp} <= 5 || \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a94468a400f14da123d5160f8eefd7641}{uhp}*7 <= \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax})) \textcolor{keywordflow}{return} \hyperlink{pray_8c_a5364ece57a436a9b28cb0fb659d94d54}{TROUBLE\_HIT};
146     \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_abe1083af83a3184640fcb451791d2722}{ulycn} >= \hyperlink{permonst_8h_aedc8e4764f8cf4d681f6f6226eeaa6af}{LOW\_PM}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a6eadc63855312f21b5f6cc7259b530b0}{TROUBLE\_LYCANTHROPE});
147     \textcolor{keywordflow}{if}(near\_capacity() >= \hyperlink{hack_8h_a44ae2ad44acfc1fd34d71006ed00fd26}{EXT\_ENCUMBER} && \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(\hyperlink{attrib_8h_ad53430e3d611a366ec4b5c457b4c67f7}{A\_STR})-\hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(
      \hyperlink{attrib_8h_ad53430e3d611a366ec4b5c457b4c67f7}{A\_STR}) > 3)
148         \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a979f9a50b0ac7177855fbdef1a4c970c}{TROUBLE\_COLLAPSING});
149 
150     \textcolor{keywordflow}{for} (i= -1; i<=1; i++) \textcolor{keywordflow}{for}(j= -1; j<=1; j++) \{
151         \textcolor{keywordflow}{if} (!i && !j) \textcolor{keywordflow}{continue};
152         \textcolor{keywordflow}{if} (!isok(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}+i, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}+j) || \hyperlink{rm_8h_a041df081d95aacdcbf31a3bbfdd36e0e}{IS\_ROCK}(\hyperlink{rm_8h_a8cd681fba60fdedbabfd71a0b4bbfc00}{levl}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}+i][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.
      \hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}+j].typ)
153             || (\hyperlink{pray_8c_afd5b1ba8422f9c3df6799ad9d7f8bff2}{blocked\_boulder}(i,j) && !\hyperlink{mondata_8h_af1c84d35ae8812186eaf635bc27b37c0}{throws\_rocks}(
      \hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data})))
154             count++;
155     \}
156     \textcolor{keywordflow}{if} (count == 8 && !\hyperlink{youprop_8h_a3999ccab66a0f60683b02b022bd96739}{Passes\_walls})
157         \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a75c4f126c3b7e393a3694f5782566133}{TROUBLE\_STUCK\_IN\_WALL});
158 
159     \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(\hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf}, LEVITATION\_BOOTS) ||
160         stuck\_ring(\hyperlink{decl_8h_abc75269125700f0668785d8f073a3646}{uleft}, RIN\_LEVITATION) ||
161         stuck\_ring(\hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright}, RIN\_LEVITATION))
162         \textcolor{keywordflow}{return}(\hyperlink{pray_8c_adb471df240344fa9b29233dbdfd1b3d4}{TROUBLE\_CURSED\_LEVITATION});
163     \textcolor{keywordflow}{if} (\hyperlink{mondata_8h_ae13d4a4d0a9842348cffbb5dae990771}{nohands}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) || !freehand()) \{
164         \textcolor{comment}{/* for bag/box access [cf use\_container()]...}
165 \textcolor{comment}{           make sure it's a case that we know how to handle;}
166 \textcolor{comment}{           otherwise "fix all troubles" would get stuck in a loop */}
167         \textcolor{keywordflow}{if} (\hyperlink{wield_8c_ade2321e11c702d69c6fd7b261ae62040}{welded}(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep})) \textcolor{keywordflow}{return} \hyperlink{pray_8c_a398648d07d2e7c344bd75605f705ba43}{TROUBLE\_UNUSEABLE\_HANDS};
168         \textcolor{keywordflow}{if} (\hyperlink{you_8h_ab869582031082f2c352b374dc0e0c3b3}{Upolyd} && \hyperlink{mondata_8h_ae13d4a4d0a9842348cffbb5dae990771}{nohands}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}) && (!
      \hyperlink{youprop_8h_a10db02e9dc6f21655b4bbc61abdd0a12}{Unchanging} ||
169             ((otmp = unchanger()) != 0 && otmp->cursed)))
170         \textcolor{keywordflow}{return} \hyperlink{pray_8c_a398648d07d2e7c344bd75605f705ba43}{TROUBLE\_UNUSEABLE\_HANDS};
171     \}
172     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_a8547bd3fedb8c8e7fda74893ffb979e2}{Blindfolded} && \hyperlink{decl_8h_aaac1dc498d3597b63617d7056c3e1c1b}{ublindf}->cursed) \textcolor{keywordflow}{return}(
      \hyperlink{pray_8c_a1f2fc0d973d368e4a92afbb1bc7a2731}{TROUBLE\_CURSED\_BLINDFOLD});
173 
174     \textcolor{comment}{/*}
175 \textcolor{comment}{     * minor troubles}
176 \textcolor{comment}{     */}
177     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_ad76daf081117eb579839073bebe92b45}{Punished}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_af0ff264889abcede3489461c49015827}{TROUBLE\_PUNISHED});
178     \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(\hyperlink{decl_8h_a374ab5e4582cfafa2d4ef57211f53293}{uarmg}, GAUNTLETS\_OF\_FUMBLING) ||
179         \hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(\hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf}, FUMBLE\_BOOTS))
180         \textcolor{keywordflow}{return} \hyperlink{pray_8c_a66451c68de0cf0bd9d84b1150c05a2f0}{TROUBLE\_FUMBLING};
181     \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a21015c4f3b8fe89777f97aee852a6dbc}{worst\_cursed\_item}()) \textcolor{keywordflow}{return} \hyperlink{pray_8c_a1504f6dcdcf93be698a85d222cbfbace}{TROUBLE\_CURSED\_ITEMS};
182 \textcolor{preprocessor}{#ifdef STEED}
183     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.usteed) \{    \textcolor{comment}{/* can't voluntarily dismount from a cursed saddle */}
184         otmp = \hyperlink{worn_8c_a260cadb0c77a7032f8e53716072e6cd7}{which\_armor}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.usteed, W\_SADDLE);
185         \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(otmp, SADDLE)) \textcolor{keywordflow}{return} \hyperlink{pray_8c_adbe9ad131b4e2efc0027b6c3240e5c79}{TROUBLE\_SADDLE};
186     \}
187 \textcolor{preprocessor}{#endif}
188 
189     \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a769ae4ea1360ffb2b8b4679bd129db09}{Blinded} > 1 && \hyperlink{mondata_8h_acef071254b9ae0dcf53724485be10841}{haseyes}(\hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data})) \textcolor{keywordflow}{return}(
      \hyperlink{pray_8c_a7821d5ab2ada9a3f3b9d5550aa91d38b}{TROUBLE\_BLIND});
190     \textcolor{keywordflow}{for}(i=0; i<\hyperlink{attrib_8h_a8f8289cfc29e0bb2a2626262bfeedf21}{A\_MAX}; i++)
191         \textcolor{keywordflow}{if}(\hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(i) < \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(i)) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_ad4a74656da132ccd7279f5aefeee1a62}{TROUBLE\_POISONED});
192     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_a23540d45a14463ec868e098f2cf4bee8}{Wounded\_legs}
193 #ifdef \hyperlink{config_8h_a0386a3058afaec36a953bb688cf7cf04}{STEED}
194             && !\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.usteed
195 #endif
196                 ) \textcolor{keywordflow}{return} (\hyperlink{pray_8c_a2d5b5fb7ff08f14d13310c37eb8bafa5}{TROUBLE\_WOUNDED\_LEGS});
197     \textcolor{keywordflow}{if}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a4ba11c494ae99f9d1ba9d65ad07c5097}{uhs} >= \hyperlink{pray_8c_a7b98f8e1ebd9fad556acbf6e335883d9}{HUNGRY}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a0cf0a6c09665e2feafa5cc21ae363396}{TROUBLE\_HUNGRY});
198     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_a603b73be1bfa70ebcf084a0170d699d9}{HStun}) \textcolor{keywordflow}{return} (\hyperlink{pray_8c_ab1bbc98198d9067a9364c183568c63ad}{TROUBLE\_STUNNED});
199     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_a7e27468d62b489163905cdc2de895adf}{HConfusion}) \textcolor{keywordflow}{return} (\hyperlink{pray_8c_a5ebb0678b672e788b4bb8035285fccb7}{TROUBLE\_CONFUSED});
200     \textcolor{keywordflow}{if}(\hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination}) \textcolor{keywordflow}{return}(\hyperlink{pray_8c_a1ed7c0bff2cb0d38c5ce0cb424de3899}{TROUBLE\_HALLUCINATION});
201     \textcolor{keywordflow}{return}(0);
202 \}
\end{DoxyCode}
\hypertarget{pray_8c_afbef177d5fca3fea273f0dc821a9768b}{\index{pray.\+c@{pray.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} int N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf prayer\+\_\+done}}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_afbef177d5fca3fea273f0dc821a9768b}
\hypertarget{pray_8c_a473d707f8f633d67d7f39776827d7f96}{\index{pray.\+c@{pray.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} struct {\bf obj}$\ast$ N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf worst\+\_\+cursed\+\_\+item}}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a473d707f8f633d67d7f39776827d7f96}
\hypertarget{pray_8c_a80a94e59c8e85051f8eadbf7bc26db6a}{\index{pray.\+c@{pray.\+c}!N\+D\+E\+C\+L@{N\+D\+E\+C\+L}}
\index{N\+D\+E\+C\+L@{N\+D\+E\+C\+L}!pray.\+c@{pray.\+c}}
\subsubsection[{N\+D\+E\+C\+L}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+D\+C\+L} int N\+D\+E\+C\+L (
\begin{DoxyParamCaption}
\item[{{\bf in\+\_\+trouble}}]{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a80a94e59c8e85051f8eadbf7bc26db6a}
\hypertarget{pray_8c_a002dea99577fe01e5fa0823f4336b970}{\index{pray.\+c@{pray.\+c}!pleased@{pleased}}
\index{pleased@{pleased}!pray.\+c@{pray.\+c}}
\subsubsection[{pleased}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} void pleased (
\begin{DoxyParamCaption}
\item[{{\bf aligntyp}}]{g\+\_\+align}
\end{DoxyParamCaption}
)}}\label{pray_8c_a002dea99577fe01e5fa0823f4336b970}


Definition at line 787 of file pray.\+c.



References A\+\_\+\+S\+T\+R, A\+B\+A\+S\+E, align\+\_\+gname(), A\+M\+A\+X, at\+\_\+your\+\_\+feet(), bases, Blind, flag\+::botl, B\+U\+F\+S\+Z, monst\+::data, D\+E\+V\+O\+U\+T, F\+A\+L\+S\+E, fix\+\_\+worst\+\_\+trouble(), flags, F\+R\+O\+M\+O\+U\+T\+S\+I\+D\+E, godvoice(), Hallucination, H\+Fast, H\+Protection, H\+Stealth, H\+Telepat, in\+\_\+trouble(), I\+N\+T\+R\+I\+N\+S\+I\+C, invent, is\+\_\+weptool, Luck, you\+::mh, you\+::mhmax, min, permonst\+::mlet, N\+H\+\_\+\+A\+M\+B\+E\+R, N\+H\+\_\+\+G\+O\+L\+D\+E\+N, N\+H\+\_\+\+L\+I\+G\+H\+T\+\_\+\+B\+L\+U\+E, obj\+::nobj, objects, obj\+::oclass, on\+\_\+altar, on\+\_\+shrine, otmp, obj\+::otyp, P\+\_\+\+R\+E\+S\+T\+R\+I\+C\+T\+E\+D, P\+I\+O\+U\+S, pluslvl(), align\+::record, rn1, S\+\_\+\+H\+U\+M\+A\+N, see\+\_\+monsters(), S\+P\+B\+O\+O\+K\+\_\+\+C\+L\+A\+S\+S, spell\+\_\+skilltype(), spl\+\_\+book, Sprintf, S\+T\+R\+I\+D\+E\+N\+T, T\+R\+U\+E, tune, align\+::type, u, u\+\_\+gname(), you\+::ualign, you\+::ublesscnt, you\+::ublessed, you\+::uevent, you\+::uhp, you\+::uhpmax, you\+::uhunger, you\+::ulevel, you\+::ulevelmax, you\+::uluck, update\+\_\+inventory, Upolyd, uwep, you\+::ux, you\+::uy, W\+E\+A\+P\+O\+N\+\_\+\+C\+L\+A\+S\+S, welded(), and youmonst.



Referenced by prayer\+\_\+done().


\begin{DoxyCode}
789 \{
790     \textcolor{comment}{/* don't use p\_trouble, worst trouble may get fixed while praying */}
791     \textcolor{keywordtype}{int} trouble = \hyperlink{pray_8c_ad52190f72755f5c12aeae3824379ba15}{in\_trouble}();   \textcolor{comment}{/* what's your worst difficulty? */}
792     \textcolor{keywordtype}{int} pat\_on\_head = 0, kick\_on\_butt;
793 
794     You\_feel(\textcolor{stringliteral}{"that %s is %s."}, \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(g\_align),
795         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} >= \hyperlink{pray_8c_a01cd1c29fdf18404de71e8930548d68e}{DEVOUT} ?
796         \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ? \textcolor{stringliteral}{"pleased as punch"} : \textcolor{stringliteral}{"well-pleased"} :
797         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} >= \hyperlink{pray_8c_a4c7a387f19f0bd40b659c3722171e3f3}{STRIDENT} ?
798         \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ? \textcolor{stringliteral}{"ticklish"} : \textcolor{stringliteral}{"pleased"} :
799         \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination} ? \textcolor{stringliteral}{"full"} : \textcolor{stringliteral}{"satisfied"});
800 
801     \textcolor{comment}{/* not your deity */}
802     \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() && \hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp} != \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}) \{
803         adjalign(-1);
804         \textcolor{keywordflow}{return};
805     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} < 2 && trouble <= 0) adjalign(1);
806 
807     \textcolor{comment}{/* depending on your luck & align level, the god you prayed to will:}
808 \textcolor{comment}{       - fix your worst problem if it's major.}
809 \textcolor{comment}{       - fix all your major problems.}
810 \textcolor{comment}{       - fix your worst problem if it's minor.}
811 \textcolor{comment}{       - fix all of your problems.}
812 \textcolor{comment}{       - do you a gratuitous favor.}
813 \textcolor{comment}{}
814 \textcolor{comment}{       if you make it to the the last category, you roll randomly again}
815 \textcolor{comment}{       to see what they do for you.}
816 \textcolor{comment}{}
817 \textcolor{comment}{       If your luck is at least 0, then you are guaranteed rescued}
818 \textcolor{comment}{       from your worst major problem. */}
819 
820     \textcolor{keywordflow}{if} (!trouble && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} >= \hyperlink{pray_8c_a01cd1c29fdf18404de71e8930548d68e}{DEVOUT}) \{
821         \textcolor{comment}{/* if hero was in trouble, but got better, no special favor */}
822         \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a34114bd61cdbc0e7781089fadc444f1a}{p\_trouble} == 0) pat\_on\_head = 1;
823     \} \textcolor{keywordflow}{else} \{
824         \textcolor{keywordtype}{int} action = \hyperlink{hack_8h_af107ca092682647f298989038020f9c8}{rn1}(\hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck} + (\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() ? 3 + \hyperlink{pray_8c_ab568d8f74dd31fde0d7eec1a5d9d3e70}{on\_shrine}() : 2), 1);
825 
826         \textcolor{keywordflow}{if} (!\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}()) action = \hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min}(action, 3);
827         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} < \hyperlink{pray_8c_a4c7a387f19f0bd40b659c3722171e3f3}{STRIDENT})
828         action = (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} > 0 || !rnl(2)) ? 1 : 0;
829 
830         \textcolor{keywordflow}{switch}(\hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min}(action,5)) \{
831         \textcolor{keywordflow}{case} 5: pat\_on\_head = 1;
832         \textcolor{keywordflow}{case} 4: \textcolor{keywordflow}{do} \hyperlink{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}{fix\_worst\_trouble}(trouble);
833             \textcolor{keywordflow}{while} ((trouble = \hyperlink{pray_8c_ad52190f72755f5c12aeae3824379ba15}{in\_trouble}()) != 0);
834             \textcolor{keywordflow}{break};
835 
836         \textcolor{keywordflow}{case} 3: \hyperlink{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}{fix\_worst\_trouble}(trouble);
837         \textcolor{keywordflow}{case} 2: \textcolor{keywordflow}{while} ((trouble = \hyperlink{pray_8c_ad52190f72755f5c12aeae3824379ba15}{in\_trouble}()) > 0)
838             \hyperlink{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}{fix\_worst\_trouble}(trouble);
839             \textcolor{keywordflow}{break};
840 
841         \textcolor{keywordflow}{case} 1: \textcolor{keywordflow}{if} (trouble > 0) \hyperlink{pray_8c_a9fc5cfcd22bd47f18104f71abe191f3c}{fix\_worst\_trouble}(trouble);
842         \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{break}; \textcolor{comment}{/* your god blows you off, too bad */}
843         \}
844     \}
845 
846     \textcolor{comment}{/* note: can't get pat\_on\_head unless all troubles have just been}
847 \textcolor{comment}{       fixed or there were no troubles to begin with; hallucination}
848 \textcolor{comment}{       won't be in effect so special handling for it is superfluous */}
849     \textcolor{keywordflow}{if}(pat\_on\_head)
850     \textcolor{keywordflow}{switch}(rn2((\hyperlink{you_8h_ae69937c86a71264fd0e91dab8a64cae4}{Luck} + 6)>>1)) \{
851     \textcolor{keywordflow}{case} 0: \textcolor{keywordflow}{break};
852     \textcolor{keywordflow}{case} 1:
853         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep} && (\hyperlink{wield_8c_ade2321e11c702d69c6fd7b261ae62040}{welded}(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}) || \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->\hyperlink{structobj_a716ba3ee00602dede9ea5c68c74d45bd}{oclass} == 
      \hyperlink{objclass_8h_a615c2dc6d3501d6b5e14c3373bc37ec1}{WEAPON\_CLASS} ||
854              \hyperlink{obj_8h_a5f347f7456e4da8284a9bc369bc32d45}{is\_weptool}(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}))) \{
855         \textcolor{keywordtype}{char} repair\_buf[\hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}];
856 
857         *repair\_buf = \textcolor{charliteral}{'\(\backslash\)0'};
858         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->oeroded || \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->oeroded2)
859             \hyperlink{global_8h_aa55ba8f4e3c82fe00035e6b51d6c7dee}{Sprintf}(repair\_buf, \textcolor{stringliteral}{" and %s now as good as new"},
860                 otense(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}, \textcolor{stringliteral}{"are"}));
861 
862         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->cursed) \{
863             uncurse(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep});
864             \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->bknown = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
865             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
866             Your(\textcolor{stringliteral}{"%s %s%s."}, aobjnam(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}, \textcolor{stringliteral}{"softly glow"}),
867                  hcolor(\hyperlink{decl_8h_a36ae609b5390d5188e707e3236d79b7d}{NH\_AMBER}), repair\_buf);
868             \textcolor{keywordflow}{else} You\_feel(\textcolor{stringliteral}{"the power of %s over your %s."},
869             \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}(), xname(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}));
870             *repair\_buf = \textcolor{charliteral}{'\(\backslash\)0'};
871         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->blessed) \{
872             bless(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep});
873             \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->bknown = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
874             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
875             Your(\textcolor{stringliteral}{"%s with %s aura%s."},
876                  aobjnam(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}, \textcolor{stringliteral}{"softly glow"}),
877                  an(hcolor(\hyperlink{decl_8h_a73163155518f8e8c9de32783a578c07a}{NH\_LIGHT\_BLUE})), repair\_buf);
878             \textcolor{keywordflow}{else} You\_feel(\textcolor{stringliteral}{"the blessing of %s over your %s."},
879             \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}(), xname(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}));
880             *repair\_buf = \textcolor{charliteral}{'\(\backslash\)0'};
881         \}
882 
883         \textcolor{comment}{/* fix any rust/burn/rot damage, but don't protect}
884 \textcolor{comment}{           against future damage */}
885         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->oeroded || \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->oeroded2) \{
886             \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->oeroded = \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}->oeroded2 = 0;
887             \textcolor{comment}{/* only give this message if we didn't just bless}
888 \textcolor{comment}{               or uncurse (which has already given a message) */}
889             \textcolor{keywordflow}{if} (*repair\_buf)
890             Your(\textcolor{stringliteral}{"%s as good as new!"},
891                  aobjnam(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}, \hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind} ? \textcolor{stringliteral}{"feel"} : \textcolor{stringliteral}{"look"}));
892         \}
893         \hyperlink{winprocs_8h_a12feb374290012aafc2340c5ba15f7e8}{update\_inventory}();
894         \}
895         \textcolor{keywordflow}{break};
896     \textcolor{keywordflow}{case} 3:
897         \textcolor{comment}{/* takes 2 hints to get the music to enter the stronghold */}
898         \textcolor{keywordflow}{if} (!\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.uopened\_dbridge) \{
899         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.uheard\_tune < 1) \{
900             \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(g\_align,(\textcolor{keywordtype}{char} *)0);
901             verbalize(\textcolor{stringliteral}{"Hark, %s!"},
902               \hyperlink{decl_8h_ad15893dbcb60e2777ae0dfac9f840858}{youmonst}.\hyperlink{structmonst_a5c8369d63f2ae0ca4466258542edecbe}{data}->\hyperlink{structpermonst_ab402dbf1bed9d0e595a2b3da6558da92}{mlet} == \hyperlink{monsym_8h_afd17d6f6e4ac25a9ac0086ebf27b0469}{S\_HUMAN} ? \textcolor{stringliteral}{"mortal"} : \textcolor{stringliteral}{"creature"});
903             verbalize(
904             \textcolor{stringliteral}{"To enter the castle, thou must play the right tune!"});
905             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.uheard\_tune++;
906             \textcolor{keywordflow}{break};
907         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.uheard\_tune < 2) \{
908             You\_hear(\textcolor{stringliteral}{"a divine music..."});
909             pline(\textcolor{stringliteral}{"It sounds like:  \(\backslash\)"%s\(\backslash\)"."}, \hyperlink{decl_8h_a1233f8e41c964a3bae5a9b655ac1912d}{tune});
910             \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.uheard\_tune++;
911             \textcolor{keywordflow}{break};
912         \}
913         \}
914         \textcolor{comment}{/* Otherwise, falls into next case */}
915     \textcolor{keywordflow}{case} 2:
916         \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
917         You(\textcolor{stringliteral}{"are surrounded by %s glow."}, an(hcolor(\hyperlink{decl_8h_a568b43c12df71a3395b7f0896615b1d7}{NH\_GOLDEN})));
918         \textcolor{comment}{/* if any levels have been lost (and not yet regained),}
919 \textcolor{comment}{           treat this effect like blessed full healing */}
920         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} < \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a4ef7d6892966c8f8250e2d675bc1de05}{ulevelmax}) \{
921         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a4ef7d6892966c8f8250e2d675bc1de05}{ulevelmax} -= 1; \textcolor{comment}{/* see potion.c */}
922         \hyperlink{exper_8c_a85c58829a5a5a36f4ebcdf191ab3871c}{pluslvl}(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
923         \} \textcolor{keywordflow}{else} \{
924         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax} += 5;
925         \textcolor{keywordflow}{if} (\hyperlink{you_8h_ab869582031082f2c352b374dc0e0c3b3}{Upolyd}) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ad0eb213f6299ffa1529fc7864003a044}{mhmax} += 5;
926         \}
927         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a94468a400f14da123d5160f8eefd7641}{uhp} = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade36670a142a7d38051c74740d02002b}{uhpmax};
928         \textcolor{keywordflow}{if} (\hyperlink{you_8h_ab869582031082f2c352b374dc0e0c3b3}{Upolyd}) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a2106fda1b357aa3395703a3abff426f8}{mh} = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ad0eb213f6299ffa1529fc7864003a044}{mhmax};
929         \hyperlink{attrib_8h_a530e7241d82543590fdc65277c88a739}{ABASE}(\hyperlink{attrib_8h_ad53430e3d611a366ec4b5c457b4c67f7}{A\_STR}) = \hyperlink{attrib_8h_adfa30b8be05d1635d619e03dc89480ac}{AMAX}(\hyperlink{attrib_8h_ad53430e3d611a366ec4b5c457b4c67f7}{A\_STR});
930         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a66fb9624339df35ac2f9f08fdccde6c9}{uhunger} < 900) init\_uhunger();
931         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} < 0) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a89d1a963eea3bc32c00233bc9332f24a}{uluck} = 0;
932         make\_blinded(0L,\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
933         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.\hyperlink{structflag_a51f16d01a910b52fdf0c05a44739f7d8}{botl} = 1;
934         \textcolor{keywordflow}{break};
935     \textcolor{keywordflow}{case} 4: \{
936         \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
937         \textcolor{keywordtype}{int} \hyperlink{unionany}{any} = 0;
938 
939         \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind})
940         You\_feel(\textcolor{stringliteral}{"the power of %s."}, \hyperlink{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{u\_gname}());
941         \textcolor{keywordflow}{else} You(\textcolor{stringliteral}{"are surrounded by %s aura."},
942              an(hcolor(\hyperlink{decl_8h_a73163155518f8e8c9de32783a578c07a}{NH\_LIGHT\_BLUE})));
943         \textcolor{keywordflow}{for}(otmp=\hyperlink{decl_8h_a65d03deeacf265a14fa3af961820b33f}{invent}; \hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp}; otmp=otmp->\hyperlink{structobj_ad1c5d790528ee1d8349ef302994789d8}{nobj}) \{
944         \textcolor{keywordflow}{if} (otmp->cursed) \{
945             uncurse(otmp);
946             \textcolor{keywordflow}{if} (!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind}) \{
947             Your(\textcolor{stringliteral}{"%s %s."}, aobjnam(otmp, \textcolor{stringliteral}{"softly glow"}),
948                  hcolor(\hyperlink{decl_8h_a36ae609b5390d5188e707e3236d79b7d}{NH\_AMBER}));
949             otmp->bknown = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
950             ++any;
951             \}
952         \}
953         \}
954         \textcolor{keywordflow}{if} (any) \hyperlink{winprocs_8h_a12feb374290012aafc2340c5ba15f7e8}{update\_inventory}();
955         \textcolor{keywordflow}{break};
956     \}
957     \textcolor{keywordflow}{case} 5: \{
958         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *msg=\textcolor{stringliteral}{"\(\backslash\)"and thus I grant thee the gift of %s!\(\backslash\)""};
959         \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type}, \textcolor{stringliteral}{"Thou hast pleased me with thy progress,"});
960         \textcolor{keywordflow}{if} (!(\hyperlink{youprop_8h_a2dcf930b78fcb4c697ebd7b7b3ebd46f}{HTelepat} & \hyperlink{prop_8h_ac3411a25b5109e75c9398108391b89f7}{INTRINSIC}))  \{
961         \hyperlink{youprop_8h_a2dcf930b78fcb4c697ebd7b7b3ebd46f}{HTelepat} |= \hyperlink{prop_8h_a60f99f5b0a818807c38aa14da2d7a6d1}{FROMOUTSIDE};
962         pline(msg, \textcolor{stringliteral}{"Telepathy"});
963         \textcolor{keywordflow}{if} (\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind}) \hyperlink{display_8c_aa9a8557e452301a77e67c6b9be801775}{see\_monsters}();
964         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!(\hyperlink{youprop_8h_ad47fc1239243c3bc6f9c9c6a0d126199}{HFast} & INTRINSIC))  \{
965         \hyperlink{youprop_8h_ad47fc1239243c3bc6f9c9c6a0d126199}{HFast} |= \hyperlink{prop_8h_a60f99f5b0a818807c38aa14da2d7a6d1}{FROMOUTSIDE};
966         pline(msg, \textcolor{stringliteral}{"Speed"});
967         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!(\hyperlink{youprop_8h_accba17cc8b25ad80d237854d9131ab4a}{HStealth} & INTRINSIC))  \{
968         \hyperlink{youprop_8h_accba17cc8b25ad80d237854d9131ab4a}{HStealth} |= \hyperlink{prop_8h_a60f99f5b0a818807c38aa14da2d7a6d1}{FROMOUTSIDE};
969         pline(msg, \textcolor{stringliteral}{"Stealth"});
970         \} \textcolor{keywordflow}{else} \{
971         \textcolor{keywordflow}{if} (!(\hyperlink{youprop_8h_a49794384534b6c03a81067efa3bbce38}{HProtection} & INTRINSIC))  \{
972             \hyperlink{youprop_8h_a49794384534b6c03a81067efa3bbce38}{HProtection} |= \hyperlink{prop_8h_a60f99f5b0a818807c38aa14da2d7a6d1}{FROMOUTSIDE};
973             \textcolor{keywordflow}{if} (!\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac52be91176a57cbafbcf1703ef9623e2}{ublessed})  \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac52be91176a57cbafbcf1703ef9623e2}{ublessed} = \hyperlink{hack_8h_af107ca092682647f298989038020f9c8}{rn1}(3, 2);
974         \} \textcolor{keywordflow}{else} \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ac52be91176a57cbafbcf1703ef9623e2}{ublessed}++;
975         pline(msg, \textcolor{stringliteral}{"my protection"});
976         \}
977         verbalize(\textcolor{stringliteral}{"Use it wisely in my name!"});
978         \textcolor{keywordflow}{break};
979     \}
980     \textcolor{keywordflow}{case} 7:
981     \textcolor{keywordflow}{case} 8:
982     \textcolor{keywordflow}{case} 9:     \textcolor{comment}{/* KMH -- can occur during full moons */}
983 \textcolor{preprocessor}{#ifdef ELBERETH}
984         \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} >= \hyperlink{pray_8c_ae08701348ec21089f9bbe60f6b5e7507}{PIOUS} && !\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.uhand\_of\_elbereth) \{
985         gcrownu();
986         \textcolor{keywordflow}{break};
987         \} \textcolor{comment}{/* else FALLTHRU */}
988 \textcolor{preprocessor}{#endif  }\textcolor{comment}{/*ELBERETH*/}\textcolor{preprocessor}{}
989     \textcolor{keywordflow}{case} 6: \{
990         \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
991         \textcolor{keywordtype}{int} sp\_no, trycnt = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a6c7263bb25b91825bf7ecaab470d771a}{ulevel} + 1;
992 
993         \hyperlink{pray_8c_a3c5bd4338b52b9ce45fa159cebdd2881}{at\_your\_feet}(\textcolor{stringliteral}{"An object"});
994         \textcolor{comment}{/* not yet known spells given preference over already known ones */}
995         \textcolor{comment}{/* Also, try to grant a spell for which there is a skill slot */}
996         otmp = mkobj(\hyperlink{objclass_8h_aba5935524b39b0fdd148a3d466a5c580}{SPBOOK\_CLASS}, \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
997         \textcolor{keywordflow}{while} (--trycnt > 0) \{
998         \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} != SPE\_BLANK\_PAPER) \{
999             \textcolor{keywordflow}{for} (sp\_no = 0; sp\_no < MAXSPELL; sp\_no++)
1000             \textcolor{keywordflow}{if} (\hyperlink{decl_8h_af9325d9ee4f093df7271a36cf49d1615}{spl\_book}[sp\_no].sp\_id == otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp}) \textcolor{keywordflow}{break};
1001             \textcolor{keywordflow}{if} (sp\_no == MAXSPELL &&
1002             !\hyperlink{skills_8h_ae5451513a874b65ce1695f1adcdb3cf7}{P\_RESTRICTED}(\hyperlink{spell_8c_af8cd6969353c53c1aeddad9a7d8aca4a}{spell\_skilltype}(otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp})))
1003             \textcolor{keywordflow}{break};  \textcolor{comment}{/* usable, but not yet known */}
1004         \} \textcolor{keywordflow}{else} \{
1005             \textcolor{keywordflow}{if} (!\hyperlink{objclass_8h_a6fc960ca847bc1bef7559abb7bf29209}{objects}[SPE\_BLANK\_PAPER].oc\_name\_known ||
1006                 carrying(MAGIC\_MARKER)) \textcolor{keywordflow}{break};
1007         \}
1008         otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} = rnd\_class(\hyperlink{decl_8h_a6ebf295ea3e833b4a1e95f5a672e1821}{bases}[\hyperlink{objclass_8h_aba5935524b39b0fdd148a3d466a5c580}{SPBOOK\_CLASS}], SPE\_BLANK\_PAPER);
1009         \}
1010         bless(otmp);
1011         place\_object(otmp, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}, \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy});
1012         \textcolor{keywordflow}{break};
1013     \}
1014     \textcolor{keywordflow}{default}:    impossible(\textcolor{stringliteral}{"Confused deity!"});
1015         \textcolor{keywordflow}{break};
1016     \}
1017 
1018     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} = rnz(350);
1019     kick\_on\_butt = \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.udemigod ? 1 : 0;
1020 \textcolor{preprocessor}{#ifdef ELBERETH}
1021     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_aaa426b9f3053502028edbe45d2031208}{uevent}.uhand\_of\_elbereth) kick\_on\_butt++;
1022 \textcolor{preprocessor}{#endif}
1023     \textcolor{keywordflow}{if} (kick\_on\_butt) \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} += kick\_on\_butt * rnz(1000);
1024 
1025     \textcolor{keywordflow}{return};
1026 \}
\end{DoxyCode}
\hypertarget{pray_8c_a61079895bf22e534d68de669f9c63836}{\index{pray.\+c@{pray.\+c}!prayer\+\_\+done@{prayer\+\_\+done}}
\index{prayer\+\_\+done@{prayer\+\_\+done}!pray.\+c@{pray.\+c}}
\subsubsection[{prayer\+\_\+done}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+P\+T\+R} int prayer\+\_\+done (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a61079895bf22e534d68de669f9c63836}


Definition at line 1597 of file pray.\+c.



References A\+\_\+\+C\+O\+N, A\+\_\+\+L\+A\+W\+F\+U\+L, align\+\_\+gname(), angrygods(), F\+A\+L\+S\+E, gods\+\_\+upset(), godvoice(), Inhell, K\+I\+L\+L\+E\+D\+\_\+\+B\+Y\+\_\+\+A\+N, on\+\_\+altar, p\+\_\+aligntyp, pleased(), align\+::record, T\+R\+U\+E, align\+::type, u, you\+::ualign, you\+::ublesscnt, and water\+\_\+prayer().



Referenced by dopray().


\begin{DoxyCode}
1598 \{
1599     \hyperlink{align_8h_a3e17b7a656899892e425fc89481aa2ab}{aligntyp} alignment = \hyperlink{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{p\_aligntyp};
1600 
1601     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.uinvulnerable = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE};
1602     \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} == -1) \{
1603     \hyperlink{pray_8c_ae9ee4e56e5f52aab27c55d501c0aa270}{godvoice}(alignment,
1604          alignment == \hyperlink{align_8h_aa21537fe5fcc5cd77de27bc6907ecc6a}{A\_LAWFUL} ?
1605          \textcolor{stringliteral}{"Vile creature, thou durst call upon me?"} :
1606          \textcolor{stringliteral}{"Walk no more, perversion of nature!"});
1607     You\_feel(\textcolor{stringliteral}{"like you are falling apart."});
1608     \textcolor{comment}{/* KMH -- Gods have mastery over unchanging */}
1609     rehumanize();
1610     losehp(rnd(20), \textcolor{stringliteral}{"residual undead turning effect"}, \hyperlink{decl_8h_af4e54910b730baa32b2dfbe4dd2942c1}{KILLED\_BY\_AN});
1611     exercise(\hyperlink{attrib_8h_a82a29f9d3d2390f61fc68b2a352b5da3}{A\_CON}, \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1612     \textcolor{keywordflow}{return}(1);
1613     \}
1614     \textcolor{keywordflow}{if} (\hyperlink{dungeon_8h_a5cd7abaad3082e8a7b2f5ec30e44d2f4}{Inhell}) \{
1615     pline(\textcolor{stringliteral}{"Since you are in Gehennom, %s won't help you."},
1616           \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(alignment));
1617     \textcolor{comment}{/* haltingly aligned is least likely to anger */}
1618     \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record} <= 0 || rnl(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_ab3a768425270c33f059e3ead817e4e83}{record}))
1619         \hyperlink{pray_8c_aa4786bc219e4f070008e558bed51bb33}{angrygods}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});
1620     \textcolor{keywordflow}{return}(0);
1621     \}
1622 
1623     \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} == 0) \{
1624     \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != alignment)
1625         (void) \hyperlink{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}{water\_prayer}(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1626     \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} += rnz(250);
1627     change\_luck(-3);
1628     \hyperlink{pray_8c_a6cabf3685d23faa243c94ea29a606dd4}{gods\_upset}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});
1629     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} == 1) \{
1630     \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}() && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type} != alignment)
1631         (void) \hyperlink{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}{water\_prayer}(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE});
1632     \hyperlink{pray_8c_aa4786bc219e4f070008e558bed51bb33}{angrygods}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});   \textcolor{comment}{/* naughty */}
1633     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{p\_type} == 2) \{
1634     \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}{water\_prayer}(\hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE})) \{
1635         \textcolor{comment}{/* attempted water prayer on a non-coaligned altar */}
1636         \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a073894acd6109cd0c989708fd7c4d8c9}{ublesscnt} += rnz(250);
1637         change\_luck(-3);
1638         \hyperlink{pray_8c_a6cabf3685d23faa243c94ea29a606dd4}{gods\_upset}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});
1639     \} \textcolor{keywordflow}{else} \hyperlink{pray_8c_a002dea99577fe01e5fa0823f4336b970}{pleased}(alignment);
1640     \} \textcolor{keywordflow}{else} \{
1641     \textcolor{comment}{/* coaligned */}
1642     \textcolor{keywordflow}{if}(\hyperlink{pray_8c_a441e247fdf4c05ccfc10d44014228feb}{on\_altar}())
1643         (void) \hyperlink{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}{water\_prayer}(\hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE});
1644     \hyperlink{pray_8c_a002dea99577fe01e5fa0823f4336b970}{pleased}(alignment); \textcolor{comment}{/* nice */}
1645     \}
1646     \textcolor{keywordflow}{return}(1);
1647 \}
\end{DoxyCode}
\hypertarget{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}{\index{pray.\+c@{pray.\+c}!u\+\_\+gname@{u\+\_\+gname}}
\index{u\+\_\+gname@{u\+\_\+gname}!pray.\+c@{pray.\+c}}
\subsubsection[{u\+\_\+gname}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ u\+\_\+gname (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a7caf3b2b9d9a76c2271c621b56f778e4}


Definition at line 1762 of file pray.\+c.



References align\+\_\+gname(), align\+::type, u, and you\+::ualign.



Referenced by altar\+\_\+wrath(), dosacrifice(), doturn(), and pleased().


\begin{DoxyCode}
1763 \{
1764     \textcolor{keywordflow}{return} \hyperlink{pray_8c_af3e995a7dd99833d915ecd826c5f610e}{align\_gname}(\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a3f202dd89a837a9772a9eb1f1965f30c}{ualign}.\hyperlink{structalign_a0dadfa91b9ff06447f91ea8a2b898827}{type});
1765 \}
\end{DoxyCode}
\hypertarget{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}{\index{pray.\+c@{pray.\+c}!water\+\_\+prayer@{water\+\_\+prayer}}
\index{water\+\_\+prayer@{water\+\_\+prayer}!pray.\+c@{pray.\+c}}
\subsubsection[{water\+\_\+prayer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} {\bf boolean} water\+\_\+prayer (
\begin{DoxyParamCaption}
\item[{{\bf boolean}}]{bless\+\_\+water}
\end{DoxyParamCaption}
)}}\label{pray_8c_a8cf859644d8fb5e2099ea3796fdf2ca6}


Definition at line 1032 of file pray.\+c.



References Blind, F\+A\+L\+S\+E, Hallucination, level, N\+H\+\_\+\+B\+L\+A\+C\+K, N\+H\+\_\+\+L\+I\+G\+H\+T\+\_\+\+B\+L\+U\+E, dlevel\+\_\+t\+::objects, obj\+::oclass, otmp, obj\+::otyp, P\+O\+T\+I\+O\+N\+\_\+\+C\+L\+A\+S\+S, obj\+::quan, T\+R\+U\+E, u, you\+::ux, and you\+::uy.



Referenced by prayer\+\_\+done().


\begin{DoxyCode}
1034 \{
1035     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structobj}{obj}* \hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
1036     \textcolor{keyword}{register} \textcolor{keywordtype}{long} changed = 0;
1037     \textcolor{keywordtype}{boolean} other = \hyperlink{global_8h_aa93f0eb578d23995850d61f7d61c55c1}{FALSE}, bc\_known = !(\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind} || \hyperlink{youprop_8h_aa873f7ea0a3d096ef94ff651907f7a76}{Hallucination});
1038 
1039     \textcolor{keywordflow}{for}(otmp = \hyperlink{rm_8h_a721c99bfa099c4225215ba102e91fa39}{level}.\hyperlink{structdlevel__t_ac128f805d01d7746b499596dd3b92a53}{objects}[\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ace2fd92f7f1a640e45775efe6e5f6cf7}{ux}][\hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_a8571cf3a9cfc41c3f877d0f56cda11a9}{uy}]; otmp; otmp = otmp->nexthere) \{
1040     \textcolor{comment}{/* turn water into (un)holy water */}
1041     \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == POT\_WATER &&
1042         (bless\_water ? !otmp->blessed : !otmp->cursed)) \{
1043         otmp->blessed = bless\_water;
1044         otmp->cursed = !bless\_water;
1045         otmp->bknown = bc\_known;
1046         changed += otmp->\hyperlink{structobj_ad08c0ed1a746fbb52377ecd7e4220578}{quan};
1047     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(otmp->\hyperlink{structobj_a716ba3ee00602dede9ea5c68c74d45bd}{oclass} == \hyperlink{objclass_8h_a05335e5ee18dfa33af1c40056fe8fab9}{POTION\_CLASS})
1048         other = \hyperlink{global_8h_aa8cecfc5c5c054d2875c03e77b7be15d}{TRUE};
1049     \}
1050     \textcolor{keywordflow}{if}(!\hyperlink{youprop_8h_a1b6e24068169af4177e15b48595c08c9}{Blind} && changed) \{
1051     pline(\textcolor{stringliteral}{"%s potion%s on the altar glow%s %s for a moment."},
1052           ((other && changed > 1L) ? \textcolor{stringliteral}{"Some of the"} :
1053                     (other ? \textcolor{stringliteral}{"One of the"} : \textcolor{stringliteral}{"The"})),
1054           ((other || changed > 1L) ? \textcolor{stringliteral}{"s"} : \textcolor{stringliteral}{""}), (changed > 1L ? \textcolor{stringliteral}{""} : \textcolor{stringliteral}{"s"}),
1055           (bless\_water ? hcolor(\hyperlink{decl_8h_a73163155518f8e8c9de32783a578c07a}{NH\_LIGHT\_BLUE}) : hcolor(\hyperlink{decl_8h_a55df3d1bd35f9756e4d497a2762a6c70}{NH\_BLACK})));
1056     \}
1057     \textcolor{keywordflow}{return}((\textcolor{keywordtype}{boolean})(changed > 0L));
1058 \}
\end{DoxyCode}
\hypertarget{pray_8c_a21015c4f3b8fe89777f97aee852a6dbc}{\index{pray.\+c@{pray.\+c}!worst\+\_\+cursed\+\_\+item@{worst\+\_\+cursed\+\_\+item}}
\index{worst\+\_\+cursed\+\_\+item@{worst\+\_\+cursed\+\_\+item}!pray.\+c@{pray.\+c}}
\subsubsection[{worst\+\_\+cursed\+\_\+item}]{\setlength{\rightskip}{0pt plus 5cm}{\bf S\+T\+A\+T\+I\+C\+\_\+\+O\+V\+L} struct {\bf obj}$\ast$ worst\+\_\+cursed\+\_\+item (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{pray_8c_a21015c4f3b8fe89777f97aee852a6dbc}


Definition at line 206 of file pray.\+c.



References bimanual, Cursed\+\_\+obj, H\+V\+Y\+\_\+\+E\+N\+C\+U\+M\+B\+E\+R, invent, obj\+::nobj, otmp, obj\+::otyp, you\+::twoweap, u, uamul, uarm, uarmc, uarmf, uarmg, uarmh, uarms, ublindf, uleft, uright, uswapwep, uwep, and welded().



Referenced by fix\+\_\+worst\+\_\+trouble(), and in\+\_\+trouble().


\begin{DoxyCode}
207 \{
208     \textcolor{keyword}{register} \textcolor{keyword}{struct }\hyperlink{structobj}{obj} *\hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
209 
210     \textcolor{comment}{/* if strained or worse, check for loadstone first */}
211     \textcolor{keywordflow}{if} (near\_capacity() >= \hyperlink{hack_8h_a3c8f959355dee01b09fa53cc6caf3651}{HVY\_ENCUMBER}) \{
212     \textcolor{keywordflow}{for} (otmp = \hyperlink{decl_8h_a65d03deeacf265a14fa3af961820b33f}{invent}; \hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp}; otmp = otmp->\hyperlink{structobj_ad1c5d790528ee1d8349ef302994789d8}{nobj})
213         \textcolor{keywordflow}{if} (\hyperlink{pray_8c_a68224ec61236b8f309d6aaa956b0b783}{Cursed\_obj}(otmp, LOADSTONE)) \textcolor{keywordflow}{return} \hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
214     \}
215     \textcolor{comment}{/* weapon takes precedence if it is interfering}
216 \textcolor{comment}{       with taking off a ring or putting on a shield */}
217     \textcolor{keywordflow}{if} (\hyperlink{wield_8c_ade2321e11c702d69c6fd7b261ae62040}{welded}(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}) && (\hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright} || \hyperlink{obj_8h_a6cd644088e281f2bcc78f1d94dc91476}{bimanual}(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep}))) \{   \textcolor{comment}{/* weapon */}
218     otmp = \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep};
219     \textcolor{comment}{/* gloves come next, due to rings */}
220     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a374ab5e4582cfafa2d4ef57211f53293}{uarmg} && \hyperlink{decl_8h_a374ab5e4582cfafa2d4ef57211f53293}{uarmg}->cursed) \{      \textcolor{comment}{/* gloves */}
221     otmp = \hyperlink{decl_8h_a374ab5e4582cfafa2d4ef57211f53293}{uarmg};
222     \textcolor{comment}{/* then shield due to two handed weapons and spells */}
223     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_aee21972b230a8408f2b85e26f195e91d}{uarms} && \hyperlink{decl_8h_aee21972b230a8408f2b85e26f195e91d}{uarms}->cursed) \{      \textcolor{comment}{/* shield */}
224     otmp = \hyperlink{decl_8h_aee21972b230a8408f2b85e26f195e91d}{uarms};
225     \textcolor{comment}{/* then cloak due to body armor */}
226     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a586be55c11f20a38a490f6bb922a437d}{uarmc} && \hyperlink{decl_8h_a586be55c11f20a38a490f6bb922a437d}{uarmc}->cursed) \{      \textcolor{comment}{/* cloak */}
227     otmp = \hyperlink{decl_8h_a586be55c11f20a38a490f6bb922a437d}{uarmc};
228     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_ad6e6532c78ab5fe0078daf4cf352f3c1}{uarm} && \hyperlink{decl_8h_ad6e6532c78ab5fe0078daf4cf352f3c1}{uarm}->cursed) \{          \textcolor{comment}{/* suit */}
229     otmp = \hyperlink{decl_8h_ad6e6532c78ab5fe0078daf4cf352f3c1}{uarm};
230     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a5990ad491dff32418089ab967be227a5}{uarmh} && \hyperlink{decl_8h_a5990ad491dff32418089ab967be227a5}{uarmh}->cursed) \{      \textcolor{comment}{/* helmet */}
231     otmp = \hyperlink{decl_8h_a5990ad491dff32418089ab967be227a5}{uarmh};
232     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf} && \hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf}->cursed) \{      \textcolor{comment}{/* boots */}
233     otmp = \hyperlink{decl_8h_a11e2d0f62fa1b42374054c939ebb288f}{uarmf};
234 \textcolor{preprocessor}{#ifdef TOURIST}
235     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (uarmu && uarmu->cursed) \{        \textcolor{comment}{/* shirt */}
236     otmp = uarmu;
237 \textcolor{preprocessor}{#endif}
238     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a602a9d34078660dd260aed96b2abd4ca}{uamul} && \hyperlink{decl_8h_a602a9d34078660dd260aed96b2abd4ca}{uamul}->cursed) \{      \textcolor{comment}{/* amulet */}
239     otmp = \hyperlink{decl_8h_a602a9d34078660dd260aed96b2abd4ca}{uamul};
240     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_abc75269125700f0668785d8f073a3646}{uleft} && \hyperlink{decl_8h_abc75269125700f0668785d8f073a3646}{uleft}->cursed) \{      \textcolor{comment}{/* left ring */}
241     otmp = \hyperlink{decl_8h_abc75269125700f0668785d8f073a3646}{uleft};
242     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright} && \hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright}->cursed) \{      \textcolor{comment}{/* right ring */}
243     otmp = \hyperlink{decl_8h_a2d7c456e0ac88316ae0b9e8ae32d17b3}{uright};
244     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_aaac1dc498d3597b63617d7056c3e1c1b}{ublindf} && \hyperlink{decl_8h_aaac1dc498d3597b63617d7056c3e1c1b}{ublindf}->cursed) \{      \textcolor{comment}{/* eyewear */}
245     otmp = \hyperlink{decl_8h_aaac1dc498d3597b63617d7056c3e1c1b}{ublindf};  \textcolor{comment}{/* must be non-blinding lenses */}
246     \textcolor{comment}{/* if weapon wasn't handled above, do it now */}
247     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{wield_8c_ade2321e11c702d69c6fd7b261ae62040}{welded}(\hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep})) \{                \textcolor{comment}{/* weapon */}
248     otmp = \hyperlink{decl_8h_a1aefaef88eef9075d8136d19410fd3b1}{uwep};
249     \textcolor{comment}{/* active secondary weapon even though it isn't welded */}
250     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{decl_8h_ab2586a729017fc01f4612808c80c1945}{uswapwep} && \hyperlink{decl_8h_ab2586a729017fc01f4612808c80c1945}{uswapwep}->cursed && \hyperlink{decl_8h_a342ae6d3415cd569bcea437201040743}{u}.\hyperlink{structyou_ade2cee6956bba775aa796bba6ae857ec}{twoweap}) \{
251     otmp = \hyperlink{decl_8h_ab2586a729017fc01f4612808c80c1945}{uswapwep};
252     \textcolor{comment}{/* all worn items ought to be handled by now */}
253     \} \textcolor{keywordflow}{else} \{
254     \textcolor{keywordflow}{for} (otmp = \hyperlink{decl_8h_a65d03deeacf265a14fa3af961820b33f}{invent}; \hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp}; otmp = otmp->\hyperlink{structobj_ad1c5d790528ee1d8349ef302994789d8}{nobj}) \{
255         \textcolor{keywordflow}{if} (!otmp->cursed) \textcolor{keywordflow}{continue};
256         \textcolor{keywordflow}{if} (otmp->\hyperlink{structobj_a95eb282afebd3599996035e8aab71751}{otyp} == LOADSTONE || confers\_luck(otmp))
257         \textcolor{keywordflow}{break};
258     \}
259     \}
260     \textcolor{keywordflow}{return} \hyperlink{mhitu_8c_a8cf94e09e1a72daf7050a2817ba70974}{otmp};
261 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{pray_8c_af51a4b26d88a1b7a6f362b1b0d47865c}{\index{pray.\+c@{pray.\+c}!godvoices@{godvoices}}
\index{godvoices@{godvoices}!pray.\+c@{pray.\+c}}
\subsubsection[{godvoices}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ godvoices\mbox{[}$\,$\mbox{]}\hspace{0.3cm}{\ttfamily [static]}}}\label{pray_8c_af51a4b26d88a1b7a6f362b1b0d47865c}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \textcolor{stringliteral}{"booms out"},
    \textcolor{stringliteral}{"thunders"},
    \textcolor{stringliteral}{"rings out"},
    \textcolor{stringliteral}{"booms"},
\}
\end{DoxyCode}


Definition at line 49 of file pray.\+c.

\hypertarget{pray_8c_ab5d33410760309a3f6faa2b20924e009}{\index{pray.\+c@{pray.\+c}!Moloch@{Moloch}}
\index{Moloch@{Moloch}!pray.\+c@{pray.\+c}}
\subsubsection[{Moloch}]{\setlength{\rightskip}{0pt plus 5cm}{\bf const} char$\ast$ Moloch = \char`\"{}Moloch\char`\"{}\hspace{0.3cm}{\ttfamily [static]}}}\label{pray_8c_ab5d33410760309a3f6faa2b20924e009}


Definition at line 47 of file pray.\+c.



Referenced by align\+\_\+gname(), and halu\+\_\+gname().

\hypertarget{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}{\index{pray.\+c@{pray.\+c}!p\+\_\+aligntyp@{p\+\_\+aligntyp}}
\index{p\+\_\+aligntyp@{p\+\_\+aligntyp}!pray.\+c@{pray.\+c}}
\subsubsection[{p\+\_\+aligntyp}]{\setlength{\rightskip}{0pt plus 5cm}{\bf aligntyp} p\+\_\+aligntyp\hspace{0.3cm}{\ttfamily [static]}}}\label{pray_8c_aecc9a4052598097dda54e8f21f4a7c89}


Definition at line 57 of file pray.\+c.



Referenced by prayer\+\_\+done().

\hypertarget{pray_8c_a34114bd61cdbc0e7781089fadc444f1a}{\index{pray.\+c@{pray.\+c}!p\+\_\+trouble@{p\+\_\+trouble}}
\index{p\+\_\+trouble@{p\+\_\+trouble}!pray.\+c@{pray.\+c}}
\subsubsection[{p\+\_\+trouble}]{\setlength{\rightskip}{0pt plus 5cm}int p\+\_\+trouble\hspace{0.3cm}{\ttfamily [static]}}}\label{pray_8c_a34114bd61cdbc0e7781089fadc444f1a}


Definition at line 58 of file pray.\+c.

\hypertarget{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}{\index{pray.\+c@{pray.\+c}!p\+\_\+type@{p\+\_\+type}}
\index{p\+\_\+type@{p\+\_\+type}!pray.\+c@{pray.\+c}}
\subsubsection[{p\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}int p\+\_\+type\hspace{0.3cm}{\ttfamily [static]}}}\label{pray_8c_a58d71f72fcc501a77db2bdf8182fad5c}


Definition at line 59 of file pray.\+c.

\hypertarget{pray_8c_ad9e5e939d01dc5fba6482d4ceefa259b}{\index{pray.\+c@{pray.\+c}!sacrifice\+\_\+types@{sacrifice\+\_\+types}}
\index{sacrifice\+\_\+types@{sacrifice\+\_\+types}!pray.\+c@{pray.\+c}}
\subsubsection[{sacrifice\+\_\+types}]{\setlength{\rightskip}{0pt plus 5cm}{\bf N\+E\+A\+R\+D\+A\+T\+A} {\bf const} char sacrifice\+\_\+types\mbox{[}$\,$\mbox{]} = \{ {\bf F\+O\+O\+D\+\_\+\+C\+L\+A\+S\+S}, {\bf A\+M\+U\+L\+E\+T\+\_\+\+C\+L\+A\+S\+S}, 0 \}\hspace{0.3cm}{\ttfamily [static]}}}\label{pray_8c_ad9e5e939d01dc5fba6482d4ceefa259b}


Definition at line 1092 of file pray.\+c.

