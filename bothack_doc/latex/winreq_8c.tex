\hypertarget{winreq_8c}{\section{nethack/sys/amiga/winreq.c File Reference}
\label{winreq_8c}\index{nethack/sys/amiga/winreq.\+c@{nethack/sys/amiga/winreq.\+c}}
}
{\ttfamily \#include \char`\"{}N\+H\+:sys/amiga/windefs.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}N\+H\+:sys/amiga/winext.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}N\+H\+:sys/amiga/winproto.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}N\+H\+:sys/amiga/colorwin.\+c\char`\"{}}\\*
{\ttfamily \#include \char`\"{}N\+H\+:sys/amiga/clipwin.\+c\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structCOLDEF}{C\+O\+L\+D\+E\+F}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{winreq_8c_aa33cf60e4cdbcb694ee95a81f4c5d862}{G\+A\+D\+B\+L\+U\+E\+P\+E\+N}~2
\item 
\#define \hyperlink{winreq_8c_a76d331061bccaf012df3e26894ef4348}{G\+A\+D\+R\+E\+D\+P\+E\+N}~3
\item 
\#define \hyperlink{winreq_8c_a095a4b2b6109d27802e763c76d1d7f48}{G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N}~4
\item 
\#define \hyperlink{winreq_8c_aa063aa3287f28db151f7d92b6cf8d989}{G\+A\+D\+C\+O\+L\+O\+K\+A\+Y}~5
\item 
\#define \hyperlink{winreq_8c_aa4be93b3b6299698f4909de039117dae}{G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L}~6
\item 
\#define \hyperlink{winreq_8c_a7172d4fe1c4b1b1d9f913dc52266fc2d}{G\+A\+D\+C\+O\+L\+S\+A\+V\+E}~7
\item 
\#define \hyperlink{winreq_8c_abafe8db20c259bd4cf9e8e0c374937c5}{Str\+String}~((char $\ast$)(((struct String\+Info $\ast$)(String.\+Special\+Info))-\/$>$Buffer))
\item 
\#define \hyperlink{winreq_8c_aa4e3cb2d54808a145ef60a0a53f593e2}{X\+S\+I\+Z\+E}~2
\item 
\#define \hyperlink{winreq_8c_afaefa0d521156ca605f526c14d05e272}{Y\+S\+I\+Z\+E}~3
\item 
\#define \hyperlink{winreq_8c_a7c4db99b45d8d9e6d58397cf16b350cc}{X\+C\+L\+I\+P}~4
\item 
\#define \hyperlink{winreq_8c_a16e8a7080fc512b675a1c7260659308d}{Y\+C\+L\+I\+P}~5
\item 
\#define \hyperlink{winreq_8c_a0258d189f5e75c01d285f0c64fd75cf3}{G\+A\+D\+O\+K\+A\+Y}~6
\item 
\#define \hyperlink{winreq_8c_a9220cda432f9aaaee986619df2f9c167}{G\+A\+D\+C\+A\+N\+C\+E\+L}~7
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{winreq_8c_a6d1201141039ce25fd7bc323639b7507}{Clear\+Col} (struct Window $\ast$w)
\item 
void \hyperlink{winreq_8c_a7f17e01fc784d2a46a8345921b1ff284}{Edit\+Color} ()
\item 
void \hyperlink{winreq_8c_adb2722a7928452baccc065924be79730}{Show\+Clip\+Values} (struct Window $\ast$nw)
\item 
void \hyperlink{winreq_8c_a614ba0cf5df7db4e8e464ea269143a38}{Edit\+Clipping} (void)
\item 
char $\ast$ \hyperlink{winreq_8c_ac27f2c6cf41fe0cd9d8e47c6e23e4c0a}{dirname} (char $\ast$str)
\item 
char $\ast$ \hyperlink{winreq_8c_a817969c4fe20a121e99fda658e88fbc7}{basename} (char $\ast$str)
\item 
\hyperlink{winreq_8c_a6e11e88b3d9d387b9a008c79a3b8fb0c}{filecopy} (char $\ast$from, char $\ast$to)
\item 
void \hyperlink{winreq_8c_aab86548f4b4be239a38c53e5bb10302a}{Draw\+Col} (struct Window $\ast$w, int idx, \hyperlink{bitmfile_8h_a0428171499a4ab7aebc2bf058ae337df}{U\+W\+O\+R\+D} $\ast$colors)
\item 
void \hyperlink{winreq_8c_a11c44eb0694ea5e51081e54d8df22cd2}{Disp\+Col} (struct Window $\ast$w, int idx, \hyperlink{bitmfile_8h_a0428171499a4ab7aebc2bf058ae337df}{U\+W\+O\+R\+D} $\ast$colors)
\item 
void \hyperlink{winreq_8c_aefd817fcd397d9ebd4e825d89a45956d}{amii\+\_\+setpens} (int \hyperlink{wingem1_8c_a66e3fedede6aa372e5196e55e5e8d5c1}{count})
\item 
void \hyperlink{winreq_8c_a411c38597d37bc6e2afc98eed3142d96}{amii\+\_\+getlin} (char $\ast$prompt, char $\ast$bufp) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
void \hyperlink{winreq_8c_a699c3002847c220802a043db1d0f276a}{getlind} (char $\ast$prompt, char $\ast$bufp, \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const} char $\ast$dflt) \hyperlink{tradstdc_8h_a2c212835823e3c54a8ab6d95c652660e}{const}
\item 
void \hyperlink{winreq_8c_a7672fd64345f81b4f1b9710d238009cf}{amii\+\_\+change\+\_\+color} (int pen, long val, int rev)
\item 
char $\ast$ \hyperlink{winreq_8c_a6b8932380b764dfb01ac57a73fdf9050}{amii\+\_\+get\+\_\+color\+\_\+string} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{bitmfile_8h_aa068c7f96c3fdd66282567bcb068db80}{U\+B\+Y\+T\+E} \hyperlink{winreq_8c_aa81a4c4fa2c44bb7b58e03515f20da1a}{U\+N\+D\+O\+B\+U\+F\+F\+E\+R} \mbox{[}300\mbox{]}
\item 
S\+H\+O\+R\+T \hyperlink{winreq_8c_a1381d91aade7627f31ecd17317b7c353}{Border\+Vectors1} \mbox{[}$\,$\mbox{]} = \{ 0,0, 57,0, 57,11, 0,11, 0,0 \}
\item 
struct Border \hyperlink{winreq_8c_a1e14c45b3bd984ebc02f913e761eb319}{Border1} = \{ -\/1,-\/1, 3,0,J\+A\+M1, 5, \hyperlink{winreq_8c_a1381d91aade7627f31ecd17317b7c353}{Border\+Vectors1}, \hyperlink{uudecode_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+L\+L} \}
\item 
struct Intui\+Text \hyperlink{winreq_8c_acb318cf197379a7468e980260d088469}{I\+Text1} = \{ 3,0,J\+A\+M1, 4,1, \hyperlink{uudecode_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+L\+L}, (\hyperlink{bitmfile_8h_aa068c7f96c3fdd66282567bcb068db80}{U\+B\+Y\+T\+E} $\ast$)\char`\"{}Cancel\char`\"{}, N\+U\+L\+L \}
\item 
struct Gadget \hyperlink{winreq_8c_ae33165f9a2f6158045b42e35c9b17ad9}{Gadget2}
\item 
\hyperlink{bitmfile_8h_aa068c7f96c3fdd66282567bcb068db80}{U\+B\+Y\+T\+E} \hyperlink{winreq_8c_aa8466423b14b92c751f6d5b6b0ef361c}{Str\+String\+S\+I\+Buff} \mbox{[}300\mbox{]}
\item 
struct String\+Info \hyperlink{winreq_8c_ade42a729d5f0cdf653d9ee52d9498090}{Str\+String\+S\+Info}
\item 
S\+H\+O\+R\+T \hyperlink{winreq_8c_a84e8d4156ff66493213a02bcdc659a50}{Border\+Vectors2} \mbox{[}$\,$\mbox{]} = \{ 0,0, 439,0, 439,11, 0,11, 0,0 \}
\item 
struct Border \hyperlink{winreq_8c_a57013895180c8728e3091d870ff7dfd8}{Border2} = \{ -\/1,-\/1, 3,0,J\+A\+M1, 5, \hyperlink{winreq_8c_a84e8d4156ff66493213a02bcdc659a50}{Border\+Vectors2}, \hyperlink{uudecode_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\+U\+L\+L} \}
\item 
struct Gadget \hyperlink{winreq_8c_a390a5f3d86203009670d84592ac44102}{String}
\item 
struct New\+Window \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{Str\+Window}
\item 
struct \hyperlink{structCOLDEF}{C\+O\+L\+D\+E\+F} \hyperlink{winreq_8c_ad3d523ee67e85337f3fc19e7676f0282}{amii\+\_\+colnames} \mbox{[}\hyperlink{amiconf_8h_a551015331d3f91ae1ca3cb425e24e5ea}{A\+M\+I\+I\+\_\+\+M\+A\+X\+C\+O\+L\+O\+R\+S}\mbox{]}
\item 
struct \hyperlink{structCOLDEF}{C\+O\+L\+D\+E\+F} \hyperlink{winreq_8c_a7e9a644e2ecc7e3b41612d65612e6d5e}{amiv\+\_\+colnames} \mbox{[}\hyperlink{amiconf_8h_a551015331d3f91ae1ca3cb425e24e5ea}{A\+M\+I\+I\+\_\+\+M\+A\+X\+C\+O\+L\+O\+R\+S}\mbox{]}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{winreq_8c_aa33cf60e4cdbcb694ee95a81f4c5d862}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+B\+L\+U\+E\+P\+E\+N@{G\+A\+D\+B\+L\+U\+E\+P\+E\+N}}
\index{G\+A\+D\+B\+L\+U\+E\+P\+E\+N@{G\+A\+D\+B\+L\+U\+E\+P\+E\+N}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+B\+L\+U\+E\+P\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+B\+L\+U\+E\+P\+E\+N~2}}\label{winreq_8c_aa33cf60e4cdbcb694ee95a81f4c5d862}


Definition at line 9 of file winreq.\+c.



Referenced by Edit\+Color().

\hypertarget{winreq_8c_a9220cda432f9aaaee986619df2f9c167}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+C\+A\+N\+C\+E\+L@{G\+A\+D\+C\+A\+N\+C\+E\+L}}
\index{G\+A\+D\+C\+A\+N\+C\+E\+L@{G\+A\+D\+C\+A\+N\+C\+E\+L}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+C\+A\+N\+C\+E\+L}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+C\+A\+N\+C\+E\+L~7}}\label{winreq_8c_a9220cda432f9aaaee986619df2f9c167}


Definition at line 51 of file winreq.\+c.



Referenced by Edit\+Clipping().

\hypertarget{winreq_8c_aa4be93b3b6299698f4909de039117dae}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L@{G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L}}
\index{G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L@{G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L~6}}\label{winreq_8c_aa4be93b3b6299698f4909de039117dae}


Definition at line 13 of file winreq.\+c.



Referenced by Edit\+Color().

\hypertarget{winreq_8c_aa063aa3287f28db151f7d92b6cf8d989}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+C\+O\+L\+O\+K\+A\+Y@{G\+A\+D\+C\+O\+L\+O\+K\+A\+Y}}
\index{G\+A\+D\+C\+O\+L\+O\+K\+A\+Y@{G\+A\+D\+C\+O\+L\+O\+K\+A\+Y}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+C\+O\+L\+O\+K\+A\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+C\+O\+L\+O\+K\+A\+Y~5}}\label{winreq_8c_aa063aa3287f28db151f7d92b6cf8d989}


Definition at line 12 of file winreq.\+c.



Referenced by Edit\+Color().

\hypertarget{winreq_8c_a7172d4fe1c4b1b1d9f913dc52266fc2d}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+C\+O\+L\+S\+A\+V\+E@{G\+A\+D\+C\+O\+L\+S\+A\+V\+E}}
\index{G\+A\+D\+C\+O\+L\+S\+A\+V\+E@{G\+A\+D\+C\+O\+L\+S\+A\+V\+E}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+C\+O\+L\+S\+A\+V\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+C\+O\+L\+S\+A\+V\+E~7}}\label{winreq_8c_a7172d4fe1c4b1b1d9f913dc52266fc2d}


Definition at line 14 of file winreq.\+c.



Referenced by Edit\+Color().

\hypertarget{winreq_8c_a095a4b2b6109d27802e763c76d1d7f48}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N@{G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N}}
\index{G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N@{G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N~4}}\label{winreq_8c_a095a4b2b6109d27802e763c76d1d7f48}


Definition at line 11 of file winreq.\+c.



Referenced by Edit\+Color().

\hypertarget{winreq_8c_a0258d189f5e75c01d285f0c64fd75cf3}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+O\+K\+A\+Y@{G\+A\+D\+O\+K\+A\+Y}}
\index{G\+A\+D\+O\+K\+A\+Y@{G\+A\+D\+O\+K\+A\+Y}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+O\+K\+A\+Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+O\+K\+A\+Y~6}}\label{winreq_8c_a0258d189f5e75c01d285f0c64fd75cf3}


Definition at line 50 of file winreq.\+c.



Referenced by Edit\+Clipping().

\hypertarget{winreq_8c_a76d331061bccaf012df3e26894ef4348}{\index{winreq.\+c@{winreq.\+c}!G\+A\+D\+R\+E\+D\+P\+E\+N@{G\+A\+D\+R\+E\+D\+P\+E\+N}}
\index{G\+A\+D\+R\+E\+D\+P\+E\+N@{G\+A\+D\+R\+E\+D\+P\+E\+N}!winreq.\+c@{winreq.\+c}}
\subsubsection[{G\+A\+D\+R\+E\+D\+P\+E\+N}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\+A\+D\+R\+E\+D\+P\+E\+N~3}}\label{winreq_8c_a76d331061bccaf012df3e26894ef4348}


Definition at line 10 of file winreq.\+c.



Referenced by Edit\+Color().

\hypertarget{winreq_8c_abafe8db20c259bd4cf9e8e0c374937c5}{\index{winreq.\+c@{winreq.\+c}!Str\+String@{Str\+String}}
\index{Str\+String@{Str\+String}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Str\+String}]{\setlength{\rightskip}{0pt plus 5cm}\#define Str\+String~((char $\ast$)(((struct String\+Info $\ast$)(String.\+Special\+Info))-\/$>$Buffer))}}\label{winreq_8c_abafe8db20c259bd4cf9e8e0c374937c5}


Definition at line 35 of file winreq.\+c.

\hypertarget{winreq_8c_a7c4db99b45d8d9e6d58397cf16b350cc}{\index{winreq.\+c@{winreq.\+c}!X\+C\+L\+I\+P@{X\+C\+L\+I\+P}}
\index{X\+C\+L\+I\+P@{X\+C\+L\+I\+P}!winreq.\+c@{winreq.\+c}}
\subsubsection[{X\+C\+L\+I\+P}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\+C\+L\+I\+P~4}}\label{winreq_8c_a7c4db99b45d8d9e6d58397cf16b350cc}


Definition at line 48 of file winreq.\+c.



Referenced by Edit\+Clipping().

\hypertarget{winreq_8c_aa4e3cb2d54808a145ef60a0a53f593e2}{\index{winreq.\+c@{winreq.\+c}!X\+S\+I\+Z\+E@{X\+S\+I\+Z\+E}}
\index{X\+S\+I\+Z\+E@{X\+S\+I\+Z\+E}!winreq.\+c@{winreq.\+c}}
\subsubsection[{X\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\+S\+I\+Z\+E~2}}\label{winreq_8c_aa4e3cb2d54808a145ef60a0a53f593e2}


Definition at line 46 of file winreq.\+c.



Referenced by Edit\+Clipping().

\hypertarget{winreq_8c_a16e8a7080fc512b675a1c7260659308d}{\index{winreq.\+c@{winreq.\+c}!Y\+C\+L\+I\+P@{Y\+C\+L\+I\+P}}
\index{Y\+C\+L\+I\+P@{Y\+C\+L\+I\+P}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Y\+C\+L\+I\+P}]{\setlength{\rightskip}{0pt plus 5cm}\#define Y\+C\+L\+I\+P~5}}\label{winreq_8c_a16e8a7080fc512b675a1c7260659308d}


Definition at line 49 of file winreq.\+c.



Referenced by Edit\+Clipping().

\hypertarget{winreq_8c_afaefa0d521156ca605f526c14d05e272}{\index{winreq.\+c@{winreq.\+c}!Y\+S\+I\+Z\+E@{Y\+S\+I\+Z\+E}}
\index{Y\+S\+I\+Z\+E@{Y\+S\+I\+Z\+E}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Y\+S\+I\+Z\+E}]{\setlength{\rightskip}{0pt plus 5cm}\#define Y\+S\+I\+Z\+E~3}}\label{winreq_8c_afaefa0d521156ca605f526c14d05e272}


Definition at line 47 of file winreq.\+c.



Referenced by Edit\+Clipping().



\subsection{Function Documentation}
\hypertarget{winreq_8c_a7672fd64345f81b4f1b9710d238009cf}{\index{winreq.\+c@{winreq.\+c}!amii\+\_\+change\+\_\+color@{amii\+\_\+change\+\_\+color}}
\index{amii\+\_\+change\+\_\+color@{amii\+\_\+change\+\_\+color}!winreq.\+c@{winreq.\+c}}
\subsubsection[{amii\+\_\+change\+\_\+color}]{\setlength{\rightskip}{0pt plus 5cm}void amii\+\_\+change\+\_\+color (
\begin{DoxyParamCaption}
\item[{int}]{pen, }
\item[{long}]{val, }
\item[{int}]{rev}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a7672fd64345f81b4f1b9710d238009cf}


Definition at line 1149 of file winreq.\+c.


\begin{DoxyCode}
1152 \{
1153     \textcolor{keywordflow}{if}( rev )
1154     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap[ pen ] = ~val;
1155     \textcolor{keywordflow}{else}
1156     \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap[ pen ] = val;
1157 
1158     \textcolor{keywordflow}{if}( \hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen} )
1159     LoadRGB4( &\hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen}->ViewPort, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap, 
      \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors} );
1160 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a6b8932380b764dfb01ac57a73fdf9050}{\index{winreq.\+c@{winreq.\+c}!amii\+\_\+get\+\_\+color\+\_\+string@{amii\+\_\+get\+\_\+color\+\_\+string}}
\index{amii\+\_\+get\+\_\+color\+\_\+string@{amii\+\_\+get\+\_\+color\+\_\+string}!winreq.\+c@{winreq.\+c}}
\subsubsection[{amii\+\_\+get\+\_\+color\+\_\+string}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ amii\+\_\+get\+\_\+color\+\_\+string (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a6b8932380b764dfb01ac57a73fdf9050}


Definition at line 1163 of file winreq.\+c.


\begin{DoxyCode}
1164 \{
1165     \textcolor{keywordtype}{int} i;
1166     \textcolor{keywordtype}{char} s[ 10 ];
1167     \textcolor{keyword}{static} \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[ \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ} ];
1168 
1169     *buf = 0;
1170     \textcolor{keywordflow}{for}( i = 0; i < \hyperlink{hack_8h_abb702d8b501669a23aa0ab3b281b9384}{min}(32,\hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}); ++i )
1171     \{
1172         sprintf( s, \textcolor{stringliteral}{"%s%03lx"}, i ? \textcolor{stringliteral}{"/"} : \textcolor{stringliteral}{""}, (\textcolor{keywordtype}{long})\hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap[ i ] );
1173     strcat( buf, s );
1174     \}
1175 
1176     \textcolor{keywordflow}{return}( buf );
1177 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a411c38597d37bc6e2afc98eed3142d96}{\index{winreq.\+c@{winreq.\+c}!amii\+\_\+getlin@{amii\+\_\+getlin}}
\index{amii\+\_\+getlin@{amii\+\_\+getlin}!winreq.\+c@{winreq.\+c}}
\subsubsection[{amii\+\_\+getlin}]{\setlength{\rightskip}{0pt plus 5cm}void amii\+\_\+getlin (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{prompt, }
\item[{char $\ast$}]{bufp}
\end{DoxyParamCaption}
) const}}\label{winreq_8c_a411c38597d37bc6e2afc98eed3142d96}


Definition at line 946 of file winreq.\+c.


\begin{DoxyCode}
949 \{
950     \hyperlink{winreq_8c_a699c3002847c220802a043db1d0f276a}{getlind}(prompt,bufp,0);
951 \}
\end{DoxyCode}
\hypertarget{winreq_8c_aefd817fcd397d9ebd4e825d89a45956d}{\index{winreq.\+c@{winreq.\+c}!amii\+\_\+setpens@{amii\+\_\+setpens}}
\index{amii\+\_\+setpens@{amii\+\_\+setpens}!winreq.\+c@{winreq.\+c}}
\subsubsection[{amii\+\_\+setpens}]{\setlength{\rightskip}{0pt plus 5cm}void amii\+\_\+setpens (
\begin{DoxyParamCaption}
\item[{int}]{count}
\end{DoxyParamCaption}
)}}\label{winreq_8c_aefd817fcd397d9ebd4e825d89a45956d}


Definition at line 879 of file winreq.\+c.



Referenced by parse\+\_\+config\+\_\+line(), and restgamestate().


\begin{DoxyCode}
880 \{
881 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
882     \textcolor{keyword}{struct }EasyStruct ea = \{
883     \textcolor{keyword}{sizeof}( \textcolor{keyword}{struct }EasyStruct ),
884     0l,
885     "NetHack Request",
886     "Number of pens requested(%ld) not correct\textcolor{stringliteral}{",}
887 \textcolor{stringliteral}{    "}Use \textcolor{keywordflow}{default} pens|Use requested pens\textcolor{stringliteral}{"}
888 \textcolor{stringliteral}{    \};}
889 \textcolor{stringliteral}{    struct EasyStruct ea2 = \{}
890 \textcolor{stringliteral}{    sizeof( struct EasyStruct ),}
891 \textcolor{stringliteral}{    0l,}
892 \textcolor{stringliteral}{    "}NetHack Request\textcolor{stringliteral}{",}
893 \textcolor{stringliteral}{    "}Number of pens requested(%ld) not\(\backslash\)ncompatible with game configuration(%ld)",
894     "Use default pens|Use requested pens"
895     \};
896 \textcolor{preprocessor}{#endif}
897     \textcolor{comment}{/* If the pens in amii\_curmap are}
898 \textcolor{comment}{     * more pens than in amii\_numcolors, then we choose to ignore}
899 \textcolor{comment}{     * those pens.}
900 \textcolor{comment}{     */}
901 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
902     \textcolor{keywordflow}{if}( IntuitionBase && IntuitionBase->LibNode.lib\_Version >= 39 )
903     \{
904     \textcolor{keywordflow}{if}( \hyperlink{wingem1_8c_a66e3fedede6aa372e5196e55e5e8d5c1}{count} != \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors} )
905     \{
906         \textcolor{keywordtype}{long} args[2];
907         args[0] = \hyperlink{wingem1_8c_a66e3fedede6aa372e5196e55e5e8d5c1}{count};
908         args[1] = \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors};
909         \textcolor{keywordflow}{if}( EasyRequest( \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &ea2, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, args ) == 1 )
910         \{
911         memcpy( \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap, \hyperlink{winext_8h_a1b12e8b2fa45f0d58b47b42d920c641c}{amii\_initmap},
912             \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}*\textcolor{keyword}{sizeof}(\hyperlink{winext_8h_a1b12e8b2fa45f0d58b47b42d920c641c}{amii\_initmap}[0]));
913         \}
914     \}
915     \}
916     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( IntuitionBase && IntuitionBase->LibNode.lib\_Version >= 37 )
917     \{
918     \textcolor{keywordflow}{if}( \hyperlink{wingem1_8c_a66e3fedede6aa372e5196e55e5e8d5c1}{count} != \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors} )
919     \{
920         \textcolor{keywordflow}{if}( EasyRequest( \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, &ea, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} ) == 1 )
921         \{
922         memcpy( \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap, \hyperlink{winext_8h_a1b12e8b2fa45f0d58b47b42d920c641c}{amii\_initmap},
923             \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}*\textcolor{keyword}{sizeof}(\hyperlink{winext_8h_a1b12e8b2fa45f0d58b47b42d920c641c}{amii\_initmap}[0]));
924         \}
925     \}
926     \}
927     \textcolor{keywordflow}{else}
928 \textcolor{preprocessor}{#endif}
929     \textcolor{keywordflow}{if}( \hyperlink{wingem1_8c_a66e3fedede6aa372e5196e55e5e8d5c1}{count} != \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors} )
930     \{
931     memcpy( \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap, \hyperlink{winext_8h_a1b12e8b2fa45f0d58b47b42d920c641c}{amii\_initmap},
932         \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}*\textcolor{keyword}{sizeof}(\hyperlink{winext_8h_a1b12e8b2fa45f0d58b47b42d920c641c}{amii\_initmap}[0]));
933     \}
934 
935     \textcolor{comment}{/* If the pens are set in NetHack.cnf, we can get called before}
936 \textcolor{comment}{     * HackScreen has been opened.}
937 \textcolor{comment}{     */}
938     \textcolor{keywordflow}{if}( \hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen} != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} )
939     \{
940     LoadRGB4( &\hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen}->ViewPort, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap, 
      \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors} );
941     \}
942 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a817969c4fe20a121e99fda658e88fbc7}{\index{winreq.\+c@{winreq.\+c}!basename@{basename}}
\index{basename@{basename}!winreq.\+c@{winreq.\+c}}
\subsubsection[{basename}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ basename (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a817969c4fe20a121e99fda658e88fbc7}


Definition at line 630 of file winreq.\+c.



Referenced by fqname(), and main().


\begin{DoxyCode}
632 \{
633     \textcolor{keywordtype}{char} *t;
634 
635     t = strrchr( str, \textcolor{charliteral}{'/'} );
636     \textcolor{keywordflow}{if}( !t )
637     t = strrchr( str, \textcolor{charliteral}{':'} );
638     \textcolor{keywordflow}{if}( !t )
639     t = str;
640     \textcolor{keywordflow}{else}
641     ++t;
642     \textcolor{keywordflow}{return}( t );
643 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a6d1201141039ce25fd7bc323639b7507}{\index{winreq.\+c@{winreq.\+c}!Clear\+Col@{Clear\+Col}}
\index{Clear\+Col@{Clear\+Col}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Clear\+Col}]{\setlength{\rightskip}{0pt plus 5cm}void Clear\+Col (
\begin{DoxyParamCaption}
\item[{struct Window $\ast$}]{w}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a6d1201141039ce25fd7bc323639b7507}


Definition at line 726 of file winreq.\+c.



References amii\+\_\+numcolors, C\+\_\+\+B\+L\+A\+C\+K, C\+\_\+\+W\+H\+I\+T\+E, Col\+\_\+\+Blue\+Pen, Col\+\_\+\+Okay, and txheight.



Referenced by Edit\+Color().


\begin{DoxyCode}
727 \{
728     \textcolor{keywordtype}{int} bxorx, bxory, bxxlen, bxylen;
729     \textcolor{keywordtype}{int} incx, incy;
730 
731     bxylen = \hyperlink{colorwin_8c_ab815dee1d7283dbb1b231460ac6374c5}{Col\_Okay}.TopEdge - ( \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.TopEdge + 
      \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Height ) - 1
732         - \hyperlink{winext_8h_afdf567214d70875e5c17efe40a02b53a}{txheight} - 3;
733     bxxlen = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Width - 2;
734     bxorx = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.LeftEdge + 1;
735     bxory = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.TopEdge + \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Height + 2;
736 
737     incx = bxxlen / \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors};
738     incy = bxylen - 2;
739 
740     bxxlen /= incx;
741     bxxlen *= incx;
742     bxxlen += 2;
743 
744     SetAPen( w->RPort, \hyperlink{windefs_8h_a67fead37547ff67ca0a269d712e87822}{C\_WHITE} );
745     SetDrMd( w->RPort, JAM1 );
746     RectFill( w->RPort, bxorx, bxory, bxorx + bxxlen + 1, bxory + bxylen );
747 
748     SetAPen( w->RPort, \hyperlink{windefs_8h_a22a9543e081938a146a8bce60a84200a}{C\_BLACK} );
749     RectFill( w->RPort, bxorx+1, bxory+1,
750                     bxorx + bxxlen, bxory + bxylen - 1);
751 \}
\end{DoxyCode}
\hypertarget{winreq_8c_ac27f2c6cf41fe0cd9d8e47c6e23e4c0a}{\index{winreq.\+c@{winreq.\+c}!dirname@{dirname}}
\index{dirname@{dirname}!winreq.\+c@{winreq.\+c}}
\subsubsection[{dirname}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ dirname (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{winreq_8c_ac27f2c6cf41fe0cd9d8e47c6e23e4c0a}


Definition at line 609 of file winreq.\+c.



Referenced by Edit\+Color().


\begin{DoxyCode}
611 \{
612     \textcolor{keywordtype}{char} *t, c;
613     \textcolor{keyword}{static} \textcolor{keywordtype}{char} dir[ 300 ];
614 
615     t = strrchr( str, \textcolor{charliteral}{'/'} );
616     \textcolor{keywordflow}{if}( !t )
617     t = strrchr( str, \textcolor{charliteral}{':'} );
618     \textcolor{keywordflow}{if}( !t )
619     t = str;
620     \textcolor{keywordflow}{else}
621     \{
622         c = *t;
623         *t = 0;
624         strcpy( dir, str );
625         *t = c;
626     \}
627     \textcolor{keywordflow}{return}( dir );
628 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a11c44eb0694ea5e51081e54d8df22cd2}{\index{winreq.\+c@{winreq.\+c}!Disp\+Col@{Disp\+Col}}
\index{Disp\+Col@{Disp\+Col}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Disp\+Col}]{\setlength{\rightskip}{0pt plus 5cm}void Disp\+Col (
\begin{DoxyParamCaption}
\item[{struct Window $\ast$}]{w, }
\item[{int}]{idx, }
\item[{{\bf U\+W\+O\+R\+D} $\ast$}]{colors}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a11c44eb0694ea5e51081e54d8df22cd2}


Definition at line 844 of file winreq.\+c.



References amii\+\_\+other\+B\+Pen, buf, C\+\_\+\+R\+E\+D, Col\+\_\+\+Save, C\+O\+L\+D\+E\+F\+::defval, C\+O\+L\+D\+E\+F\+::name, and W\+I\+N\+V\+E\+R\+S\+\_\+\+A\+M\+I\+V.



Referenced by Draw\+Col(), and Edit\+Color().


\begin{DoxyCode}
848 \{
849     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[ 50 ];
850     \textcolor{keywordtype}{char} *colname, *defval;
851 
852     \textcolor{keywordflow}{if}( \hyperlink{windefs_8h_aa0b90aaeb74b2488a95f0902cef09cbf}{WINVERS\_AMIV} )
853     \{
854     colname = \hyperlink{winreq_8c_a7e9a644e2ecc7e3b41612d65612e6d5e}{amiv\_colnames}[idx].\hyperlink{structCOLDEF_afc63d0b5e9aa00c71244da9788f0de7f}{name};
855     defval = \hyperlink{winreq_8c_a7e9a644e2ecc7e3b41612d65612e6d5e}{amiv\_colnames}[idx].\hyperlink{structCOLDEF_a43f4bfa44d303497856d5070f75128f0}{defval};
856     \}
857     \textcolor{keywordflow}{else}
858     \{
859     colname = \hyperlink{winreq_8c_ad3d523ee67e85337f3fc19e7676f0282}{amii\_colnames}[idx].\hyperlink{structCOLDEF_afc63d0b5e9aa00c71244da9788f0de7f}{name};
860     defval = \hyperlink{winreq_8c_ad3d523ee67e85337f3fc19e7676f0282}{amii\_colnames}[idx].\hyperlink{structCOLDEF_a43f4bfa44d303497856d5070f75128f0}{defval};
861     \}
862 
863     \textcolor{keywordflow}{if}( colname == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} )
864     \{
865     colname = \textcolor{stringliteral}{"unknown"};
866     defval = \textcolor{stringliteral}{"unknown"};
867     \}
868     Move( w->RPort, \hyperlink{colorwin_8c_a8e498afd53dcc9d53246ed1a343461e1}{Col\_Save}.LeftEdge,
869     \hyperlink{colorwin_8c_a8e498afd53dcc9d53246ed1a343461e1}{Col\_Save}.TopEdge - 7 );
870     sprintf( buf, \textcolor{stringliteral}{"%s=%03x default=%s%s"}, colname, colors[idx], defval,
871     \textcolor{stringliteral}{"              "}+strlen(colname)+1 );
872     SetAPen( w->RPort, \hyperlink{windefs_8h_a7adb9aaa1eed15caecd92e3837581b53}{C\_RED} );
873     SetBPen( w->RPort, \hyperlink{winext_8h_a111dca2a2ad69484b4c949424caa4ffa}{amii\_otherBPen} );
874     SetDrMd( w->RPort, JAM2 );
875     Text( w->RPort, buf, strlen( buf ) );
876 \}
\end{DoxyCode}
\hypertarget{winreq_8c_aab86548f4b4be239a38c53e5bb10302a}{\index{winreq.\+c@{winreq.\+c}!Draw\+Col@{Draw\+Col}}
\index{Draw\+Col@{Draw\+Col}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Draw\+Col}]{\setlength{\rightskip}{0pt plus 5cm}void Draw\+Col (
\begin{DoxyParamCaption}
\item[{struct Window $\ast$}]{w, }
\item[{int}]{idx, }
\item[{{\bf U\+W\+O\+R\+D} $\ast$}]{colors}
\end{DoxyParamCaption}
)}}\label{winreq_8c_aab86548f4b4be239a38c53e5bb10302a}


Definition at line 754 of file winreq.\+c.



References amii\+\_\+numcolors, C\+\_\+\+B\+L\+A\+C\+K, Col\+\_\+\+Blue\+Pen, Col\+\_\+\+Green\+Pen, Col\+\_\+\+Okay, Col\+\_\+\+Red\+Pen, Disp\+Col(), flags, and txheight.



Referenced by Edit\+Color().


\begin{DoxyCode}
758 \{
759     \textcolor{keywordtype}{int} bxorx, bxory, bxxlen, bxylen;
760     \textcolor{keywordtype}{int} i, incx, incy, r, g, b;
761     \textcolor{keywordtype}{long} mflags;
762 
763     bxylen = \hyperlink{colorwin_8c_ab815dee1d7283dbb1b231460ac6374c5}{Col\_Okay}.TopEdge - ( \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.TopEdge + 
      \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Height ) - 1
764         - \hyperlink{winext_8h_afdf567214d70875e5c17efe40a02b53a}{txheight} - 3;
765     bxxlen = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Width - 2;
766     bxorx = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.LeftEdge + 1;
767     bxory = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.TopEdge + \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Height + 2;
768 
769     incx = bxxlen / \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors};
770     incy = bxylen - 2;
771 
772     bxxlen /= incx;
773     bxxlen *= incx;
774     bxxlen += 2;
775 
776     \textcolor{keywordflow}{for}( i = 0; i < \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}; ++i )
777     \{
778     \textcolor{keywordtype}{int} x, y;
779     x = bxorx + 2 + (i*incx);
780     y = bxory + 2;
781 
782     \textcolor{keywordflow}{if}( i == idx )
783     \{
784         SetAPen( w->RPort, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_dripens[ SHADOWPEN ] );
785         Move( w->RPort, x, y+bxylen-4 );
786         Draw( w->RPort, x, y );
787         Draw( w->RPort, x+incx-1, y );
788 
789         Move( w->RPort, x+1, y+bxylen-5 );
790         Draw( w->RPort, x+1, y+1 );
791         Draw( w->RPort, x+incx-2, y+1 );
792 
793         SetAPen( w->RPort, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_dripens[ SHINEPEN ] );
794         Move( w->RPort, x+incx-1, y+1 );
795         Draw( w->RPort, x+incx-1, y+bxylen-4 );
796         Draw( w->RPort, x, y+bxylen-4 );
797 
798         Move( w->RPort, x+incx-2, y+2 );
799         Draw( w->RPort, x+incx-2, y+bxylen-5 );
800         Draw( w->RPort, x+1, y+bxylen-5 );
801     \}
802     \textcolor{keywordflow}{else}
803     \{
804         SetAPen( w->RPort, \hyperlink{windefs_8h_a22a9543e081938a146a8bce60a84200a}{C\_BLACK} );
805         Move( w->RPort, x, y );
806         Draw( w->RPort, x +incx-1, y );
807         Draw( w->RPort, x +incx-1, y +bxylen - 4 );
808         Draw( w->RPort, x, y + bxylen - 4 );
809         Draw( w->RPort, x, y );
810         SetAPen( w->RPort, \hyperlink{windefs_8h_a22a9543e081938a146a8bce60a84200a}{C\_BLACK} );
811         Move( w->RPort, x+1, y+1 );
812         Draw( w->RPort, x +incx-2, y+1 );
813         Draw( w->RPort, x +incx-2, y +bxylen - 6 );
814         Draw( w->RPort, x+1, y + bxylen - 6 );
815         Draw( w->RPort, x+1, y+1 );
816     \}
817 
818     SetAPen( w->RPort, i );
819     RectFill( w->RPort, x + 3, y + 3, x + incx - 4, y + bxylen - 6 );
820     \}
821 
822     \hyperlink{winreq_8c_a11c44eb0694ea5e51081e54d8df22cd2}{DispCol}( w, idx, colors );
823 
824     r = (colors[ idx ] & 0xf00) >> 8;
825     g = (colors[ idx ] & 0x0f0) >> 4;
826     b = colors[ idx ] & 0x00f;
827 
828     mflags = AUTOKNOB|FREEHORIZ;
829 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
830     \textcolor{keywordflow}{if}( IntuitionBase->LibNode.lib\_Version >= 37 )
831     \{
832     mflags |= PROPNEWLOOK;
833     \}
834 \textcolor{preprocessor}{#endif}
835     NewModifyProp( &\hyperlink{colorwin_8c_aa6c4fb052b19fc770d28bfd1b248a25e}{Col\_RedPen}, w, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, mflags, (r * MAXPOT ) / 15, 0,
836                                 MAXPOT/15, 0, 1 );
837     NewModifyProp( &\hyperlink{colorwin_8c_a005b7d9317bb8c0a0b044f8f3924acb7}{Col\_GreenPen}, w, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, mflags, (g * MAXPOT ) / 15, 0,
838                                 MAXPOT/15, 0, 1 );
839     NewModifyProp( &\hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}, w, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, mflags, (b * MAXPOT ) / 15, 0,
840                                 MAXPOT/15, 0, 1 );
841 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a614ba0cf5df7db4e8e464ea269143a38}{\index{winreq.\+c@{winreq.\+c}!Edit\+Clipping@{Edit\+Clipping}}
\index{Edit\+Clipping@{Edit\+Clipping}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Edit\+Clipping}]{\setlength{\rightskip}{0pt plus 5cm}void Edit\+Clipping (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a614ba0cf5df7db4e8e464ea269143a38}


Definition at line 383 of file winreq.\+c.



References amii\+\_\+other\+B\+Pen, amii\+\_\+wins, buf, Clip\+Cancel, Clip\+New\+Window\+Structure1, Clip\+Okay, Clip\+X\+C\+L\+I\+P, Clip\+X\+S\+I\+Z\+E, Clip\+Y\+C\+L\+I\+P, Clip\+Y\+S\+I\+Z\+E, done, doredraw(), fillhook, flush\+\_\+glyph\+\_\+buffer(), G\+A\+D\+C\+A\+N\+C\+E\+L, G\+A\+D\+O\+K\+A\+Y, Hack\+Screen, Layer\+Fill\+Hook(), mxsize, mysize, okay(), reclip, Set\+Border(), Show\+Clip\+Values(), W\+I\+N\+\_\+\+M\+A\+P, wintags, W\+I\+N\+V\+E\+R\+S\+\_\+\+A\+M\+I\+I, W\+I\+N\+V\+E\+R\+S\+\_\+\+A\+M\+I\+V, X\+C\+L\+I\+P, X\+S\+I\+Z\+E, Y\+C\+L\+I\+P, and Y\+S\+I\+Z\+E.


\begin{DoxyCode}
384 \{
385     \textcolor{keywordtype}{int} i;
386     \textcolor{keywordtype}{long} mflags;
387     \textcolor{keyword}{static} \textcolor{keywordtype}{int} sizes[] = \{ 8, 16, 20, 24, 28, 32, 36 \};
388     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[ 40 ];
389     \textcolor{keywordtype}{int} \hyperlink{winX_8c_a032589f4f70300762622fd253db008d0}{done} = 0, \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0;
390     \textcolor{keywordtype}{long} code, qual, \textcolor{keyword}{class};
391     \textcolor{keyword}{register} \textcolor{keyword}{struct }Gadget *gd, *dgad;
392     \textcolor{keyword}{register} \textcolor{keyword}{struct }Window *nw;
393     \textcolor{keyword}{register} \textcolor{keyword}{struct }IntuiMessage *imsg;
394     \textcolor{keyword}{register} \textcolor{keyword}{struct }PropInfo *pip;
395     \textcolor{keyword}{register} \textcolor{keyword}{struct }Screen *scrn;
396     \textcolor{keywordtype}{long} aidx;
397     \textcolor{keywordtype}{int} lmxsize = \hyperlink{winext_8h_afba9a8d2cd024c7010eae489091d11d6}{mxsize}, lmysize = \hyperlink{winext_8h_a9703aea67c83633a25beaa737dad2b65}{mysize};
398     \textcolor{keywordtype}{int} lxclipbord = xclipbord, lyclipbord = yclipbord;
399     \textcolor{keywordtype}{int} msx, msy;
400     \textcolor{keywordtype}{int} drag = 0;
401     \textcolor{keyword}{static} \textcolor{keywordtype}{int} once = 0;
402 
403     scrn = \hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen};
404 
405     \textcolor{keywordflow}{if}( !once )
406     \{
407     \hyperlink{winproto_8h_aaa6575d9ac823d93fcc4176f3b1341c3}{SetBorder}( &\hyperlink{clipwin_8c_ae0bd9b38d10d303ddeffb3caf09c3c51}{ClipOkay} );
408     \hyperlink{winproto_8h_aaa6575d9ac823d93fcc4176f3b1341c3}{SetBorder}( &\hyperlink{clipwin_8c_ab2b1b3ddf4f0918955e3f797a342773a}{ClipCancel} );
409     once = 1;
410     \}
411     \hyperlink{clipwin_8c_aedc33a3c2d584d5a90281d77fa57fda2}{ClipNewWindowStructure1}.Screen = scrn;
412 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
413     \textcolor{keywordflow}{if}( IntuitionBase->LibNode.lib\_Version >= 37 )
414     \{
415     ((\textcolor{keyword}{struct }PropInfo *)\hyperlink{clipwin_8c_a609bc92c46f5f92521e89e7b8b72467c}{ClipXSIZE}.SpecialInfo)->Flags |= PROPNEWLOOK;
416     ((\textcolor{keyword}{struct }PropInfo *)\hyperlink{clipwin_8c_ad850fe5cb595a6b29d392d26aa93821d}{ClipYSIZE}.SpecialInfo)->Flags |= PROPNEWLOOK;
417     ((\textcolor{keyword}{struct }PropInfo *)\hyperlink{clipwin_8c_a2bc81a92944f2445b844ca39c30b6bbc}{ClipXCLIP}.SpecialInfo)->Flags |= PROPNEWLOOK;
418     ((\textcolor{keyword}{struct }PropInfo *)\hyperlink{clipwin_8c_ae72e2013f01f9883a38d1223a0225041}{ClipYCLIP}.SpecialInfo)->Flags |= PROPNEWLOOK;
419     \}
420 \textcolor{preprocessor}{#endif}
421     \textcolor{keywordflow}{if}( \hyperlink{windefs_8h_aa0b90aaeb74b2488a95f0902cef09cbf}{WINVERS\_AMIV} || \hyperlink{windefs_8h_adf1601afd1e2d6555110cd79bbbf4705}{WINVERS\_AMII} )
422     \{
423 \textcolor{preprocessor}{# ifdef INTUI\_NEW\_LOOK}
424     \hyperlink{clipwin_8c_aedc33a3c2d584d5a90281d77fa57fda2}{ClipNewWindowStructure1}.Extension = \hyperlink{winext_8h_af89b1b4ca5e09b3b019caabfbf2243cd}{wintags};
425     \hyperlink{clipwin_8c_aedc33a3c2d584d5a90281d77fa57fda2}{ClipNewWindowStructure1}.Flags |= WFLG\_NW\_EXTENDED;
426 \textcolor{preprocessor}{#  ifdef \_\_GNUC\_\_}
427     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Entry = (\textcolor{keywordtype}{void} *)&\hyperlink{winext_8h_a9e524533351c8e043ccc43941ad1055f}{LayerFillHook};
428 \textcolor{preprocessor}{#  else}
429     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Entry = (\hyperlink{def__os2_8h_af632da489ebc3708ec3ab6791ee53fa4}{ULONG}(*)())\hyperlink{winext_8h_a9e524533351c8e043ccc43941ad1055f}{LayerFillHook};
430 \textcolor{preprocessor}{#  endif}
431     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Data = (\textcolor{keywordtype}{void} *)-2;
432     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_SubEntry = 0;
433 \textcolor{preprocessor}{# endif}
434     \}
435 
436     nw = OpenWindow( (\textcolor{keywordtype}{void} *)&\hyperlink{clipwin_8c_aedc33a3c2d584d5a90281d77fa57fda2}{ClipNewWindowStructure1} );
437 
438     \textcolor{keywordflow}{if}( nw == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} )
439     \{
440     DisplayBeep( \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
441     \textcolor{keywordflow}{return};
442     \}
443 
444     \hyperlink{winreq_8c_adb2722a7928452baccc065924be79730}{ShowClipValues}( nw );
445     mflags = AUTOKNOB|FREEHORIZ;
446 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
447     \textcolor{keywordflow}{if}( IntuitionBase->LibNode.lib\_Version >= 37 )
448     \{
449     mflags |= PROPNEWLOOK;
450     \}
451 \textcolor{preprocessor}{#endif}
452 
453     \textcolor{keywordflow}{for}( i = 0; i < 7; ++i )
454     \{
455     \textcolor{keywordflow}{if}( \hyperlink{winext_8h_afba9a8d2cd024c7010eae489091d11d6}{mxsize} <= sizes[ i ] )
456         \textcolor{keywordflow}{break};
457     \}
458     NewModifyProp( &\hyperlink{clipwin_8c_a609bc92c46f5f92521e89e7b8b72467c}{ClipXSIZE}, nw, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, mflags, (i * MAXPOT ) / 6, 0,
459                                 MAXPOT/6, 0, 1 );
460     \textcolor{keywordflow}{for}( i = 0; i < 7; ++i )
461     \{
462     \textcolor{keywordflow}{if}( \hyperlink{winext_8h_a9703aea67c83633a25beaa737dad2b65}{mysize} <= sizes[ i ] )
463         \textcolor{keywordflow}{break};
464     \}
465     NewModifyProp( &\hyperlink{clipwin_8c_ad850fe5cb595a6b29d392d26aa93821d}{ClipYSIZE}, nw, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, mflags, (i * MAXPOT ) / 6, 0,
466                                 MAXPOT/6, 0, 1 );
467 
468     NewModifyProp( &\hyperlink{clipwin_8c_a2bc81a92944f2445b844ca39c30b6bbc}{ClipXCLIP}, nw, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, mflags, ((xclipbord-2) * MAXPOT ) / 6, 0,
469                                 MAXPOT/6, 0, 1 );
470     NewModifyProp( &\hyperlink{clipwin_8c_ae72e2013f01f9883a38d1223a0225041}{ClipYCLIP}, nw, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, mflags, ((yclipbord-2) * MAXPOT ) / 6, 0,
471                                 MAXPOT/6, 0, 1 );
472 
473     \textcolor{keywordflow}{while}( !done )
474     \{
475     WaitPort( nw->UserPort );
476 
477     \textcolor{keywordflow}{while}( imsg = (\textcolor{keyword}{struct} IntuiMessage * )GetMsg( nw->UserPort ) )
478     \{
479         gd = (\textcolor{keyword}{struct }Gadget *)imsg->IAddress;
480         code = imsg->Code;
481         \textcolor{keyword}{class} = imsg->Class;
482         qual = imsg->Qualifier;
483         msx = imsg->MouseX;
484         msy = imsg->MouseY;
485 
486         ReplyMsg( (\textcolor{keyword}{struct} Message *)imsg );
487 
488         \textcolor{keywordflow}{switch}( \textcolor{keyword}{class} )
489         \{
490         \textcolor{keywordflow}{case} VANILLAKEY:
491         \textcolor{keywordflow}{if}( code == \textcolor{stringliteral}{'\(\backslash\)33'} )
492             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0, done = 1;
493         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'v'} && qual == AMIGALEFT )
494             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = done = 1;
495         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'b'} && qual == AMIGALEFT )
496             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0, done = 1;
497         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'o'} || code == \textcolor{charliteral}{'O'} )
498             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = done = 1;
499         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'c'} || code == \textcolor{charliteral}{'C'} )
500             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0, done = 1;
501         \textcolor{keywordflow}{break};
502 
503         \textcolor{keywordflow}{case} CLOSEWINDOW:
504         done = 1;
505         \textcolor{keywordflow}{break};
506 
507         \textcolor{keywordflow}{case} GADGETUP:
508         drag = 0;
509         \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_aa4e3cb2d54808a145ef60a0a53f593e2}{XSIZE} || gd->GadgetID == \hyperlink{winreq_8c_afaefa0d521156ca605f526c14d05e272}{YSIZE} ||
510             gd->GadgetID == \hyperlink{winreq_8c_a7c4db99b45d8d9e6d58397cf16b350cc}{XCLIP} || gd->GadgetID == \hyperlink{winreq_8c_a16e8a7080fc512b675a1c7260659308d}{YCLIP} )
511         \{
512             pip = (\textcolor{keyword}{struct }PropInfo *)gd->SpecialInfo;
513             aidx = pip->HorizPot / (MAXPOT/6);
514             \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_aa4e3cb2d54808a145ef60a0a53f593e2}{XSIZE} )
515             \{
516             \hyperlink{winext_8h_afba9a8d2cd024c7010eae489091d11d6}{mxsize} = sizes[ aidx ];
517             \}
518             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_afaefa0d521156ca605f526c14d05e272}{YSIZE} )
519             \{
520             \hyperlink{winext_8h_a9703aea67c83633a25beaa737dad2b65}{mysize} = sizes[ aidx ];
521             \}
522             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a7c4db99b45d8d9e6d58397cf16b350cc}{XCLIP} )
523             \{
524             xclipbord = aidx + 2;
525             \}
526             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a16e8a7080fc512b675a1c7260659308d}{YCLIP} )
527             \{
528             yclipbord = aidx + 2;
529             \}
530             \hyperlink{winreq_8c_adb2722a7928452baccc065924be79730}{ShowClipValues}( nw );
531 \textcolor{preprocessor}{#ifdef OPT\_DISPMAP}
532             dispmap\_sanity();
533 \textcolor{preprocessor}{#endif}
534         \}
535         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a0258d189f5e75c01d285f0c64fd75cf3}{GADOKAY} )
536         \{
537             done = 1;
538             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 1;
539         \}
540         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a9220cda432f9aaaee986619df2f9c167}{GADCANCEL} )
541         \{
542             done = 1;
543             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0;
544         \}
545         ReportMouse( 0, nw );
546         \hyperlink{winchar_8c_abaef652f2ecc14cf7257f91b8f5f0527}{reclip} = 2;
547         \hyperlink{display_8c_abf432a93fec9c94db8570f8a2c01468e}{doredraw}();
548         \hyperlink{winchar_8c_aedd7ad0350a58b8fca664bcbdc5f1f35}{flush\_glyph\_buffer}( \hyperlink{winami_8h_a84358fe75628f255a0687acb6e8499de}{amii\_wins}[ \hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP} ]->win );
549         \hyperlink{winchar_8c_abaef652f2ecc14cf7257f91b8f5f0527}{reclip} = 0;
550         \textcolor{keywordflow}{break};
551 
552         \textcolor{keywordflow}{case} GADGETDOWN:
553         drag = 1;
554         dgad = gd;
555         ReportMouse( 1, nw );
556         \textcolor{keywordflow}{break};
557 
558         \textcolor{keywordflow}{case} MOUSEMOVE:
559         \textcolor{keywordflow}{if}( !drag )
560             \textcolor{keywordflow}{break};
561         pip = (\textcolor{keyword}{struct }PropInfo *)dgad->SpecialInfo;
562         aidx = pip->HorizPot / (MAXPOT/6);
563         Move( nw->RPort, dgad->LeftEdge + (nw->Width + dgad->Width) + 8,
564                 dgad->TopEdge + nw->RPort->TxBaseline );
565         \textcolor{keywordflow}{if}( dgad->GadgetID == \hyperlink{winreq_8c_aa4e3cb2d54808a145ef60a0a53f593e2}{XSIZE} )
566         \{
567             \hyperlink{winext_8h_afba9a8d2cd024c7010eae489091d11d6}{mxsize} = sizes[ aidx ];
568             sprintf( buf, \textcolor{stringliteral}{"%d "},lmxsize );
569         \}
570         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( dgad->GadgetID == \hyperlink{winreq_8c_afaefa0d521156ca605f526c14d05e272}{YSIZE} )
571         \{
572             \hyperlink{winext_8h_a9703aea67c83633a25beaa737dad2b65}{mysize} = sizes[ aidx ];
573             sprintf( buf, \textcolor{stringliteral}{"%d "}, \hyperlink{winext_8h_a9703aea67c83633a25beaa737dad2b65}{mysize} );
574         \}
575         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( dgad->GadgetID == \hyperlink{winreq_8c_a7c4db99b45d8d9e6d58397cf16b350cc}{XCLIP} )
576         \{
577             xclipbord = aidx + 2;
578             sprintf( buf, \textcolor{stringliteral}{"%d "}, xclipbord );
579         \}
580         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( dgad->GadgetID == \hyperlink{winreq_8c_a16e8a7080fc512b675a1c7260659308d}{YCLIP} )
581         \{
582             yclipbord = aidx + 2;
583             sprintf( buf, \textcolor{stringliteral}{"%d "}, yclipbord );
584         \}
585         SetAPen( nw->RPort, 5 );
586         SetBPen( nw->RPort, \hyperlink{winext_8h_a111dca2a2ad69484b4c949424caa4ffa}{amii\_otherBPen} );
587         SetDrMd( nw->RPort, JAM2 );
588         Text( nw->RPort, buf, strlen( buf ) );
589 \textcolor{preprocessor}{#ifdef OPT\_DISPMAP}
590          dispmap\_sanity();
591 \textcolor{preprocessor}{#endif}
592         \textcolor{keywordflow}{break};
593         \}
594     \}
595     \}
596 
597     CloseWindow( nw );
598 
599     \textcolor{comment}{/* Restore oldvalues if cancelled. */}
600     \textcolor{keywordflow}{if}( !\hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} )
601     \{
602     \hyperlink{winext_8h_afba9a8d2cd024c7010eae489091d11d6}{mxsize} = lmxsize;
603     \hyperlink{winext_8h_a9703aea67c83633a25beaa737dad2b65}{mysize} = lmysize;
604     xclipbord = lxclipbord;
605     yclipbord = lyclipbord;
606     \}
607 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a7f17e01fc784d2a46a8345921b1ff284}{\index{winreq.\+c@{winreq.\+c}!Edit\+Color@{Edit\+Color}}
\index{Edit\+Color@{Edit\+Color}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Edit\+Color}]{\setlength{\rightskip}{0pt plus 5cm}void Edit\+Color (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a7f17e01fc784d2a46a8345921b1ff284}


Definition at line 58 of file winreq.\+c.



References A\+M\+I\+I\+\_\+\+M\+A\+X\+C\+O\+L\+O\+R\+S, amii\+\_\+numcolors, buf, Clear\+Col(), Col\+\_\+\+Blue\+Pen, Col\+\_\+\+Cancel, Col\+\_\+\+Green\+Pen, Col\+\_\+\+Intui\+Text\+List1, Col\+\_\+\+New\+Window\+Structure1, Col\+\_\+\+Okay, Col\+\_\+\+Red\+Pen, Col\+\_\+\+Save, configfile, dirname(), Disp\+Col(), done, Draw\+Col(), filecopy(), fillhook, flags, fp, G\+A\+D\+B\+L\+U\+E\+P\+E\+N, G\+A\+D\+C\+O\+L\+C\+A\+N\+C\+E\+L, G\+A\+D\+C\+O\+L\+O\+K\+A\+Y, G\+A\+D\+C\+O\+L\+S\+A\+V\+E, G\+A\+D\+G\+R\+E\+E\+N\+P\+E\+N, G\+A\+D\+R\+E\+D\+P\+E\+N, Hack\+Screen, Layer\+Fill\+Hook(), okay(), Set\+Border(), unlink(), U\+W\+O\+R\+D, wintags, W\+I\+N\+V\+E\+R\+S\+\_\+\+A\+M\+I\+I, and W\+I\+N\+V\+E\+R\+S\+\_\+\+A\+M\+I\+V.


\begin{DoxyCode}
59 \{
60     \textcolor{keyword}{extern} \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{decl_8h_a1abd7c1fc746ce34b6e11baaf7370173}{configfile};
61     \textcolor{keywordtype}{int} i, \hyperlink{winX_8c_a032589f4f70300762622fd253db008d0}{done} = 0, \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0;
62     \textcolor{keywordtype}{long} code, qual, \textcolor{keyword}{class};
63     \textcolor{keyword}{register} \textcolor{keyword}{struct }Gadget *gd, *dgad;
64     \textcolor{keyword}{register} \textcolor{keyword}{struct }Window *nw;
65     \textcolor{keyword}{register} \textcolor{keyword}{struct }IntuiMessage *imsg;
66     \textcolor{keyword}{register} \textcolor{keyword}{struct }PropInfo *pip;
67     \textcolor{keyword}{register} \textcolor{keyword}{struct }Screen *scrn;
68     \textcolor{keywordtype}{long} aidx;
69     \textcolor{keywordtype}{int} msx, msy;
70     \textcolor{keywordtype}{int} curcol = 0, drag = 0;
71     \textcolor{keywordtype}{int} bxorx, bxory, bxxlen, bxylen;
72     \textcolor{keyword}{static} \hyperlink{bitmfile_8h_a0428171499a4ab7aebc2bf058ae337df}{UWORD} colors[ \hyperlink{amiconf_8h_a551015331d3f91ae1ca3cb425e24e5ea}{AMII\_MAXCOLORS} ];
73     \textcolor{keyword}{static} \hyperlink{bitmfile_8h_a0428171499a4ab7aebc2bf058ae337df}{UWORD} svcolors[ \hyperlink{amiconf_8h_a551015331d3f91ae1ca3cb425e24e5ea}{AMII\_MAXCOLORS} ];
74     \textcolor{keyword}{static} \textcolor{keywordtype}{int} once = 0;
75     scrn = \hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen};
76 
77     \textcolor{keywordflow}{if}( !once )
78     \{
79         \textcolor{keywordflow}{if}( \hyperlink{windefs_8h_aa0b90aaeb74b2488a95f0902cef09cbf}{WINVERS\_AMIV} )
80         \{
81             \hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1}.Width += 300;
82             \hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1}.Height += 20;
83             \hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1}.LeftEdge -= 150;
84             \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Width += 300;
85             \hyperlink{colorwin_8c_aa6c4fb052b19fc770d28bfd1b248a25e}{Col\_RedPen}.Width += 300;
86             \hyperlink{colorwin_8c_a005b7d9317bb8c0a0b044f8f3924acb7}{Col\_GreenPen}.Width += 300;
87             \hyperlink{colorwin_8c_a22ab65608290c12900959e71039d3485}{Col\_Cancel}.LeftEdge += 300;
88             \hyperlink{colorwin_8c_ab815dee1d7283dbb1b231460ac6374c5}{Col\_Okay}.LeftEdge += 150;
89             \hyperlink{colorwin_8c_a22ab65608290c12900959e71039d3485}{Col\_Cancel}.TopEdge += 20;
90             \hyperlink{colorwin_8c_a8e498afd53dcc9d53246ed1a343461e1}{Col\_Save}.TopEdge += 20;
91             \hyperlink{colorwin_8c_ab815dee1d7283dbb1b231460ac6374c5}{Col\_Okay}.TopEdge += 20;
92         \}
93         \hyperlink{winproto_8h_aaa6575d9ac823d93fcc4176f3b1341c3}{SetBorder}( &\hyperlink{colorwin_8c_ab815dee1d7283dbb1b231460ac6374c5}{Col\_Okay} );
94         \hyperlink{winproto_8h_aaa6575d9ac823d93fcc4176f3b1341c3}{SetBorder}( &\hyperlink{colorwin_8c_a22ab65608290c12900959e71039d3485}{Col\_Cancel} );
95         \hyperlink{winproto_8h_aaa6575d9ac823d93fcc4176f3b1341c3}{SetBorder}( &\hyperlink{colorwin_8c_a8e498afd53dcc9d53246ed1a343461e1}{Col\_Save} );
96         once = 1;
97     \}
98 
99     bxylen = \hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1}.Height -
100                 ( \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.TopEdge + \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Height + 6 );
101     bxxlen = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Width;
102     bxorx = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.LeftEdge;
103     bxory = \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.TopEdge + \hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.Height + 2;
104 
105     \textcolor{comment}{/* Save the current colors */}
106     \textcolor{keywordflow}{for}( i = 0; i < \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}; ++i )
107         svcolors[ i ] = colors[ i ] = GetRGB4( scrn->ViewPort.ColorMap, i );
108 
109     \hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1}.Screen = scrn;
110 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
111     \textcolor{keywordflow}{if}( IntuitionBase->LibNode.lib\_Version >= 37 )
112     \{
113         ((\textcolor{keyword}{struct }PropInfo *)\hyperlink{colorwin_8c_a16203e99df17e41a95652eb2f1bf4fcc}{Col\_BluePen}.SpecialInfo)->Flags |= PROPNEWLOOK;
114         ((\textcolor{keyword}{struct }PropInfo *)\hyperlink{colorwin_8c_aa6c4fb052b19fc770d28bfd1b248a25e}{Col\_RedPen}.SpecialInfo)->Flags |=  PROPNEWLOOK;
115         ((\textcolor{keyword}{struct }PropInfo *)\hyperlink{colorwin_8c_a005b7d9317bb8c0a0b044f8f3924acb7}{Col\_GreenPen}.SpecialInfo)->Flags |= PROPNEWLOOK;
116     \}
117 \textcolor{preprocessor}{#endif}
118     \textcolor{keywordflow}{if}( \hyperlink{windefs_8h_aa0b90aaeb74b2488a95f0902cef09cbf}{WINVERS\_AMIV} || \hyperlink{windefs_8h_adf1601afd1e2d6555110cd79bbbf4705}{WINVERS\_AMII} )
119     \{
120 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
121         \hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1}.Extension = \hyperlink{winext_8h_af89b1b4ca5e09b3b019caabfbf2243cd}{wintags};
122         \hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1}.Flags |= WFLG\_NW\_EXTENDED;
123 \textcolor{preprocessor}{# ifdef \_\_GNUC\_\_}
124         \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Entry = (\textcolor{keywordtype}{void} *)&\hyperlink{winext_8h_a9e524533351c8e043ccc43941ad1055f}{LayerFillHook};
125 \textcolor{preprocessor}{# else}
126         \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Entry = (\hyperlink{def__os2_8h_af632da489ebc3708ec3ab6791ee53fa4}{ULONG}(*)())\hyperlink{winext_8h_a9e524533351c8e043ccc43941ad1055f}{LayerFillHook};
127 \textcolor{preprocessor}{# endif}
128         \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Data = (\textcolor{keywordtype}{void} *)-2;
129         \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_SubEntry = 0;
130 \textcolor{preprocessor}{#endif}
131     \}
132 
133     nw = OpenWindow( (\textcolor{keywordtype}{void} *)&\hyperlink{colorwin_8c_ae1405181d537e52ac2e7f7998aca0c90}{Col\_NewWindowStructure1} );
134 
135     \textcolor{keywordflow}{if}( nw == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} )
136     \{
137     DisplayBeep( \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
138     \textcolor{keywordflow}{return};
139     \}
140 
141     PrintIText( nw->RPort, &\hyperlink{colorwin_8c_a2c00b357234922029432053b86cefff7}{Col\_IntuiTextList1}, 0, 0 );
142 
143     \hyperlink{winreq_8c_a6d1201141039ce25fd7bc323639b7507}{ClearCol}( nw );
144     \hyperlink{winreq_8c_aab86548f4b4be239a38c53e5bb10302a}{DrawCol}( nw, curcol, colors );
145     \textcolor{keywordflow}{while}( !done )
146     \{
147     WaitPort( nw->UserPort );
148 
149     \textcolor{keywordflow}{while}( imsg = (\textcolor{keyword}{struct} IntuiMessage * )GetMsg( nw->UserPort ) )
150     \{
151         gd = (\textcolor{keyword}{struct }Gadget *)imsg->IAddress;
152         code = imsg->Code;
153         \textcolor{keyword}{class} = imsg->Class;
154         qual = imsg->Qualifier;
155         msx = imsg->MouseX;
156         msy = imsg->MouseY;
157 
158         ReplyMsg( (\textcolor{keyword}{struct} Message *)imsg );
159 
160         \textcolor{keywordflow}{switch}( \textcolor{keyword}{class} )
161         \{
162         \textcolor{keywordflow}{case} VANILLAKEY:
163         \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'v'} && qual == AMIGALEFT )
164             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = done = 1;
165         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'b'} && qual == AMIGALEFT )
166             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0, done = 1;
167         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'o'} || code == \textcolor{charliteral}{'O'} )
168             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = done = 1;
169         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'c'} || code == \textcolor{charliteral}{'C'} )
170             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0, done = 1;
171         \textcolor{keywordflow}{break};
172 
173         \textcolor{keywordflow}{case} CLOSEWINDOW:
174         done = 1;
175         \textcolor{keywordflow}{break};
176 
177         \textcolor{keywordflow}{case} GADGETUP:
178         drag = 0;
179         \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a76d331061bccaf012df3e26894ef4348}{GADREDPEN} ||
180                     gd->GadgetID == \hyperlink{winreq_8c_aa33cf60e4cdbcb694ee95a81f4c5d862}{GADBLUEPEN} ||
181                     gd->GadgetID == \hyperlink{winreq_8c_a095a4b2b6109d27802e763c76d1d7f48}{GADGREENPEN} )
182         \{
183             pip = (\textcolor{keyword}{struct }PropInfo *)gd->SpecialInfo;
184             aidx = pip->HorizPot / (MAXPOT/15);
185             \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a76d331061bccaf012df3e26894ef4348}{GADREDPEN} )
186             \{
187             colors[ curcol ] =
188                 ( colors[ curcol ] & ~0xf00 ) | (aidx << 8);
189             LoadRGB4( &scrn->ViewPort, colors, amii\_numcolors );
190             \}
191             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_aa33cf60e4cdbcb694ee95a81f4c5d862}{GADBLUEPEN} )
192             \{
193             colors[ curcol ] =
194                 ( colors[ curcol ] & ~0xf ) | aidx;
195             LoadRGB4( &scrn->ViewPort, colors, amii\_numcolors );
196             \}
197             \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a095a4b2b6109d27802e763c76d1d7f48}{GADGREENPEN} )
198             \{
199             colors[ curcol ] = ( colors[ curcol ] & ~0x0f0 ) | (aidx << 4);
200             LoadRGB4( &scrn->ViewPort, colors, amii\_numcolors );
201             \}
202             \hyperlink{winreq_8c_a11c44eb0694ea5e51081e54d8df22cd2}{DispCol}( nw, curcol, colors );
203         \}
204         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_aa063aa3287f28db151f7d92b6cf8d989}{GADCOLOKAY} )
205         \{
206             done = 1;
207             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 1;
208         \}
209         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_a7172d4fe1c4b1b1d9f913dc52266fc2d}{GADCOLSAVE} )
210         \{
211             FILE *\hyperlink{tile2img_8c_aa065f30aa9f5f9a42132c82c787ee70b}{fp}, *nfp;
212             \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[ 300 ], nname[ 300 ], oname[ 300 ];
213             \textcolor{keywordtype}{int} once = 0;
214 
215             fp = fopen( configfile, \textcolor{stringliteral}{"r"} );
216             \textcolor{keywordflow}{if}( !fp )
217             \{
218             pline( \textcolor{stringliteral}{"can't find NetHack.cnf"} );
219             \textcolor{keywordflow}{break};
220             \}
221 
222             strcpy( oname, \hyperlink{winreq_8c_ac27f2c6cf41fe0cd9d8e47c6e23e4c0a}{dirname}( (\textcolor{keywordtype}{char} *)configfile ) );
223             \textcolor{keywordflow}{if}( oname[ strlen(oname)-1 ] != \textcolor{charliteral}{':'} )
224             \{
225             sprintf( nname, \textcolor{stringliteral}{"%s/New\_NetHack.cnf"}, oname );
226             strcat( oname, \textcolor{stringliteral}{"/"} );
227             strcat( oname, \textcolor{stringliteral}{"Old\_NetHack.cnf"} );
228             \}
229             \textcolor{keywordflow}{else}
230             \{
231             sprintf( nname, \textcolor{stringliteral}{"%sNew\_NetHack.cnf"}, oname );
232             strcat( oname, \textcolor{stringliteral}{"Old\_NetHack.cnf"} );
233             \}
234 
235             nfp = fopen( nname, \textcolor{stringliteral}{"w"} );
236             \textcolor{keywordflow}{if}( !nfp )
237             \{
238             pline( \textcolor{stringliteral}{"can't write to New\_NetHack.cnf"} );
239             fclose( fp );
240             \textcolor{keywordflow}{break};
241             \}
242             \textcolor{keywordflow}{while}( fgets( buf, \textcolor{keyword}{sizeof}( buf ), fp ) )
243             \{
244             \textcolor{keywordflow}{if}( strncmp( buf, \textcolor{stringliteral}{"PENS="}, 5 ) == 0 )
245             \{
246                 once = 1;
247                 fputs( \textcolor{stringliteral}{"PENS="}, nfp );
248                 \textcolor{keywordflow}{for}( i = 0; i < \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}; ++i )
249                 \{
250                 fprintf( nfp, \textcolor{stringliteral}{"%03x"}, colors[i] );
251                 \textcolor{keywordflow}{if}(( i + 1 ) < amii\_numcolors)
252                     putc( \textcolor{charliteral}{'/'}, nfp );
253                 \}
254                 putc( \textcolor{charliteral}{'\(\backslash\)n'}, nfp );
255             \}
256             \textcolor{keywordflow}{else}
257             \{
258                 fputs( buf, nfp );
259             \}
260             \}
261 
262             \textcolor{comment}{/* If none in the file yet, now write it */}
263             \textcolor{keywordflow}{if}( !once )
264             \{
265             fputs( \textcolor{stringliteral}{"PENS="}, nfp );
266             \textcolor{keywordflow}{for}( i = 0; i < \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors}; ++i )
267             \{
268                 fprintf( nfp, \textcolor{stringliteral}{"%03x"}, colors[i] );
269                 \textcolor{keywordflow}{if}(( i + 1 ) < amii\_numcolors)
270                 putc( \textcolor{charliteral}{','}, nfp );
271             \}
272                 putc( \textcolor{charliteral}{'\(\backslash\)n'}, nfp );
273             \}
274             fclose( fp );
275             fclose( nfp );
276             \hyperlink{wceconf_8h_aaa6f9697fa5339b751a4394678403892}{unlink}( oname );
277             \textcolor{keywordflow}{if}( \hyperlink{winreq_8c_a6e11e88b3d9d387b9a008c79a3b8fb0c}{filecopy}( (\textcolor{keywordtype}{char} *)configfile, oname ) == 0 )
278             \textcolor{keywordflow}{if}( \hyperlink{winreq_8c_a6e11e88b3d9d387b9a008c79a3b8fb0c}{filecopy}( nname, (\textcolor{keywordtype}{char} *)configfile ) == 0 )
279                 \hyperlink{wceconf_8h_aaa6f9697fa5339b751a4394678403892}{unlink}( nname );
280             done = 1;
281             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 1;
282         \}
283         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( gd->GadgetID == \hyperlink{winreq_8c_aa4be93b3b6299698f4909de039117dae}{GADCOLCANCEL} )
284         \{
285             done = 1;
286             \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} = 0;
287         \}
288         \textcolor{keywordflow}{break};
289 
290         \textcolor{keywordflow}{case} GADGETDOWN:
291         drag = 1;
292         dgad = gd;
293         \textcolor{keywordflow}{break};
294 
295         \textcolor{keywordflow}{case} MOUSEMOVE:
296         \textcolor{keywordflow}{if}( !drag )
297             \textcolor{keywordflow}{break};
298         pip = (\textcolor{keyword}{struct }PropInfo *)dgad->SpecialInfo;
299         aidx = pip->HorizPot / (MAXPOT/15);
300         \textcolor{keywordflow}{if}( dgad->GadgetID == \hyperlink{winreq_8c_a76d331061bccaf012df3e26894ef4348}{GADREDPEN} )
301         \{
302             colors[ curcol ] =
303                 ( colors[ curcol ] & ~0xf00 ) | (aidx << 8);
304             LoadRGB4( &scrn->ViewPort, colors, amii\_numcolors );
305         \}
306         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( dgad->GadgetID == \hyperlink{winreq_8c_aa33cf60e4cdbcb694ee95a81f4c5d862}{GADBLUEPEN} )
307         \{
308             colors[ curcol ] = ( colors[ curcol ] & ~0xf ) | aidx;
309             LoadRGB4( &scrn->ViewPort, colors, amii\_numcolors );
310         \}
311         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( dgad->GadgetID == \hyperlink{winreq_8c_a095a4b2b6109d27802e763c76d1d7f48}{GADGREENPEN} )
312         \{
313             colors[ curcol ] =
314                 ( colors[ curcol ] & ~0x0f0 ) | (aidx << 4);
315             LoadRGB4( &scrn->ViewPort, colors, amii\_numcolors );
316         \}
317         \hyperlink{winreq_8c_a11c44eb0694ea5e51081e54d8df22cd2}{DispCol}( nw, curcol, colors );
318         \textcolor{keywordflow}{break};
319 
320         \textcolor{keywordflow}{case} MOUSEBUTTONS:
321         \textcolor{keywordflow}{if}( code == SELECTDOWN )
322         \{
323             \textcolor{keywordflow}{if}( msy > bxory && msy < bxory + bxylen - 1 &&
324                 msx > bxorx && msx < bxorx + bxxlen - 1 )
325             \{
326             curcol = ( msx - bxorx )/(bxxlen / amii\_numcolors);
327             \textcolor{keywordflow}{if}( curcol >= 0 && curcol < amii\_numcolors )
328             \hyperlink{winreq_8c_aab86548f4b4be239a38c53e5bb10302a}{DrawCol}( nw, curcol, colors );
329             \}
330         \}
331         \textcolor{keywordflow}{break};
332         \}
333     \}
334     \}
335 
336     \textcolor{keywordflow}{if}( \hyperlink{mkmaze_8c_a1f4a6bd3eb1c632fadaf884b976842a8}{okay} )
337     \{
338     \textcolor{keywordflow}{for}( i = 0; i < ( \hyperlink{winext_8h_ae3cfaa8053fd2f089c9fe1ba90289e98}{amii\_numcolors} ); ++i )
339         \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap[ i ] = colors[ i ];
340     LoadRGB4( &scrn->ViewPort, \hyperlink{flag_8h_a997133526e0c6bed44ebc0116a48b50a}{flags}.amii\_curmap, amii\_numcolors );
341     \}
342     \textcolor{keywordflow}{else}
343     LoadRGB4( &scrn->ViewPort, svcolors, amii\_numcolors );
344     CloseWindow( nw );
345 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a6e11e88b3d9d387b9a008c79a3b8fb0c}{\index{winreq.\+c@{winreq.\+c}!filecopy@{filecopy}}
\index{filecopy@{filecopy}!winreq.\+c@{winreq.\+c}}
\subsubsection[{filecopy}]{\setlength{\rightskip}{0pt plus 5cm}filecopy (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{from, }
\item[{char $\ast$}]{to}
\end{DoxyParamCaption}
)}}\label{winreq_8c_a6e11e88b3d9d387b9a008c79a3b8fb0c}


Definition at line 645 of file winreq.\+c.



References alloc(), buf, and free().



Referenced by Edit\+Color().


\begin{DoxyCode}
647 \{
648     \textcolor{keywordtype}{char} *\hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf};
649     \textcolor{keywordtype}{int} i = 0;
650 
651     buf = (\textcolor{keywordtype}{char} *)\hyperlink{txt2iff_8c_ae273cbdce4cd64a076220ad06c41a5a1}{alloc}( strlen(to) + strlen(from) + 20 );
652     \textcolor{keywordflow}{if}( buf )
653     \{
654         sprintf( buf, \textcolor{stringliteral}{"c:copy \(\backslash\)"%s\(\backslash\)" \(\backslash\)"%s\(\backslash\)" clone"}, from, to );
655 
656         \textcolor{comment}{/* Check SysBase instead?  Shouldn't matter  */}
657 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
658     \textcolor{keywordflow}{if}( IntuitionBase->LibNode.lib\_Version >= 37 )
659         i = System( buf, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
660     \textcolor{keywordflow}{else}
661 \textcolor{preprocessor}{#endif}
662         Execute( buf, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
663         \hyperlink{winproto_8h_a4bbec68d324de17b99fecede64b383ba}{free}( buf );
664     \}
665     \textcolor{keywordflow}{else}
666     \{
667         \textcolor{keywordflow}{return}( -1 );
668     \}
669     \textcolor{keywordflow}{return}( i );
670 \}
\end{DoxyCode}
\hypertarget{winreq_8c_a699c3002847c220802a043db1d0f276a}{\index{winreq.\+c@{winreq.\+c}!getlind@{getlind}}
\index{getlind@{getlind}!winreq.\+c@{winreq.\+c}}
\subsubsection[{getlind}]{\setlength{\rightskip}{0pt plus 5cm}void getlind (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{prompt, }
\item[{char $\ast$}]{bufp, }
\item[{{\bf const} char $\ast$}]{dflt}
\end{DoxyParamCaption}
) const}}\label{winreq_8c_a699c3002847c220802a043db1d0f276a}


Definition at line 954 of file winreq.\+c.


\begin{DoxyCode}
958 \{
959 \textcolor{preprocessor}{#ifndef TOPL\_GETLINE}
960     \textcolor{keyword}{register} \textcolor{keyword}{struct }Window *cwin;
961     \textcolor{keyword}{register} \textcolor{keyword}{struct }IntuiMessage *imsg;
962     \textcolor{keyword}{register} \textcolor{keywordtype}{long} \textcolor{keyword}{class}, code, qual;
963     \textcolor{keyword}{register} \textcolor{keywordtype}{int} aredone = 0;
964     \textcolor{keyword}{register} \textcolor{keyword}{struct }Gadget *gd;
965     \textcolor{keyword}{static} \textcolor{keywordtype}{int} once;
966 
967     *\hyperlink{winreq_8c_abafe8db20c259bd4cf9e8e0c374937c5}{StrString} = 0;
968     \textcolor{keywordflow}{if}( dflt )
969     strcpy( \hyperlink{winreq_8c_abafe8db20c259bd4cf9e8e0c374937c5}{StrString}, dflt );
970     \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.Title = (\hyperlink{bitmfile_8h_aa068c7f96c3fdd66282567bcb068db80}{UBYTE} *)prompt;
971     \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.Screen = \hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen};
972 
973     \textcolor{keywordflow}{if}( !once )
974     \{
975     \textcolor{keywordflow}{if}( \hyperlink{winext_8h_a686d780b14cde5aa754adc1baa2d6cfe}{bigscreen} ) \{
976         \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.LeftEdge = (\hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen}->Width/2) - (
      \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.Width/2);
977         \textcolor{keywordflow}{if} (\hyperlink{winami_8h_a84358fe75628f255a0687acb6e8499de}{amii\_wins}[\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}]) \{
978         \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.TopEdge = \hyperlink{winami_8h_a84358fe75628f255a0687acb6e8499de}{amii\_wins}[\hyperlink{decl_8h_afa1f7dd312c4c1b72afe3d2c8c2af691}{WIN\_MAP}]->\hyperlink{structamii__WinDesc_a9835faa4d66643cd889203e26edee8ae}{win}->TopEdge;
979         \} \textcolor{keywordflow}{else} \{
980         \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.TopEdge = (\hyperlink{winext_8h_ad92207d95deab9f96588451c7ed34419}{HackScreen}->Height/2) - (
      \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.Height/2);
981         \}
982     \}
983     \hyperlink{winproto_8h_aaa6575d9ac823d93fcc4176f3b1341c3}{SetBorder}( &\hyperlink{winreq_8c_a390a5f3d86203009670d84592ac44102}{String} );
984     \hyperlink{winproto_8h_aaa6575d9ac823d93fcc4176f3b1341c3}{SetBorder}( &\hyperlink{winreq_8c_ae33165f9a2f6158045b42e35c9b17ad9}{Gadget2} );
985     once = 1;
986     \}
987 
988     \textcolor{keywordflow}{if}( \hyperlink{windefs_8h_aa0b90aaeb74b2488a95f0902cef09cbf}{WINVERS\_AMIV} || \hyperlink{windefs_8h_adf1601afd1e2d6555110cd79bbbf4705}{WINVERS\_AMII} )
989     \{
990 \textcolor{preprocessor}{#ifdef  INTUI\_NEW\_LOOK}
991     \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.Extension = \hyperlink{winext_8h_af89b1b4ca5e09b3b019caabfbf2243cd}{wintags};
992     \hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow}.Flags |= WFLG\_NW\_EXTENDED;
993 \textcolor{preprocessor}{# ifdef \_\_GNUC\_\_}
994     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Entry = (\textcolor{keywordtype}{void} *)&\hyperlink{winext_8h_a9e524533351c8e043ccc43941ad1055f}{LayerFillHook};
995 \textcolor{preprocessor}{# else}
996     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Entry = (\hyperlink{def__os2_8h_af632da489ebc3708ec3ab6791ee53fa4}{ULONG}(*)())\hyperlink{winext_8h_a9e524533351c8e043ccc43941ad1055f}{LayerFillHook};
997 \textcolor{preprocessor}{# endif}
998     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_Data = (\textcolor{keywordtype}{void} *)-2;
999     \hyperlink{winext_8h_a6ff9485e071d0a750346503394100a89}{fillhook}.h\_SubEntry = 0;
1000 \textcolor{preprocessor}{#endif}
1001     \}
1002 
1003     \textcolor{keywordflow}{if}( ( cwin = OpenWindow( (\textcolor{keywordtype}{void} *)&\hyperlink{winreq_8c_ae265d659b782e056634b435548b53c1e}{StrWindow} ) ) == \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} )
1004     \{
1005     \textcolor{keywordflow}{return};
1006     \}
1007 
1008     \textcolor{keywordflow}{while}( !aredone )
1009     \{
1010     WaitPort( cwin->UserPort );
1011     \textcolor{keywordflow}{while}( ( imsg = (\textcolor{keywordtype}{void} *) GetMsg( cwin->UserPort ) ) != \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} )
1012     \{
1013         \textcolor{keyword}{class }= imsg->Class;
1014         code = imsg->Code;
1015         qual = imsg->Qualifier;
1016         gd = (\textcolor{keyword}{struct }Gadget *) imsg->IAddress;
1017 
1018         \textcolor{keywordflow}{switch}( \textcolor{keyword}{class} )
1019         \{
1020         \textcolor{keywordflow}{case} VANILLAKEY:
1021         \textcolor{keywordflow}{if}( code == \textcolor{charliteral}{'\(\backslash\)033'} && (qual &
1022             (IEQUALIFIER\_LALT|IEQUALIFIER\_RALT|
1023             IEQUALIFIER\_LCOMMAND|IEQUALIFIER\_RCOMMAND) ) == 0 )
1024         \{
1025             \textcolor{keywordflow}{if}( bufp )
1026             \{
1027             bufp[0]=\textcolor{charliteral}{'\(\backslash\)033'};
1028             bufp[1]=0;
1029             \}
1030             aredone = 1;
1031         \}
1032         \textcolor{keywordflow}{else}
1033         \{
1034             ActivateGadget( &\hyperlink{winreq_8c_a390a5f3d86203009670d84592ac44102}{String}, cwin, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
1035         \}
1036         \textcolor{keywordflow}{break};
1037 
1038         \textcolor{keywordflow}{case} ACTIVEWINDOW:
1039         ActivateGadget( &\hyperlink{winreq_8c_a390a5f3d86203009670d84592ac44102}{String}, cwin, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
1040         \textcolor{keywordflow}{break};
1041 
1042         \textcolor{keywordflow}{case} GADGETUP:
1043         \textcolor{keywordflow}{switch}( gd->GadgetID )
1044         \{
1045             \textcolor{keywordflow}{case} 2:
1046             aredone = 1;
1047             \textcolor{keywordflow}{if}( bufp )
1048                 strcpy( bufp, \hyperlink{winreq_8c_abafe8db20c259bd4cf9e8e0c374937c5}{StrString} );
1049             \textcolor{keywordflow}{break};
1050 
1051             \textcolor{keywordflow}{case} 1:
1052             \textcolor{keywordflow}{if}( bufp )
1053             \{
1054                 bufp[0]=\textcolor{charliteral}{'\(\backslash\)033'};
1055                 bufp[1]=0;
1056             \}
1057             aredone = 1;
1058             \textcolor{keywordflow}{break};
1059         \}
1060         \textcolor{keywordflow}{break};
1061 
1062         \textcolor{keywordflow}{case} CLOSEWINDOW:
1063         \textcolor{keywordflow}{if}( bufp )
1064         \{
1065             bufp[0]=\textcolor{charliteral}{'\(\backslash\)033'};
1066             bufp[1]=0;
1067         \}
1068         aredone = 1;
1069         \textcolor{keywordflow}{break};
1070         \}
1071         ReplyMsg( (\textcolor{keyword}{struct} Message *) imsg );
1072     \}
1073     \}
1074 
1075     CloseWindow( cwin );
1076 \textcolor{preprocessor}{#else}
1077     \textcolor{keyword}{struct }\hyperlink{structamii__WinDesc}{amii\_WinDesc} *cw;
1078     \textcolor{keyword}{struct }Window *w;
1079     \textcolor{keywordtype}{int} colx, ocolx, c;
1080     \textcolor{keywordtype}{char} *obufp;
1081 
1082     \hyperlink{winfuncs_8c_ac2b43ff5e6b6394438fd8fde2008d264}{amii\_clear\_nhwindow}( \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE} );
1083     \hyperlink{winproto_8h_a9fdbf76005ec3ae5b77b3002366c04d3}{amii\_putstr}( \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, 0, prompt );
1084     cw = \hyperlink{winami_8h_a84358fe75628f255a0687acb6e8499de}{amii\_wins}[ \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE} ];
1085     w = cw->\hyperlink{structamii__WinDesc_a9835faa4d66643cd889203e26edee8ae}{win};
1086     ocolx = colx = strlen( prompt ) + 1;
1087 
1088     obufp = bufp;
1089     \hyperlink{winfuncs_8c_ae43c0ee78599c3fa7f2fe2fe4c2b71a1}{cursor\_on}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE});
1090     \textcolor{keywordflow}{while}((c = \hyperlink{winproto_8h_a173d2dc6a888352bb65b7cacd4576308}{WindowGetchar}()) != EOF)
1091     \{
1092     \hyperlink{winfuncs_8c_a21dcf06b1e3a62331c49092d9911f189}{cursor\_off}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE});
1093     \hyperlink{winfuncs_8c_ad16d76372b2790f7b6926dc6174e4111}{amii\_curs}( \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, colx, 0 );
1094     \textcolor{keywordflow}{if}(c == \textcolor{charliteral}{'\(\backslash\)033'})
1095     \{
1096         *obufp = c;
1097         obufp[1] = 0;
1098         \textcolor{keywordflow}{return};
1099     \}
1100     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(c == \textcolor{charliteral}{'\(\backslash\)b'})
1101     \{
1102         \textcolor{keywordflow}{if}(bufp != obufp)
1103         \{
1104         bufp--;
1105         \hyperlink{winfuncs_8c_ad16d76372b2790f7b6926dc6174e4111}{amii\_curs}( \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, --colx, 0);
1106         Text( w->RPort, \textcolor{stringliteral}{"\(\backslash\)177 "}, 2 );
1107         \hyperlink{winfuncs_8c_ad16d76372b2790f7b6926dc6174e4111}{amii\_curs}( \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, colx, 0);
1108         \}
1109         \textcolor{keywordflow}{else}
1110         DisplayBeep( \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
1111     \}
1112     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}( c == \textcolor{charliteral}{'\(\backslash\)n'} || c == \textcolor{charliteral}{'\(\backslash\)r'} )
1113     \{
1114         *bufp = 0;
1115         \hyperlink{winproto_8h_a5bf6130a3329d0281c363af9f77e6448}{amii\_addtopl}( obufp );
1116         \textcolor{keywordflow}{return};
1117     \}
1118     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(\textcolor{charliteral}{' '} <= c && c < \textcolor{stringliteral}{'\(\backslash\)177'})
1119     \{
1120         \textcolor{comment}{/* avoid isprint() - some people don't have it}
1121 \textcolor{comment}{           ' ' is not always a printing char */}
1122         *bufp = c;
1123         bufp[1] = 0;
1124 
1125         Text( w->RPort, bufp, 1 );
1126         Text( w->RPort, \textcolor{stringliteral}{"\(\backslash\)177"}, 1 );
1127         \textcolor{keywordflow}{if}(bufp-obufp < \hyperlink{global_8h_ab26c26cbf7a0c97d8960c3cfb413f882}{BUFSZ}-1 && bufp-obufp < \hyperlink{global_8h_a308dbfcc29f5a427c0315f3cbf03c3ed}{COLNO})
1128         \{
1129         colx++;
1130         bufp++;
1131         \}
1132     \}
1133     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(c == (\textcolor{charliteral}{'X'}-64) || c == \textcolor{stringliteral}{'\(\backslash\)177'})
1134     \{
1135         \hyperlink{winfuncs_8c_ad16d76372b2790f7b6926dc6174e4111}{amii\_curs}( \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, ocolx, 0 );
1136         Text( w->RPort,
1137         \textcolor{stringliteral}{"                                                            "},
1138         colx - ocolx );
1139         \hyperlink{winfuncs_8c_ad16d76372b2790f7b6926dc6174e4111}{amii\_curs}( \hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE}, colx = ocolx, 0 );
1140     \} \textcolor{keywordflow}{else}
1141         DisplayBeep( \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL} );
1142     \hyperlink{winfuncs_8c_ae43c0ee78599c3fa7f2fe2fe4c2b71a1}{cursor\_on}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE});
1143     \}
1144     \hyperlink{winfuncs_8c_a21dcf06b1e3a62331c49092d9911f189}{cursor\_off}(\hyperlink{decl_8h_a4a1cc9e693dbdfad3ea32b10ce19f337}{WIN\_MESSAGE});
1145     *bufp = 0;
1146 \textcolor{preprocessor}{#endif}
1147 \}
\end{DoxyCode}
\hypertarget{winreq_8c_adb2722a7928452baccc065924be79730}{\index{winreq.\+c@{winreq.\+c}!Show\+Clip\+Values@{Show\+Clip\+Values}}
\index{Show\+Clip\+Values@{Show\+Clip\+Values}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Show\+Clip\+Values}]{\setlength{\rightskip}{0pt plus 5cm}void Show\+Clip\+Values (
\begin{DoxyParamCaption}
\item[{struct Window $\ast$}]{nw}
\end{DoxyParamCaption}
)}}\label{winreq_8c_adb2722a7928452baccc065924be79730}


Definition at line 348 of file winreq.\+c.



References amii\+\_\+other\+B\+Pen, buf, Clip\+X\+C\+L\+I\+P, Clip\+X\+S\+I\+Z\+E, Clip\+Y\+C\+L\+I\+P, Clip\+Y\+S\+I\+Z\+E, mxsize, and mysize.



Referenced by Edit\+Clipping().


\begin{DoxyCode}
349 \{
350     \textcolor{keywordtype}{char} \hyperlink{xpm2iff_8c_a6f4b9854141692d23b0d072176044ca6}{buf}[ 50 ];
351     \textcolor{keyword}{struct }Gadget *gd;
352 
353     SetAPen( nw->RPort, 5 );
354     SetBPen( nw->RPort, \hyperlink{winext_8h_a111dca2a2ad69484b4c949424caa4ffa}{amii\_otherBPen} );
355     SetDrMd( nw->RPort, JAM2 );
356 
357     sprintf( buf, \textcolor{stringliteral}{"%d "}, \hyperlink{winext_8h_afba9a8d2cd024c7010eae489091d11d6}{mxsize} );
358     gd = &\hyperlink{clipwin_8c_a609bc92c46f5f92521e89e7b8b72467c}{ClipXSIZE};
359     Move( nw->RPort, gd->LeftEdge + (nw->Width + gd->Width) + 8,
360         gd->TopEdge + nw->RPort->TxBaseline );
361     Text( nw->RPort, buf, strlen( buf ) );
362 
363     sprintf( buf, \textcolor{stringliteral}{"%d "}, \hyperlink{winext_8h_a9703aea67c83633a25beaa737dad2b65}{mysize} );
364     gd = &\hyperlink{clipwin_8c_ad850fe5cb595a6b29d392d26aa93821d}{ClipYSIZE};
365     Move( nw->RPort, gd->LeftEdge + (nw->Width + gd->Width) + 8,
366         gd->TopEdge + nw->RPort->TxBaseline );
367     Text( nw->RPort, buf, strlen( buf ) );
368 
369     sprintf( buf, \textcolor{stringliteral}{"%d "}, xclipbord );
370     gd = &\hyperlink{clipwin_8c_a2bc81a92944f2445b844ca39c30b6bbc}{ClipXCLIP};
371     Move( nw->RPort, gd->LeftEdge + (nw->Width + gd->Width) + 8,
372         gd->TopEdge + nw->RPort->TxBaseline );
373     Text( nw->RPort, buf, strlen( buf ) );
374 
375     sprintf( buf, \textcolor{stringliteral}{"%d "}, yclipbord );
376     gd = &\hyperlink{clipwin_8c_ae72e2013f01f9883a38d1223a0225041}{ClipYCLIP};
377     Move( nw->RPort, gd->LeftEdge + (nw->Width + gd->Width) + 8,
378         gd->TopEdge + nw->RPort->TxBaseline );
379     Text( nw->RPort, buf, strlen( buf ) );
380 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\hypertarget{winreq_8c_ad3d523ee67e85337f3fc19e7676f0282}{\index{winreq.\+c@{winreq.\+c}!amii\+\_\+colnames@{amii\+\_\+colnames}}
\index{amii\+\_\+colnames@{amii\+\_\+colnames}!winreq.\+c@{winreq.\+c}}
\subsubsection[{amii\+\_\+colnames}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf C\+O\+L\+D\+E\+F} amii\+\_\+colnames\mbox{[}{\bf A\+M\+I\+I\+\_\+\+M\+A\+X\+C\+O\+L\+O\+R\+S}\mbox{]}}}\label{winreq_8c_ad3d523ee67e85337f3fc19e7676f0282}
{\bfseries Initial value\+:}
\begin{DoxyCode}
=
\{
    \textcolor{stringliteral}{"Black"},\textcolor{stringliteral}{"(000)"},
    \textcolor{stringliteral}{"White"},\textcolor{stringliteral}{"(fff)"},
    \textcolor{stringliteral}{"Brown"},\textcolor{stringliteral}{"(830)"},
    \textcolor{stringliteral}{"Cyan"},\textcolor{stringliteral}{"(7ac)"},
    \textcolor{stringliteral}{"Green"},\textcolor{stringliteral}{"(181)"},
    \textcolor{stringliteral}{"Magenta"},\textcolor{stringliteral}{"(c06)"},
    \textcolor{stringliteral}{"Blue"},\textcolor{stringliteral}{"(23e)"},
    \textcolor{stringliteral}{"Red"},\textcolor{stringliteral}{"(c00)"},
\}
\end{DoxyCode}


Definition at line 677 of file winreq.\+c.

\hypertarget{winreq_8c_a7e9a644e2ecc7e3b41612d65612e6d5e}{\index{winreq.\+c@{winreq.\+c}!amiv\+\_\+colnames@{amiv\+\_\+colnames}}
\index{amiv\+\_\+colnames@{amiv\+\_\+colnames}!winreq.\+c@{winreq.\+c}}
\subsubsection[{amiv\+\_\+colnames}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf C\+O\+L\+D\+E\+F} amiv\+\_\+colnames\mbox{[}{\bf A\+M\+I\+I\+\_\+\+M\+A\+X\+C\+O\+L\+O\+R\+S}\mbox{]}}}\label{winreq_8c_a7e9a644e2ecc7e3b41612d65612e6d5e}


Definition at line 689 of file winreq.\+c.

\hypertarget{winreq_8c_a1e14c45b3bd984ebc02f913e761eb319}{\index{winreq.\+c@{winreq.\+c}!Border1@{Border1}}
\index{Border1@{Border1}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Border1}]{\setlength{\rightskip}{0pt plus 5cm}struct Border Border1 = \{ -\/1,-\/1, 3,0,J\+A\+M1, 5, {\bf Border\+Vectors1}, {\bf N\+U\+L\+L} \}}}\label{winreq_8c_a1e14c45b3bd984ebc02f913e761eb319}


Definition at line 18 of file winreq.\+c.

\hypertarget{winreq_8c_a57013895180c8728e3091d870ff7dfd8}{\index{winreq.\+c@{winreq.\+c}!Border2@{Border2}}
\index{Border2@{Border2}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Border2}]{\setlength{\rightskip}{0pt plus 5cm}struct Border Border2 = \{ -\/1,-\/1, 3,0,J\+A\+M1, 5, {\bf Border\+Vectors2}, {\bf N\+U\+L\+L} \}}}\label{winreq_8c_a57013895180c8728e3091d870ff7dfd8}


Definition at line 29 of file winreq.\+c.

\hypertarget{winreq_8c_a1381d91aade7627f31ecd17317b7c353}{\index{winreq.\+c@{winreq.\+c}!Border\+Vectors1@{Border\+Vectors1}}
\index{Border\+Vectors1@{Border\+Vectors1}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Border\+Vectors1}]{\setlength{\rightskip}{0pt plus 5cm}S\+H\+O\+R\+T Border\+Vectors1\mbox{[}$\,$\mbox{]} = \{ 0,0, 57,0, 57,11, 0,11, 0,0 \}}}\label{winreq_8c_a1381d91aade7627f31ecd17317b7c353}


Definition at line 17 of file winreq.\+c.



Referenced by amii\+\_\+init\+\_\+nhwindows().

\hypertarget{winreq_8c_a84e8d4156ff66493213a02bcdc659a50}{\index{winreq.\+c@{winreq.\+c}!Border\+Vectors2@{Border\+Vectors2}}
\index{Border\+Vectors2@{Border\+Vectors2}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Border\+Vectors2}]{\setlength{\rightskip}{0pt plus 5cm}S\+H\+O\+R\+T Border\+Vectors2\mbox{[}$\,$\mbox{]} = \{ 0,0, 439,0, 439,11, 0,11, 0,0 \}}}\label{winreq_8c_a84e8d4156ff66493213a02bcdc659a50}


Definition at line 28 of file winreq.\+c.



Referenced by amii\+\_\+init\+\_\+nhwindows().

\hypertarget{winreq_8c_ae33165f9a2f6158045b42e35c9b17ad9}{\index{winreq.\+c@{winreq.\+c}!Gadget2@{Gadget2}}
\index{Gadget2@{Gadget2}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Gadget2}]{\setlength{\rightskip}{0pt plus 5cm}struct Gadget Gadget2}}\label{winreq_8c_ae33165f9a2f6158045b42e35c9b17ad9}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 9,15, 56,10, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, RELVERIFY, BOOLGADGET, (APTR)&\hyperlink{winreq_8c_a1e14c45b3bd984ebc02f913e761eb319}{Border1},
    NULL, &\hyperlink{winreq_8c_acb318cf197379a7468e980260d088469}{IText1}, NULL, NULL, 1, NULL
\}
\end{DoxyCode}


Definition at line 20 of file winreq.\+c.

\hypertarget{winreq_8c_acb318cf197379a7468e980260d088469}{\index{winreq.\+c@{winreq.\+c}!I\+Text1@{I\+Text1}}
\index{I\+Text1@{I\+Text1}!winreq.\+c@{winreq.\+c}}
\subsubsection[{I\+Text1}]{\setlength{\rightskip}{0pt plus 5cm}struct Intui\+Text I\+Text1 = \{ 3,0,J\+A\+M1, 4,1, {\bf N\+U\+L\+L}, ({\bf U\+B\+Y\+T\+E} $\ast$)\char`\"{}Cancel\char`\"{}, N\+U\+L\+L \}}}\label{winreq_8c_acb318cf197379a7468e980260d088469}


Definition at line 19 of file winreq.\+c.

\hypertarget{winreq_8c_a390a5f3d86203009670d84592ac44102}{\index{winreq.\+c@{winreq.\+c}!String@{String}}
\index{String@{String}!winreq.\+c@{winreq.\+c}}
\subsubsection[{String}]{\setlength{\rightskip}{0pt plus 5cm}struct Gadget String}}\label{winreq_8c_a390a5f3d86203009670d84592ac44102}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    &\hyperlink{winreq_8c_ae33165f9a2f6158045b42e35c9b17ad9}{Gadget2}, 77,15, 438,10, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, RELVERIFY+STRINGCENTER, STRGADGET,
    (APTR)&\hyperlink{winreq_8c_a57013895180c8728e3091d870ff7dfd8}{Border2}, NULL, NULL, NULL, (APTR)&\hyperlink{winreq_8c_ade42a729d5f0cdf653d9ee52d9498090}{StrStringSInfo}, 2, NULL
\}
\end{DoxyCode}


Definition at line 30 of file winreq.\+c.



Referenced by Get\+Dialog\+Response(), msgkey(), nh\+Cvt\+String\+To\+Pixel(), nh\+Free\+Pixel(), reset\+\_\+menu\+\_\+to\+\_\+default(), X11\+\_\+getlin(), X11\+\_\+init\+\_\+nhwindows(), and X11\+\_\+select\+\_\+menu().

\hypertarget{winreq_8c_aa8466423b14b92c751f6d5b6b0ef361c}{\index{winreq.\+c@{winreq.\+c}!Str\+String\+S\+I\+Buff@{Str\+String\+S\+I\+Buff}}
\index{Str\+String\+S\+I\+Buff@{Str\+String\+S\+I\+Buff}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Str\+String\+S\+I\+Buff}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U\+B\+Y\+T\+E} Str\+String\+S\+I\+Buff\mbox{[}300\mbox{]}}}\label{winreq_8c_aa8466423b14b92c751f6d5b6b0ef361c}


Definition at line 24 of file winreq.\+c.

\hypertarget{winreq_8c_ade42a729d5f0cdf653d9ee52d9498090}{\index{winreq.\+c@{winreq.\+c}!Str\+String\+S\+Info@{Str\+String\+S\+Info}}
\index{Str\+String\+S\+Info@{Str\+String\+S\+Info}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Str\+String\+S\+Info}]{\setlength{\rightskip}{0pt plus 5cm}struct String\+Info Str\+String\+S\+Info}}\label{winreq_8c_ade42a729d5f0cdf653d9ee52d9498090}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    \hyperlink{winreq_8c_aa8466423b14b92c751f6d5b6b0ef361c}{StrStringSIBuff}, \hyperlink{winreq_8c_aa81a4c4fa2c44bb7b58e03515f20da1a}{UNDOBUFFER}, 0, 300, 0, 0,0,0,0,0, 0, 0, 
      \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}
\}
\end{DoxyCode}


Definition at line 25 of file winreq.\+c.

\hypertarget{winreq_8c_ae265d659b782e056634b435548b53c1e}{\index{winreq.\+c@{winreq.\+c}!Str\+Window@{Str\+Window}}
\index{Str\+Window@{Str\+Window}!winreq.\+c@{winreq.\+c}}
\subsubsection[{Str\+Window}]{\setlength{\rightskip}{0pt plus 5cm}struct New\+Window Str\+Window}}\label{winreq_8c_ae265d659b782e056634b435548b53c1e}
{\bfseries Initial value\+:}
\begin{DoxyCode}
= \{
    57,74, 526,31, 0,1, GADGETUP+CLOSEWINDOW+ACTIVEWINDOW+VANILLAKEY,
    WINDOWDRAG+WINDOWDEPTH+WINDOWCLOSE+ACTIVATE+NOCAREREFRESH,
    &\hyperlink{winreq_8c_a390a5f3d86203009670d84592ac44102}{String}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, \hyperlink{windefs_8h_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}, 5,5, 0xffff,0xffff, CUSTOMSCREEN
\}
\end{DoxyCode}


Definition at line 38 of file winreq.\+c.

\hypertarget{winreq_8c_aa81a4c4fa2c44bb7b58e03515f20da1a}{\index{winreq.\+c@{winreq.\+c}!U\+N\+D\+O\+B\+U\+F\+F\+E\+R@{U\+N\+D\+O\+B\+U\+F\+F\+E\+R}}
\index{U\+N\+D\+O\+B\+U\+F\+F\+E\+R@{U\+N\+D\+O\+B\+U\+F\+F\+E\+R}!winreq.\+c@{winreq.\+c}}
\subsubsection[{U\+N\+D\+O\+B\+U\+F\+F\+E\+R}]{\setlength{\rightskip}{0pt plus 5cm}{\bf U\+B\+Y\+T\+E} U\+N\+D\+O\+B\+U\+F\+F\+E\+R\mbox{[}300\mbox{]}}}\label{winreq_8c_aa81a4c4fa2c44bb7b58e03515f20da1a}


Definition at line 16 of file winreq.\+c.

